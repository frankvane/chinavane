(()=>{"use strict";const getStoredTheme=()=>localStorage.getItem("theme"),setThemeIcon=theme=>{const iconPathPrefix=`/images/${theme}/`,updateIcons=(className,iconName)=>{const icons=document.getElementsByClassName(className);for(const icon of icons)icon.src=iconPathPrefix+iconName};updateIcons("right-icon","right.svg"),updateIcons("clock-icon","clock.svg"),updateIcons("chapter-icon","chapter.svg"),updateIcons("download-icon","download.svg")},getPreferredTheme=()=>{const storedTheme=getStoredTheme();return setThemeIcon(storedTheme),storedTheme||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},setTheme=theme=>{"auto"===theme?document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"):document.documentElement.setAttribute("data-bs-theme",theme),setThemeIcon(theme)};setTheme(getPreferredTheme());const showActiveTheme=(theme,focus=!1)=>{const themeSwitcher=document.querySelector("#bd-theme");if(!themeSwitcher)return;const themeSwitcherText=document.querySelector("#bd-theme-text"),activeThemeIcon=document.querySelector(".theme-icon-active use"),btnToActive=document.querySelector(`[data-bs-theme-value="${theme}"]`),svgOfActiveBtn=btnToActive.querySelector("svg use").getAttribute("href");document.querySelectorAll("[data-bs-theme-value]").forEach((element=>{element.classList.remove("active"),element.setAttribute("aria-pressed","false")})),btnToActive.classList.add("active"),btnToActive.setAttribute("aria-pressed","true"),activeThemeIcon.setAttribute("href",svgOfActiveBtn);const themeSwitcherLabel=`${themeSwitcherText.textContent} (${btnToActive.dataset.bsThemeValue})`;themeSwitcher.setAttribute("aria-label",themeSwitcherLabel),focus&&themeSwitcher.focus()};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>{const storedTheme=getStoredTheme();"light"!==storedTheme&&"dark"!==storedTheme&&setTheme(getPreferredTheme())})),window.addEventListener("DOMContentLoaded",(()=>{showActiveTheme(getPreferredTheme()),document.querySelectorAll("[data-bs-theme-value]").forEach((toggle=>{toggle.addEventListener("click",(()=>{const theme=toggle.getAttribute("data-bs-theme-value");(theme=>{localStorage.setItem("theme",theme)})(theme),setTheme(theme),showActiveTheme(theme,!0)}))}))}))})();