import{r as o,j as s}from"./index-HctDrVfM.js";import{w as d,D as x,F as u}from"./withPlugins-iAp0mbtK.js";import{c as f}from"./ImagePreviewPlugin-xdHx62NE.js";import{c as v}from"./PdfPreviewPlugin-CXiO0ygE.js";import{c as g}from"./VideoPreviewPlugin-_MwPGyOQ.js";import{c as w}from"./AudioPreviewPlugin-Cod6an9V.js";import{c as y}from"./index-DgXBPc2w.js";import{c as z}from"./MarkdownPreviewPlugin-ClGGnWiH.js";import{c as h,a as P,b,d as j,e as M}from"./PptxPreviewPlugin-DwAMzXbf.js";import{c as S}from"./SimpleReactReaderEpubPlugin-BiMr84c2.js";import{c as D}from"./CsvPreviewPlugin-PaskS7CT.js";import{c as k}from"./JsonPreviewPlugin-RGwLEkme.js";import{c as O}from"./ZipPreviewPlugin-m0xy6XHz.js";import"./tomorrow-CRMQJKJ-.js";import"./ToolbarComponents-CDtc1__A.js";import"./index-Bvggk2O-.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./jszip.min-Cc1B5_zU.js";const p=[{name:"sample.svg",size:2*1024,type:"image/svg+xml",extension:".svg",url:"./sample.svg"},{name:"sample.jpg",size:44*1024,type:"image/jpeg",extension:".jpg",url:"./sample.jpg"},{name:"sample.png",size:132*1024,type:"image/png",extension:".png",url:"./sample.png"},{name:"sample.gif",size:102*1024,type:"image/gif",extension:".gif",url:"./sample.gif"},{name:"白屏问题的处理",size:107*1024,type:"application/pdf",extension:".pdf",url:"./white-screen.pdf"},{name:"弹幕操作",size:241*1024,type:"application/pdf",extension:".pdf",url:"./danmu.pdf"},{name:"STAR法则",size:101*1024,type:"application/pdf",extension:".pdf",url:"./star.pdf"},{name:"mp4 sample",size:2440*1024,type:"video/mp4",extension:".mp4",url:"./sample.mp4"},{name:"webm sample",size:2115*1024,type:"video/webm",extension:".webm",url:"./sample.webm"},{name:"flv sample",size:1031*1024,type:"video/flv",extension:".flv",url:"./sample.flv"},{name:"mp3 sample",size:2995*1024,type:"audio/mpeg",extension:".mp3",url:"./sample.mp3"},{name:"wav sample",size:1024*1024,type:"audio/wav",extension:".wav",url:"./sample.wav"},{name:"ogg sample",size:1695*1024,type:"audio/ogg",extension:".ogg",url:"./sample.ogg"},{name:"sample.tsx",size:6*1024,type:"text/typescript",extension:".tsx",url:"./sample.tsx"},{name:"sample.js",size:2*1024,type:"text/javascript",extension:".js",url:"./sample.js"},{name:"sample.css",size:2*1024,type:"text/css",extension:".css",url:"./sample.css"},{name:"sample.ts",size:2*1024,type:"text/typescript",extension:".ts",url:"./sample.ts"},{name:"sample.html",size:7*1024,type:"text/html",extension:".html",url:"./sample.html"},{name:"sample.md",size:188*1024,type:"text/markdown",extension:".md",url:"./sample.md"},{name:"sample-online.docx",size:100*1024,type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:".docx",url:"https://chinavane.netlify.app/test.docx",previewMode:"online"},{name:"sample-mammoth.docx",size:21*1024,type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:".docx",url:"./sample.docx",previewMode:"offline",docxMode:"mammoth"},{name:"sample-docx-preview.docx",size:21*1024,type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:".docx",url:"./sample.docx",previewMode:"offline",docxMode:"docx-preview"},{name:"sample.xlsx",size:13*1024,type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:".xlsx",url:"./sample.xlsx"},{name:"sample.pptx",size:2042*1024,type:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:".pptx",url:"./sample.pptx"},{name:"sample-data.csv",size:2048,type:"text/csv",extension:".csv",url:"./sample-data.csv"},{name:"sales-data.tsv",size:1536,type:"text/tab-separated-values",extension:".tsv",url:"./sales-data.tsv"},{name:"sample-data-semicolon.csv",size:1024,type:"text/csv",extension:".csv",url:"./sample-data-semicolon.csv"},{name:"sample-data-pipe.csv",size:896,type:"text/csv",extension:".csv",url:"./sample-data-pipe.csv"},{name:"mixed-data.csv",size:512,type:"text/csv",extension:".csv",url:"./mixed-data.csv"},{name:"sample.json",size:2*1024,type:"application/json",extension:".json",url:"./sample.json"},{name:"package.json",size:1*1024,type:"application/json",extension:".json",url:"./package.json"},{name:"sample.zip",size:96*1024,type:"application/zip",extension:".zip",url:"./sample.zip"},{name:"sample.epub",size:185*1024,type:"application/epub+zip",extension:".epub",url:"./sample.epub"}];function q(){const[e,l]=o.useState(p[0]),[n,r]=o.useState(!1),m=o.useMemo(()=>{const i=e.previewMode==="online",t=e.previewMode==="offline",a=e.docxMode||"mammoth",c=[f(),v(),g({controls:!0}),w({controls:!0}),y({showLineNumbers:!0}),z(),h({enabled:t&&a==="mammoth"}),P({enabled:t&&a==="docx-preview"}),b(),j(),S(),D({pageSize:20,maxPreviewRows:500,autoDetectDelimiter:!0,autoDetectEncoding:!0}),k({maxFileSize:10*1024*1024,enableSearch:!0,enableCopy:!0,theme:"light",collapsed:2}),M({preferDocxOnline:i||!t&&n,viewer:"google"}),O()];return d(u,c)},[n,e]);return s.jsx(x,{title:"综合示例",description:"展示所有文件预览功能，包括图片、PDF、视频、音频、代码、Markdown、Office文档、CSV、JSON、ZIP、EPUB等文件类型的预览",children:s.jsxs("div",{style:{display:"flex",height:"600px",gap:16,padding:16,boxSizing:"border-box"},children:[s.jsxs("div",{style:{width:240,background:"#f5f5f5",borderRadius:8,padding:16,overflow:"auto",flexShrink:0},children:[s.jsx("h3",{style:{margin:"0 0 16px",fontSize:16},children:"Files"}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:p.map((i,t)=>s.jsxs("button",{onClick:()=>l(i),style:{padding:"12px 16px",background:e.name===i.name?"#2196f3":"#fff",color:e.name===i.name?"#fff":"#333",border:"1px solid #ddd",borderRadius:6,textAlign:"left",cursor:"pointer",transition:"all 0.2s",fontSize:14},children:[s.jsx("div",{style:{fontWeight:500},children:i.name}),s.jsxs("div",{style:{fontSize:12,marginTop:4,opacity:.8},children:[i.extension," • ",(i.size/1024).toFixed(0)," KB"]})]},t))})]}),s.jsxs("div",{style:{flex:1,background:"#fff",borderRadius:8,overflow:"hidden",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[e.extension.toLowerCase()===".docx"&&!e.previewMode&&s.jsx("div",{style:{padding:8,borderBottom:"1px solid #eee"},children:s.jsxs("label",{style:{fontSize:12,color:"#555"},children:[s.jsx("input",{type:"checkbox",checked:n,onChange:i=>r(i.target.checked),style:{marginRight:8}}),"Prefer online viewer for DOCX (Office Online)"]})}),e.extension.toLowerCase()===".docx"&&e.previewMode&&s.jsxs("div",{style:{padding:8,borderBottom:"1px solid #eee",background:e.previewMode==="online"?"#e3f2fd":"#f3e5f5",fontSize:12,color:"#555"},children:["📄"," ",e.previewMode==="online"?"在线预览 (Office Online)":`离线预览 (${e.docxMode==="mammoth"?"Mammoth":"docx-preview"})`]}),s.jsx(m,{file:e})]})]})})}export{q as default};
