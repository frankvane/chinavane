import{j as e}from"./index-HctDrVfM.js";import{M as l,r as a}from"./index-Bvggk2O-.js";import{h as s,t as u}from"./tomorrow-CRMQJKJ-.js";const c=`# ğŸ—‚ï¸ Vane File Preview\r
\r
ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ã€é«˜åº¦å¯æ‰©å±•çš„ React æ–‡ä»¶é¢„è§ˆç»„ä»¶åº“\r
\r
[![NPM Version](https://img.shields.io/badge/npm-v1.0.0-blue)](https://www.npmjs.com/package/vane-file-preview)\r
[![License](https://img.shields.io/badge/license-MIT-green)](./LICENSE)\r
[![TypeScript](https://img.shields.io/badge/TypeScript-5.x-blue)](https://www.typescriptlang.org/)\r
[![React](https://img.shields.io/badge/React-18.x-blue)](https://reactjs.org/)\r
\r
[åœ¨çº¿æ¼”ç¤º](https://chinavane.netlify.app/) | [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹) | [æ’ä»¶åˆ—è¡¨](#æ’ä»¶åˆ—è¡¨) | [API æ–‡æ¡£](#api-æ–‡æ¡£)\r
\r
---\r
\r
## âœ¨ æ ¸å¿ƒç‰¹æ€§\r
\r
### ğŸ”Œ **æ’ä»¶åŒ–æ¶æ„**\r
\r
- åŸºäºäº‹ä»¶æ€»çº¿çš„æ’ä»¶ç³»ç»Ÿï¼Œæ”¯æŒçµæ´»ç»„åˆ\r
- 15+ å†…ç½®é¢„è§ˆæ’ä»¶ï¼Œè¦†ç›–ä¸»æµæ–‡ä»¶æ ¼å¼\r
- æ˜“äºæ‰©å±•ï¼Œæ”¯æŒè‡ªå®šä¹‰æ’ä»¶å¼€å‘\r
\r
### ğŸ“„ **ä¸°å¯Œçš„æ–‡ä»¶æ ¼å¼æ”¯æŒ**\r
\r
- **æ–‡æ¡£ç±»**ï¼šPDFã€Word (DOCX)ã€PowerPoint (PPTX)ã€Excel (XLSX)ã€Markdownã€EPUB\r
- **ä»£ç ç±»**ï¼šJavaScriptã€TypeScriptã€Pythonã€Javaã€CSSã€HTML ç­‰ 180+ è¯­è¨€\r
- **æ•°æ®ç±»**ï¼šJSONã€CSVã€TSV ç­‰ç»“æ„åŒ–æ•°æ®\r
- **åª’ä½“ç±»**ï¼šå›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘\r
- **å‹ç¼©åŒ…**ï¼šZIP æ–‡ä»¶å†…å®¹é¢„è§ˆ\r
\r
### âš¡ **æ€§èƒ½ä¼˜åŒ–**\r
\r
- æ‡’åŠ è½½æœºåˆ¶ï¼ŒæŒ‰éœ€æ¸²æŸ“\r
- è™šæ‹Ÿæ»šåŠ¨æ”¯æŒå¤§æ–‡ä»¶é¢„è§ˆ\r
- å†…å­˜ç¼“å­˜ä¼˜åŒ–\r
- æ”¯æŒæ–‡ä»¶æµå¼åŠ è½½\r
- å“åº”å¼è®¾è®¡ï¼Œé€‚é…å„ç§å±å¹•å°ºå¯¸\r
\r
### ğŸ›¡ï¸ **ç¨³å¥æ€§**\r
\r
- å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶\r
- æ–‡ä»¶æ ¼å¼è‡ªåŠ¨æ£€æµ‹\r
- é™çº§é¢„è§ˆç­–ç•¥\r
- TypeScript ç±»å‹å®‰å…¨\r
\r
### ğŸ¨ **ç”¨æˆ·ä½“éªŒ**\r
\r
- ç»Ÿä¸€çš„é¢„è§ˆç•Œé¢è®¾è®¡\r
- ä¸»é¢˜åˆ‡æ¢æ”¯æŒï¼ˆäº®è‰²/æš—è‰²/è‡ªåŠ¨ï¼‰\r
- è¯­æ³•é«˜äº®ã€ä»£ç æŠ˜å \r
- æœç´¢ã€å¯¼èˆªã€ç¼©æ”¾ç­‰äº¤äº’åŠŸèƒ½\r
- å¯è®¿é—®æ€§æ”¯æŒ\r
\r
---\r
\r
## ğŸ“¦ å®‰è£…\r
\r
### NPM / Yarn / PNPM\r
\r
\`\`\`bash\r
# npm\r
npm install vane-file-preview\r
\r
# yarn\r
yarn add vane-file-preview\r
\r
# pnpm\r
pnpm add vane-file-preview\r
\`\`\`\r
\r
### æœ¬åœ°å¼€å‘\r
\r
å¦‚æœæ‚¨æƒ³æœ¬åœ°è¿è¡Œæ¼”ç¤ºç«™ç‚¹æˆ–è¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼š\r
\r
\`\`\`bash\r
# å…‹éš†ä»“åº“\r
git clone https://github.com/frankvane/vane-file-preview.git\r
\r
# è¿›å…¥é¡¹ç›®ç›®å½•\r
cd vane-file-preview\r
\r
# å®‰è£…ä¾èµ–\r
npm install\r
\r
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨\r
npm run dev\r
\r
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬\r
npm run build\r
\r
# é¢„è§ˆæ„å»ºäº§ç‰©\r
npm run preview\r
\`\`\`\r
\r
---\r
\r
## ğŸš€ å¿«é€Ÿå¼€å§‹\r
\r
### åŸºç¡€ä½¿ç”¨\r
\r
æœ€ç®€å•çš„ä½¿ç”¨æ–¹å¼ï¼Œä¸å¸¦ä»»ä½•æ’ä»¶ï¼š\r
\r
\`\`\`tsx\r
import { FilePreviewCore } from "vane-file-preview";\r
\r
function App() {\r
  const fileInfo = {\r
    name: "example.pdf",\r
    url: "/path/to/example.pdf",\r
    size: 1024000,\r
    type: "application/pdf",\r
  };\r
\r
  return (\r
    <div style={{ width: "100%", height: "600px" }}>\r
      <FilePreviewCore\r
        file={fileInfo}\r
        onLoadStart={() => console.log("å¼€å§‹åŠ è½½")}\r
        onLoadSuccess={() => console.log("åŠ è½½æˆåŠŸ")}\r
        onLoadError={(error) => console.error("åŠ è½½å¤±è´¥", error)}\r
      />\r
    </div>\r
  );\r
}\r
\`\`\`\r
\r
### ä½¿ç”¨æ’ä»¶\r
\r
é€šè¿‡ \`withPlugins\` é«˜é˜¶ç»„ä»¶ç»„åˆå¤šä¸ªé¢„è§ˆæ’ä»¶ï¼š\r
\r
\`\`\`tsx\r
import {\r
  FilePreviewCore,\r
  withPlugins,\r
  createPdfPreviewPlugin,\r
  createImagePreviewPlugin,\r
  createJsonPreviewPlugin,\r
} from "vane-file-preview";\r
\r
// ç»„åˆæ’ä»¶\r
const FilePreview = withPlugins(FilePreviewCore, [\r
  createPdfPreviewPlugin({\r
    enableTextSelection: true,\r
    scale: 1.2,\r
  }),\r
  createImagePreviewPlugin({\r
    enableZoom: true,\r
    enableRotation: true,\r
  }),\r
  createJsonPreviewPlugin({\r
    theme: "auto",\r
    enableSearch: true,\r
    collapsed: false,\r
  }),\r
]);\r
\r
function App() {\r
  const fileInfo = {\r
    name: "data.json",\r
    url: "/path/to/data.json",\r
    size: 2048,\r
    type: "application/json",\r
  };\r
\r
  return (\r
    <div style={{ width: "100%", height: "600px" }}>\r
      <FilePreview\r
        file={fileInfo}\r
        containerStyle={{ border: "1px solid #ddd", borderRadius: 8 }}\r
      />\r
    </div>\r
  );\r
}\r
\`\`\`\r
\r
### å®Œæ•´ç¤ºä¾‹ï¼šå¤šæ ¼å¼æ–‡ä»¶é¢„è§ˆå™¨\r
\r
\`\`\`tsx\r
import {\r
  FilePreviewCore,\r
  withPlugins,\r
  createPdfPreviewPlugin,\r
  createImagePreviewPlugin,\r
  createJsonPreviewPlugin,\r
  createCodePreviewPlugin,\r
  createMarkdownPreviewPlugin,\r
  createDocxPreviewPlugin,\r
  createXlsxPreviewPlugin,\r
  createVideoPreviewPlugin,\r
  createAudioPreviewPlugin,\r
  createZipPreviewPlugin,\r
} from "vane-file-preview";\r
\r
const UniversalFilePreview = withPlugins(FilePreviewCore, [\r
  // æ–‡æ¡£é¢„è§ˆ\r
  createPdfPreviewPlugin(),\r
  createDocxPreviewPlugin(),\r
  createXlsxPreviewPlugin(),\r
\r
  // ä»£ç é¢„è§ˆ\r
  createCodePreviewPlugin({\r
    theme: "github",\r
    showLineNumbers: true,\r
    enableCodeFolding: true,\r
  }),\r
  createMarkdownPreviewPlugin({\r
    enableMath: true,\r
    enableMermaid: true,\r
  }),\r
\r
  // æ•°æ®é¢„è§ˆ\r
  createJsonPreviewPlugin({\r
    theme: "auto",\r
    enableSearch: true,\r
  }),\r
\r
  // åª’ä½“é¢„è§ˆ\r
  createImagePreviewPlugin({\r
    enableZoom: true,\r
    enableRotation: true,\r
  }),\r
  createVideoPreviewPlugin({\r
    controls: true,\r
    autoplay: false,\r
  }),\r
  createAudioPreviewPlugin({\r
    showPlaylist: true,\r
  }),\r
\r
  // å‹ç¼©åŒ…é¢„è§ˆ\r
  createZipPreviewPlugin({\r
    maxDepth: 3,\r
    showFileSize: true,\r
  }),\r
]);\r
\r
export default function FilePreviewDemo() {\r
  const [selectedFile, setSelectedFile] = useState(null);\r
\r
  const handleFileSelect = (event) => {\r
    const file = event.target.files[0];\r
    if (file) {\r
      setSelectedFile({\r
        name: file.name,\r
        url: URL.createObjectURL(file),\r
        size: file.size,\r
        type: file.type,\r
      });\r
    }\r
  };\r
\r
  return (\r
    <div style={{ padding: 20 }}>\r
      <input\r
        type="file"\r
        onChange={handleFileSelect}\r
        style={{ marginBottom: 20 }}\r
      />\r
\r
      {selectedFile && (\r
        <div style={{ height: 600, border: "1px solid #ddd", borderRadius: 8 }}>\r
          <UniversalFilePreview\r
            file={selectedFile}\r
            onLoadError={(error) => {\r
              console.error("æ–‡ä»¶é¢„è§ˆå¤±è´¥:", error);\r
              alert("æ–‡ä»¶é¢„è§ˆå¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶æ ¼å¼æ˜¯å¦æ”¯æŒ");\r
            }}\r
          />\r
        </div>\r
      )}\r
    </div>\r
  );\r
}\r
\`\`\`\r
\r
---\r
\r
## ğŸ“š æ’ä»¶åˆ—è¡¨\r
\r
æœ¬é¡¹ç›®æä¾› 15+ ä¸ªå¼€ç®±å³ç”¨çš„é¢„è§ˆæ’ä»¶ï¼ŒæŒ‰æ–‡ä»¶ç±»å‹åˆ†ç±»å¦‚ä¸‹ï¼š\r
\r
### ğŸ“„ æ–‡æ¡£é¢„è§ˆæ’ä»¶\r
\r
| æ’ä»¶                          | æ”¯æŒæ ¼å¼ | ä¸»è¦åŠŸèƒ½                          |\r
| ----------------------------- | -------- | --------------------------------- |\r
| \`createPdfPreviewPlugin\`      | PDF      | é¡µé¢å¯¼èˆªã€ç¼©æ”¾ã€æ–‡æœ¬é€‰æ‹©ã€æœç´¢    |\r
| \`createDocxPreviewPlugin\`     | DOCX     | æ–‡æ¡£æ¸²æŸ“ã€æ ·å¼ä¿æŒã€å›¾ç‰‡æ˜¾ç¤º      |\r
| \`createXlsxPreviewPlugin\`     | XLSX     | è¡¨æ ¼é¢„è§ˆã€å·¥ä½œè¡¨åˆ‡æ¢ã€æ•°æ®ç­›é€‰    |\r
| \`createMarkdownPreviewPlugin\` | MD       | Markdown æ¸²æŸ“ã€æ•°å­¦å…¬å¼ã€ä»£ç é«˜äº® |\r
| \`createEpubPreviewPlugin\`     | EPUB     | ç”µå­ä¹¦é˜…è¯»ã€ç« èŠ‚å¯¼èˆªã€å­—ä½“è°ƒèŠ‚    |\r
\r
### ğŸ’» ä»£ç é¢„è§ˆæ’ä»¶\r
\r
| æ’ä»¶                      | æ”¯æŒæ ¼å¼  | ä¸»è¦åŠŸèƒ½                           |\r
| ------------------------- | --------- | ---------------------------------- |\r
| \`createCodePreviewPlugin\` | 180+ è¯­è¨€ | è¯­æ³•é«˜äº®ã€è¡Œå·ã€ä»£ç æŠ˜å ã€ä¸»é¢˜åˆ‡æ¢ |\r
| \`createJsonPreviewPlugin\` | JSON      | ç»“æ„åŒ–æ˜¾ç¤ºã€æœç´¢ã€æŠ˜å ã€ä¸»é¢˜åˆ‡æ¢   |\r
\r
### ğŸ“Š æ•°æ®é¢„è§ˆæ’ä»¶\r
\r
| æ’ä»¶                     | æ”¯æŒæ ¼å¼ | ä¸»è¦åŠŸèƒ½                   |\r
| ------------------------ | -------- | -------------------------- |\r
| \`createCsvPreviewPlugin\` | CSV/TSV  | è¡¨æ ¼æ˜¾ç¤ºã€åˆ†é¡µã€æ’åºã€ç­›é€‰ |\r
\r
### ğŸ–¼ï¸ åª’ä½“é¢„è§ˆæ’ä»¶\r
\r
| æ’ä»¶                       | æ”¯æŒæ ¼å¼        | ä¸»è¦åŠŸèƒ½                     |\r
| -------------------------- | --------------- | ---------------------------- |\r
| \`createImagePreviewPlugin\` | JPG/PNG/GIF/SVG | ç¼©æ”¾ã€æ—‹è½¬ã€å…¨å±æŸ¥çœ‹         |\r
| \`createVideoPreviewPlugin\` | MP4/WebM/OGV    | æ’­æ”¾æ§åˆ¶ã€è¿›åº¦æ¡ã€éŸ³é‡è°ƒèŠ‚   |\r
| \`createAudioPreviewPlugin\` | MP3/WAV/OGG     | éŸ³é¢‘æ’­æ”¾ã€æ³¢å½¢æ˜¾ç¤ºã€æ’­æ”¾åˆ—è¡¨ |\r
\r
### ğŸ—œï¸ å‹ç¼©åŒ…é¢„è§ˆæ’ä»¶\r
\r
| æ’ä»¶                     | æ”¯æŒæ ¼å¼ | ä¸»è¦åŠŸèƒ½                   |\r
| ------------------------ | -------- | -------------------------- |\r
| \`createZipPreviewPlugin\` | ZIP      | æ–‡ä»¶åˆ—è¡¨ã€ç›®å½•æ ‘ã€æ–‡ä»¶æå– |\r
\r
### ğŸ”§ é€šç”¨æ’ä»¶\r
\r
| æ’ä»¶                        | è¯´æ˜         |\r
| --------------------------- | ------------ |\r
| \`createDownloadPlugin\`      | æ–‡ä»¶ä¸‹è½½åŠŸèƒ½ |\r
| \`createErrorBoundaryPlugin\` | é”™è¯¯è¾¹ç•Œå¤„ç† |\r
| \`createLoadingPlugin\`       | åŠ è½½çŠ¶æ€æ˜¾ç¤º |\r
\r
> ğŸ’¡ **æç¤º**ï¼šæ‰€æœ‰æ’ä»¶éƒ½å¯ä»¥é€šè¿‡ \`vane-file-preview\` åŒ…å¯¼å…¥ã€‚è¯¦ç»†é…ç½®è¯·å‚è€ƒ [API æ–‡æ¡£](#api-æ–‡æ¡£) æˆ–æŸ¥çœ‹ [åœ¨çº¿æ¼”ç¤º](https://chinavane.netlify.app/)ã€‚\r
\r
---\r
\r
## ğŸ“‚ é¡¹ç›®ç»“æ„\r
\r
\`\`\`\r
vane-file-preview/\r
â”œâ”€â”€ src/\r
â”‚   â”œâ”€â”€ components/\r
â”‚   â”‚   â””â”€â”€ FilePreviewPlugin/\r
â”‚   â”‚       â”œâ”€â”€ core/\r
â”‚   â”‚       â”‚   â””â”€â”€ FilePreviewCore.tsx    # æ ¸å¿ƒç»„ä»¶\r
â”‚   â”‚       â”œâ”€â”€ plugins/\r
â”‚   â”‚       â”‚   â”œâ”€â”€ types.ts               # æ’ä»¶ç±»å‹å®šä¹‰\r
â”‚   â”‚       â”‚   â”œâ”€â”€ PluginBus.ts           # äº‹ä»¶æ€»çº¿\r
â”‚   â”‚       â”‚   â”œâ”€â”€ PluginManager.ts       # æ’ä»¶ç®¡ç†å™¨\r
â”‚   â”‚       â”‚   â”œâ”€â”€ withPlugins.tsx        # HOC ç»„åˆæ–¹æ³•\r
â”‚   â”‚       â”‚   â””â”€â”€ index.ts               # æ’ä»¶ç³»ç»Ÿå¯¼å‡º\r
â”‚   â”‚       â”œâ”€â”€ custom-plugins/             # 15+ è‡ªå®šä¹‰é¢„è§ˆæ’ä»¶\r
â”‚   â”‚       â”‚   â”œâ”€â”€ PdfPreviewPlugin.tsx\r
â”‚   â”‚       â”‚   â”œâ”€â”€ ImagePreviewPlugin.tsx\r
â”‚   â”‚       â”‚   â”œâ”€â”€ JsonPreviewPlugin.tsx\r
â”‚   â”‚       â”‚   â”œâ”€â”€ CodePreviewPlugin.tsx\r
â”‚   â”‚       â”‚   â”œâ”€â”€ MarkdownPreviewPlugin.tsx\r
â”‚   â”‚       â”‚   â”œâ”€â”€ DocxPreviewPlugin.tsx\r
â”‚   â”‚       â”‚   â”œâ”€â”€ XlsxPreviewPlugin.tsx\r
â”‚   â”‚       â”‚   â”œâ”€â”€ VideoPreviewPlugin.tsx\r
â”‚   â”‚       â”‚   â”œâ”€â”€ AudioPreviewPlugin.tsx\r
â”‚   â”‚       â”‚   â”œâ”€â”€ ZipPreviewPlugin.tsx\r
â”‚   â”‚       â”‚   â””â”€â”€ ...\r
â”‚   â”‚       â””â”€â”€ index.ts                   # ç»Ÿä¸€å¯¼å‡º\r
â”‚   â”œâ”€â”€ pages/\r
â”‚   â”‚   â””â”€â”€ FilePreviewPlugin/\r
â”‚   â”‚       â””â”€â”€ Example.tsx                # æ¼”ç¤ºé¡µé¢\r
â”‚   â”œâ”€â”€ App.tsx                            # åº”ç”¨å…¥å£\r
â”‚   â””â”€â”€ main.tsx                           # React å…¥å£\r
â”œâ”€â”€ public/                                # æµ‹è¯•æ–‡ä»¶\r
â”‚   â”œâ”€â”€ example.jpg\r
â”‚   â”œâ”€â”€ sample-data.csv\r
â”‚   â”œâ”€â”€ sample-config.json\r
â”‚   â”œâ”€â”€ test.docx\r
â”‚   â”œâ”€â”€ test.xlsx\r
â”‚   â”œâ”€â”€ typescript.pdf\r
â”‚   â””â”€â”€ ...\r
â”œâ”€â”€ dist/                                  # æ„å»ºäº§ç‰©\r
â”œâ”€â”€ vite.config.ts                         # Vite é…ç½®\r
â”œâ”€â”€ tsconfig.json                          # TypeScript é…ç½®\r
â””â”€â”€ package.json                           # é¡¹ç›®é…ç½®\r
\`\`\`\r
\r
---\r
\r
## ğŸ”§ API æ–‡æ¡£\r
\r
### FilePreviewCore\r
\r
æ ¸å¿ƒæ–‡ä»¶é¢„è§ˆç»„ä»¶ï¼Œæä¾›åŸºç¡€çš„æ–‡ä»¶é¢„è§ˆèƒ½åŠ›ã€‚\r
\r
#### Props\r
\r
\`\`\`typescript\r
interface FilePreviewCoreProps {\r
  // æ–‡ä»¶ä¿¡æ¯ï¼ˆå¿…éœ€ï¼‰\r
  file: FileInfo;\r
\r
  // ç”Ÿå‘½å‘¨æœŸå›è°ƒ\r
  onBeforeLoad?: () => Promise<boolean> | boolean;\r
  onLoadStart?: () => void;\r
  onLoadSuccess?: () => void;\r
  onLoadError?: (error: Error) => void;\r
\r
  // æ¸²æŸ“å¢å¼º\r
  children?: React.ReactNode;\r
\r
  // æ ·å¼\r
  containerStyle?: React.CSSProperties;\r
  containerClassName?: string;\r
  contentStyle?: React.CSSProperties;\r
  contentClassName?: string;\r
\r
  // å¤–éƒ¨ refsï¼ˆä¾›æ’ä»¶ä½¿ç”¨ï¼‰\r
  containerRefExternal?: React.RefObject<HTMLDivElement | null>;\r
  contentRefExternal?: React.RefObject<HTMLDivElement | null>;\r
}\r
\r
interface FileInfo {\r
  name: string; // æ–‡ä»¶å\r
  url: string; // æ–‡ä»¶ URL\r
  size?: number; // æ–‡ä»¶å¤§å°ï¼ˆå­—èŠ‚ï¼‰\r
  type?: string; // MIME ç±»å‹\r
}\r
\`\`\`\r
\r
#### Ref æ–¹æ³•\r
\r
\`\`\`typescript\r
interface FilePreviewCoreRef {\r
  reload: () => void; // é‡æ–°åŠ è½½æ–‡ä»¶\r
  reset: () => void; // é‡ç½®ç»„ä»¶çŠ¶æ€\r
  getState: () => PreviewStateInfo; // è·å–å½“å‰çŠ¶æ€\r
}\r
\`\`\`\r
\r
### withPlugins\r
\r
é«˜é˜¶ç»„ä»¶ï¼Œç”¨äºä¸º FilePreviewCore æ·»åŠ æ’ä»¶åŠŸèƒ½ã€‚\r
\r
\`\`\`typescript\r
function withPlugins<T extends ComponentType<any>>(\r
  Component: T,\r
  plugins: Plugin[]\r
): ComponentType<ComponentProps<T>>;\r
\`\`\`\r
\r
#### ä½¿ç”¨ç¤ºä¾‹\r
\r
\`\`\`typescript\r
import {\r
  FilePreviewCore,\r
  withPlugins,\r
  createPdfPreviewPlugin,\r
} from "vane-file-preview";\r
\r
const EnhancedFilePreview = withPlugins(FilePreviewCore, [\r
  createPdfPreviewPlugin({\r
    enableTextSelection: true,\r
    scale: 1.0,\r
  }),\r
]);\r
\`\`\`\r
\r
### æ’ä»¶é…ç½®\r
\r
#### PDF é¢„è§ˆæ’ä»¶\r
\r
\`\`\`typescript\r
createPdfPreviewPlugin({\r
  enableTextSelection?: boolean;  // å¯ç”¨æ–‡æœ¬é€‰æ‹©ï¼Œé»˜è®¤ true\r
  scale?: number;                 // ç¼©æ”¾æ¯”ä¾‹ï¼Œé»˜è®¤ 1.0\r
  enableNavigation?: boolean;     // å¯ç”¨é¡µé¢å¯¼èˆªï¼Œé»˜è®¤ true\r
  enableSearch?: boolean;         // å¯ç”¨æœç´¢åŠŸèƒ½ï¼Œé»˜è®¤ true\r
})\r
\`\`\`\r
\r
#### JSON é¢„è§ˆæ’ä»¶\r
\r
\`\`\`typescript\r
createJsonPreviewPlugin({\r
  theme?: "light" | "dark" | "auto";  // ä¸»é¢˜ï¼Œé»˜è®¤ "auto"\r
  enableSearch?: boolean;             // å¯ç”¨æœç´¢ï¼Œé»˜è®¤ true\r
  collapsed?: boolean;                // é»˜è®¤æŠ˜å ï¼Œé»˜è®¤ false\r
  displayDataTypes?: boolean;         // æ˜¾ç¤ºæ•°æ®ç±»å‹ï¼Œé»˜è®¤ true\r
})\r
\`\`\`\r
\r
#### ä»£ç é¢„è§ˆæ’ä»¶\r
\r
\`\`\`typescript\r
createCodePreviewPlugin({\r
  theme?: string;                     // ä»£ç ä¸»é¢˜ï¼Œé»˜è®¤ "github"\r
  showLineNumbers?: boolean;          // æ˜¾ç¤ºè¡Œå·ï¼Œé»˜è®¤ true\r
  enableCodeFolding?: boolean;        // å¯ç”¨ä»£ç æŠ˜å ï¼Œé»˜è®¤ true\r
  wrapLongLines?: boolean;           // é•¿è¡Œæ¢è¡Œï¼Œé»˜è®¤ false\r
})\r
\`\`\`\r
\r
#### å›¾ç‰‡é¢„è§ˆæ’ä»¶\r
\r
\`\`\`typescript\r
createImagePreviewPlugin({\r
  enableZoom?: boolean;              // å¯ç”¨ç¼©æ”¾ï¼Œé»˜è®¤ true\r
  enableRotation?: boolean;          // å¯ç”¨æ—‹è½¬ï¼Œé»˜è®¤ true\r
  enableFullscreen?: boolean;        // å¯ç”¨å…¨å±ï¼Œé»˜è®¤ true\r
  maxZoom?: number;                  // æœ€å¤§ç¼©æ”¾æ¯”ä¾‹ï¼Œé»˜è®¤ 3\r
})\r
\`\`\`\r
\r
---\r
\r
## ğŸ¯ ä½¿ç”¨åœºæ™¯\r
\r
### 1. æ–‡æ¡£ç®¡ç†ç³»ç»Ÿ\r
\r
\`\`\`tsx\r
// ä¼ä¸šæ–‡æ¡£ç®¡ç†ç³»ç»Ÿ\r
const DocumentViewer = withPlugins(FilePreviewCore, [\r
  createPdfPreviewPlugin({ enableTextSelection: true }),\r
  createDocxPreviewPlugin({ preserveFormatting: true }),\r
  createXlsxPreviewPlugin({ enableFiltering: true }),\r
  createDownloadPlugin({ showDownloadButton: true }),\r
]);\r
\`\`\`\r
\r
### 2. ä»£ç å®¡æŸ¥å¹³å°\r
\r
\`\`\`tsx\r
// ä»£ç å®¡æŸ¥å·¥å…·\r
const CodeReviewer = withPlugins(FilePreviewCore, [\r
  createCodePreviewPlugin({\r
    theme: "vs-dark",\r
    showLineNumbers: true,\r
    enableCodeFolding: true,\r
  }),\r
  createJsonPreviewPlugin({ theme: "dark" }),\r
  createMarkdownPreviewPlugin({ enableMath: true }),\r
]);\r
\`\`\`\r
\r
### 3. åª’ä½“èµ„æºç®¡ç†\r
\r
\`\`\`tsx\r
// åª’ä½“æ–‡ä»¶ç®¡ç†å™¨\r
const MediaViewer = withPlugins(FilePreviewCore, [\r
  createImagePreviewPlugin({\r
    enableZoom: true,\r
    enableRotation: true,\r
  }),\r
  createVideoPreviewPlugin({\r
    controls: true,\r
    preload: "metadata",\r
  }),\r
  createAudioPreviewPlugin({\r
    showWaveform: true,\r
  }),\r
]);\r
\`\`\`\r
\r
### 4. æ•°æ®åˆ†æå·¥å…·\r
\r
\`\`\`tsx\r
// æ•°æ®æ–‡ä»¶é¢„è§ˆå™¨\r
const DataViewer = withPlugins(FilePreviewCore, [\r
  createCsvPreviewPlugin({\r
    enableSorting: true,\r
    enableFiltering: true,\r
    pageSize: 100,\r
  }),\r
  createJsonPreviewPlugin({\r
    enableSearch: true,\r
    displayDataTypes: true,\r
  }),\r
  createXlsxPreviewPlugin({\r
    enableSheetSwitching: true,\r
  }),\r
]);\r
\`\`\`\r
\r
---\r
\r
## ğŸ”Œ è‡ªå®šä¹‰æ’ä»¶å¼€å‘\r
\r
### æ’ä»¶æ¥å£\r
\r
\`\`\`typescript\r
interface Plugin {\r
  name: string;\r
  version: string;\r
  canHandle: (file: FileInfo) => boolean;\r
  render: (props: PluginRenderProps) => React.ReactNode;\r
  onMount?: (context: PluginContext) => void;\r
  onUnmount?: (context: PluginContext) => void;\r
}\r
\`\`\`\r
\r
### åˆ›å»ºè‡ªå®šä¹‰æ’ä»¶\r
\r
\`\`\`typescript\r
import { Plugin, FileInfo } from "vane-file-preview";\r
\r
export function createCustomPreviewPlugin(options = {}) {\r
  return {\r
    name: "CustomPreviewPlugin",\r
    version: "1.0.0",\r
\r
    canHandle: (file: FileInfo) => {\r
      // åˆ¤æ–­æ˜¯å¦èƒ½å¤„ç†è¯¥æ–‡ä»¶ç±»å‹\r
      return file.type === "application/custom";\r
    },\r
\r
    render: ({\r
      file,\r
      containerRef,\r
      onLoadStart,\r
      onLoadSuccess,\r
      onLoadError,\r
    }) => {\r
      // æ¸²æŸ“é¢„è§ˆå†…å®¹\r
      return (\r
        <div ref={containerRef}>\r
          <h3>è‡ªå®šä¹‰é¢„è§ˆï¼š{file.name}</h3>\r
          {/* è‡ªå®šä¹‰é¢„è§ˆé€»è¾‘ */}\r
        </div>\r
      );\r
    },\r
\r
    onMount: (context) => {\r
      console.log("æ’ä»¶å·²æŒ‚è½½", context);\r
    },\r
\r
    onUnmount: (context) => {\r
      console.log("æ’ä»¶å·²å¸è½½", context);\r
    },\r
  } as Plugin;\r
}\r
\`\`\`\r
\r
### ä½¿ç”¨è‡ªå®šä¹‰æ’ä»¶\r
\r
\`\`\`typescript\r
import { FilePreviewCore, withPlugins } from "vane-file-preview";\r
import { createCustomPreviewPlugin } from "./CustomPreviewPlugin";\r
\r
const CustomFilePreview = withPlugins(FilePreviewCore, [\r
  createCustomPreviewPlugin({\r
    // æ’ä»¶é…ç½®é€‰é¡¹\r
  }),\r
]);\r
\`\`\`\r
\r
---\r
\r
## ğŸŒŸ é«˜çº§ç‰¹æ€§\r
\r
### ä¸»é¢˜ç³»ç»Ÿ\r
\r
æ”¯æŒäº®è‰²ã€æš—è‰²å’Œè‡ªåŠ¨ä¸»é¢˜åˆ‡æ¢ï¼š\r
\r
\`\`\`tsx\r
// å…¨å±€ä¸»é¢˜é…ç½®\r
const ThemedFilePreview = withPlugins(FilePreviewCore, [\r
  createJsonPreviewPlugin({ theme: "auto" }),\r
  createCodePreviewPlugin({ theme: "vs-dark" }),\r
]);\r
\r
// è¿è¡Œæ—¶ä¸»é¢˜åˆ‡æ¢\r
const [theme, setTheme] = useState("auto");\r
\r
<ThemedFilePreview file={fileInfo} theme={theme} />;\r
\`\`\`\r
\r
### æ€§èƒ½ä¼˜åŒ–\r
\r
#### æ‡’åŠ è½½\r
\r
\`\`\`tsx\r
// å¤§æ–‡ä»¶æ‡’åŠ è½½\r
const LazyFilePreview = withPlugins(FilePreviewCore, [\r
  createPdfPreviewPlugin({\r
    lazyLoading: true,\r
    pageBufferSize: 3,\r
  }),\r
]);\r
\`\`\`\r
\r
#### è™šæ‹Ÿæ»šåŠ¨\r
\r
\`\`\`tsx\r
// å¤§æ•°æ®é›†è™šæ‹Ÿæ»šåŠ¨\r
const VirtualizedPreview = withPlugins(FilePreviewCore, [\r
  createCsvPreviewPlugin({\r
    enableVirtualization: true,\r
    rowHeight: 40,\r
    overscan: 10,\r
  }),\r
]);\r
\`\`\`\r
\r
### é”™è¯¯å¤„ç†\r
\r
\`\`\`tsx\r
const RobustFilePreview = withPlugins(FilePreviewCore, [\r
  createErrorBoundaryPlugin({\r
    fallback: (error) => <div>é¢„è§ˆå¤±è´¥ï¼š{error.message}</div>,\r
  }),\r
  // å…¶ä»–æ’ä»¶...\r
]);\r
\`\`\`\r
\r
---\r
\r
## ğŸ¤ è´¡çŒ®æŒ‡å—\r
\r
æˆ‘ä»¬æ¬¢è¿ç¤¾åŒºè´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š\r
\r
### å¼€å‘ç¯å¢ƒè®¾ç½®\r
\r
\`\`\`bash\r
# 1. Fork å¹¶å…‹éš†ä»“åº“\r
git clone https://github.com/your-username/vane-file-preview.git\r
\r
# 2. å®‰è£…ä¾èµ–\r
cd vane-file-preview\r
npm install\r
\r
# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨\r
npm run dev\r
\r
# 4. è¿è¡Œæµ‹è¯•\r
npm test\r
\r
# 5. æ„å»ºé¡¹ç›®\r
npm run build\r
\`\`\`\r
\r
### æäº¤è§„èŒƒ\r
\r
æˆ‘ä»¬ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š\r
\r
\`\`\`bash\r
# åŠŸèƒ½æ·»åŠ \r
git commit -m "feat: æ·»åŠ  PowerPoint é¢„è§ˆæ’ä»¶"\r
\r
# é—®é¢˜ä¿®å¤\r
git commit -m "fix: ä¿®å¤ PDF ç¼©æ”¾é—®é¢˜"\r
\r
# æ–‡æ¡£æ›´æ–°\r
git commit -m "docs: æ›´æ–° API æ–‡æ¡£"\r
\r
# æ€§èƒ½ä¼˜åŒ–\r
git commit -m "perf: ä¼˜åŒ–å¤§æ–‡ä»¶åŠ è½½æ€§èƒ½"\r
\`\`\`\r
\r
### æ’ä»¶å¼€å‘æŒ‡å—\r
\r
1. åœ¨ \`src/components/FilePreviewPlugin/custom-plugins/\` ç›®å½•ä¸‹åˆ›å»ºæ–°æ’ä»¶\r
2. å®ç° \`Plugin\` æ¥å£\r
3. æ·»åŠ ç›¸åº”çš„ç±»å‹å®šä¹‰\r
4. ç¼–å†™å•å…ƒæµ‹è¯•\r
5. æ›´æ–°æ–‡æ¡£å’Œç¤ºä¾‹\r
\r
---\r
\r
## ğŸ“„ è®¸å¯è¯\r
\r
æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](./LICENSE)ã€‚\r
\r
---\r
\r
## ğŸ™ è‡´è°¢\r
\r
æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®çš„æ”¯æŒï¼š\r
\r
- [React](https://reactjs.org/) - UI æ¡†æ¶\r
- [TypeScript](https://www.typescriptlang.org/) - ç±»å‹å®‰å…¨\r
- [Vite](https://vitejs.dev/) - æ„å»ºå·¥å…·\r
- [PDF.js](https://mozilla.github.io/pdf.js/) - PDF æ¸²æŸ“\r
- [Highlight.js](https://highlightjs.org/) - ä»£ç é«˜äº®\r
- [React Markdown](https://github.com/remarkjs/react-markdown) - Markdown æ¸²æŸ“\r
\r
---\r
\r
## ğŸ“ è”ç³»æˆ‘ä»¬\r
\r
- **GitHub Issues**: [æäº¤é—®é¢˜](https://github.com/frankvane/vane-file-preview/issues)\r
- **GitHub Discussions**: [å‚ä¸è®¨è®º](https://github.com/frankvane/vane-file-preview/discussions)\r
- **Email**: chinavane_2008@163.com\r
\r
---\r
\r
<div align="center">\r
\r
**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­ï¸**\r
\r
[â¬†ï¸ å›åˆ°é¡¶éƒ¨](#-vane-file-preview)\r
`;function v(){return e.jsxs("div",{className:"page",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"ğŸ“– README æ–‡æ¡£"}),e.jsx("p",{className:"page-desc",children:"é¡¹ç›®å®Œæ•´æ–‡æ¡£"})]}),e.jsx("div",{className:"page-card",style:{fontSize:"15px",lineHeight:"1.8",maxWidth:"100%"},children:e.jsx(l,{remarkPlugins:[a],components:{code({className:r,children:n,...i}){const t=/language-(\w+)/.exec(r||""),o=t?t[1]:"";return!!r&&o?e.jsx(s,{style:u,language:o,PreTag:"div",customStyle:{borderRadius:"4px",fontSize:"14px",lineHeight:"1.5",margin:"16px 0"},children:String(n).replace(/\n$/,"")}):e.jsx("code",{className:r,style:{background:"#f4f4f4",padding:"2px 6px",borderRadius:"3px",fontFamily:"monospace",fontSize:"0.9em"},children:n})},table({children:r,...n}){return e.jsx("div",{style:{overflowX:"auto",margin:"16px 0"},children:e.jsx("table",{style:{borderCollapse:"collapse",width:"100%",border:"1px solid #ddd"},...n,children:r})})},th({children:r,...n}){return e.jsx("th",{style:{border:"1px solid #ddd",padding:"8px",backgroundColor:"#f2f2f2",textAlign:"left"},...n,children:r})},td({children:r,...n}){return e.jsx("td",{style:{border:"1px solid #ddd",padding:"8px"},...n,children:r})},h1({children:r,...n}){return e.jsx("h1",{style:{marginTop:"24px",marginBottom:"12px",fontSize:"2em",fontWeight:"bold"},...n,children:r})},h2({children:r,...n}){return e.jsx("h2",{style:{marginTop:"20px",marginBottom:"12px",fontSize:"1.5em",fontWeight:"bold"},...n,children:r})},h3({children:r,...n}){return e.jsx("h3",{style:{marginTop:"20px",marginBottom:"12px",fontSize:"1.3em",fontWeight:"bold"},...n,children:r})},h4({children:r,...n}){return e.jsx("h4",{style:{marginTop:"20px",marginBottom:"12px",fontSize:"1.1em",fontWeight:"bold"},...n,children:r})},p({children:r,...n}){return e.jsx("p",{style:{marginBottom:"12px",lineHeight:"1.6"},...n,children:r})},a({children:r,href:n,...i}){return e.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",style:{color:"#0066cc",textDecoration:"none"},...i,children:r})},ul({children:r,...n}){return e.jsx("ul",{style:{marginLeft:"20px",marginBottom:"12px"},...n,children:r})},ol({children:r,...n}){return e.jsx("ol",{style:{marginLeft:"20px",marginBottom:"12px"},...n,children:r})},hr({...r}){return e.jsx("hr",{style:{margin:"24px 0",border:"none",borderTop:"1px solid #ddd"},...r})},blockquote({children:r,...n}){return e.jsx("blockquote",{style:{borderLeft:"4px solid #ddd",paddingLeft:"16px",margin:"16px 0",color:"#666",fontStyle:"italic"},...n,children:r})}},children:c})})]})}export{v as default};
