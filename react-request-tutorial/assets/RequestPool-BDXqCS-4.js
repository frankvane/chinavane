var E=Object.defineProperty;var I=(o,t,s)=>t in o?E(o,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[t]=s;var m=(o,t,s)=>I(o,typeof t!="symbol"?t+"":t,s);import{j as e,r as l}from"./index-Cnne2xOM.js";import{C as R}from"./ComponentTemplate-iqsAHbUA.js";class D{constructor(t,s={}){m(this,"baseURL");m(this,"defaultOptions");this.baseURL=t,this.defaultOptions=s}async create(){const t={baseURL:this.baseURL,options:{...this.defaultOptions},abortController:new AbortController,created:Date.now(),requestCount:0,lastError:null};return await new Promise(s=>setTimeout(s,100+Math.random()*200)),t}async validate(t){var i;if(!t||(i=t.abortController)!=null&&i.signal.aborted)return!1;const s=5*60*1e3;return!(Date.now()-t.created>s||t.requestCount>0&&(t.lastError?1:0)/t.requestCount>.5)}async destroy(t){t&&t.abortController&&t.abortController.abort(),await new Promise(s=>setTimeout(s,50))}async reset(t){t&&(t.abortController=new AbortController,t.lastError=null)}}class z{constructor(t,s={}){m(this,"config");m(this,"factory");m(this,"connections",new Map);m(this,"waitingQueue",[]);m(this,"stats");m(this,"evictionTimer");m(this,"destroyed",!1);this.factory=t,this.config={maxSize:10,minSize:2,maxIdleTime:5*60*1e3,maxWaitTime:10*1e3,validateOnBorrow:!0,validateOnReturn:!0,testOnIdle:!0,evictionInterval:30*1e3,...s},this.stats={totalConnections:0,activeConnections:0,idleConnections:0,totalBorrowed:0,totalReturned:0,totalCreated:0,totalDestroyed:0,borrowWaitTime:0,avgBorrowTime:0,maxBorrowTime:0,errorRate:0},this.startEviction(),this.ensureMinConnections()}async borrowConnection(){if(this.destroyed)throw new Error("Pool has been destroyed");const t=Date.now();try{const s=await this.getIdleConnection();if(s){const i=Date.now()-t;return this.updateBorrowStats(i),s}if(this.connections.size<this.config.maxSize){const i=await this.createConnection(),c=Date.now()-t;return this.updateBorrowStats(c),i}return await this.waitForConnection(t)}catch(s){throw new Error(`Failed to borrow connection: ${s instanceof Error?s.message:"Unknown error"}`)}}async returnConnection(t){if(this.destroyed){await this.destroyConnection(t);return}try{if(this.config.validateOnReturn&&!await this.factory.validate(t.connection)){await this.destroyConnection(t);return}if(await this.factory.reset(t.connection),t.borrowed=!1,t.lastUsed=Date.now(),this.stats.totalReturned++,this.updateStats(),this.waitingQueue.length>0){const s=this.waitingQueue.shift();t.borrowed=!0,t.borrowCount++,this.stats.totalBorrowed++,s.resolve(t)}}catch(s){console.error("Error returning connection:",s),await this.destroyConnection(t)}}getStats(){return this.updateStats(),{...this.stats}}getPoolState(){const t=Array.from(this.connections.values());return{total:t.length,active:t.filter(s=>s.borrowed).length,idle:t.filter(s=>!s.borrowed).length,waiting:this.waitingQueue.length,connections:t.map(s=>({id:s.id,borrowed:s.borrowed,valid:s.valid,age:Date.now()-s.created,idleTime:s.borrowed?0:Date.now()-s.lastUsed,borrowCount:s.borrowCount,errorCount:s.errorCount}))}}async clear(){for(;this.waitingQueue.length>0;)this.waitingQueue.shift().reject(new Error("Pool is being cleared"));const t=Array.from(this.connections.values());await Promise.all(t.map(s=>this.destroyConnection(s))),this.resetStats()}async destroy(){this.destroyed=!0,this.evictionTimer&&clearInterval(this.evictionTimer),await this.clear()}async warmUp(){const t=Math.min(this.config.minSize,this.config.maxSize),s=[];for(let i=this.connections.size;i<t;i++)s.push(this.createConnection().then(()=>{}));await Promise.all(s)}async getIdleConnection(){for(const t of this.connections.values())if(!t.borrowed&&t.valid){if(this.config.validateOnBorrow&&!await this.factory.validate(t.connection)){await this.destroyConnection(t);continue}return t.borrowed=!0,t.lastUsed=Date.now(),t.borrowCount++,this.stats.totalBorrowed++,t}return null}async createConnection(){const t=await this.factory.create(),s={id:this.generateId(),connection:t,created:Date.now(),lastUsed:Date.now(),borrowed:!0,valid:!0,borrowCount:1,errorCount:0};return this.connections.set(s.id,s),this.stats.totalCreated++,this.stats.totalBorrowed++,this.updateStats(),s}async waitForConnection(t){return new Promise((s,i)=>{const c=setTimeout(()=>{const a=this.waitingQueue.findIndex(r=>r.resolve===s);a!==-1&&this.waitingQueue.splice(a,1),i(new Error("Wait timeout"))},this.config.maxWaitTime);this.waitingQueue.push({resolve:a=>{clearTimeout(c);const r=Date.now()-t;this.updateBorrowStats(r),s(a)},reject:a=>{clearTimeout(c),i(a)},timestamp:Date.now()})})}async destroyConnection(t){try{await this.factory.destroy(t.connection)}catch(s){console.error("Error destroying connection:",s)}this.connections.delete(t.id),this.stats.totalDestroyed++,this.updateStats()}startEviction(){this.evictionTimer=setInterval(()=>{this.evictIdleConnections()},this.config.evictionInterval)}async evictIdleConnections(){const t=Date.now(),s=[];for(const r of this.connections.values())if(!r.borrowed){if(t-r.lastUsed>this.config.maxIdleTime){s.push(r);continue}if(this.config.testOnIdle)try{await this.factory.validate(r.connection)||s.push(r)}catch{s.push(r)}}const i=this.connections.size-s.length,c=Math.max(0,i-this.config.minSize),a=s.slice(0,c);await Promise.all(a.map(r=>this.destroyConnection(r)))}async ensureMinConnections(){for(;this.connections.size<this.config.minSize&&!this.destroyed;)try{const t=await this.createConnection();t.borrowed=!1}catch(t){console.error("Error creating minimum connections:",t);break}}updateBorrowStats(t){this.stats.borrowWaitTime+=t,this.stats.maxBorrowTime=Math.max(this.stats.maxBorrowTime,t),this.stats.totalBorrowed>0&&(this.stats.avgBorrowTime=this.stats.borrowWaitTime/this.stats.totalBorrowed)}updateStats(){const t=Array.from(this.connections.values());this.stats.totalConnections=t.length,this.stats.activeConnections=t.filter(c=>c.borrowed).length,this.stats.idleConnections=t.filter(c=>!c.borrowed).length;const s=t.reduce((c,a)=>c+a.errorCount,0),i=t.reduce((c,a)=>c+a.borrowCount,0);this.stats.errorRate=i>0?s/i:0}resetStats(){this.stats={totalConnections:0,activeConnections:0,idleConnections:0,totalBorrowed:0,totalReturned:0,totalCreated:0,totalDestroyed:0,borrowWaitTime:0,avgBorrowTime:0,maxBorrowTime:0,errorRate:0}}generateId(){return`conn_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}}const B=()=>{const[o]=l.useState(()=>{const n=new D("https://jsonplaceholder.typicode.com");return new z(n,{maxSize:5,minSize:2,maxIdleTime:3e4,maxWaitTime:5e3,validateOnBorrow:!0,evictionInterval:1e4})}),[t,s]=l.useState(o.getStats()),[i,c]=l.useState(o.getPoolState()),[a,r]=l.useState([]),[y,x]=l.useState(!1),[f,v]=l.useState({maxSize:5,minSize:2,concurrentRequests:3}),h=l.useCallback(()=>{s(o.getStats()),c(o.getPoolState())},[o]);l.useEffect(()=>{const n=setInterval(h,1e3);return()=>clearInterval(n)},[h]);const b=l.useCallback(async n=>{const g={id:n,type:"request",status:"borrowing",startTime:Date.now()};r(w=>[...w,g]);try{const w=await o.borrowConnection();if(r(u=>u.map(d=>d.id===n?{...d,status:"executing"}:d)),await new Promise(u=>setTimeout(u,1e3+Math.random()*2e3)),Math.random()<.1)throw new Error("Request failed");await o.returnConnection(w),r(u=>u.map(d=>d.id===n?{...d,status:"completed",endTime:Date.now()}:d))}catch(w){r(u=>u.map(d=>d.id===n?{...d,status:"error",endTime:Date.now(),error:w instanceof Error?w.message:"Unknown error"}:d))}},[o]),p=l.useCallback(async()=>{const n=`req_${Date.now()}_${Math.random().toString(36).substr(2,4)}`;await b(n),h()},[b,h]),j=l.useCallback(async()=>{x(!0);try{const n=Array.from({length:f.concurrentRequests},(g,w)=>{const u=`batch_${Date.now()}_${w}`;return b(u)});await Promise.all(n)}finally{x(!1),h()}},[f.concurrentRequests,b,h]),C=l.useCallback(async()=>{x(!0);try{await o.warmUp()}finally{x(!1),h()}},[o,h]),N=l.useCallback(async()=>{x(!0);try{await o.clear(),r([])}finally{x(!1),h()}},[o,h]),T=l.useCallback(()=>{r([])},[]);l.useEffect(()=>()=>o.destroy(),[o]);const S=n=>{switch(n){case"completed":return"text-green-600";case"error":return"text-red-600";case"executing":return"text-blue-600";case"borrowing":return"text-yellow-600";default:return"text-gray-600"}},P=n=>{switch(n){case"completed":return"bg-green-100";case"error":return"bg-red-100";case"executing":return"bg-blue-100";case"borrowing":return"bg-yellow-100";default:return"bg-gray-100"}};return e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"è¯·æ±‚æ± ç®¡ç†æ¼”ç¤º"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"æ± é…ç½®"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"æœ€å¤§è¿æ¥æ•°"}),e.jsx("input",{type:"number",value:f.maxSize,onChange:n=>v(g=>({...g,maxSize:parseInt(n.target.value)||1})),min:"1",max:"20",className:"w-full p-2 border border-gray-300 rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"æœ€å°è¿æ¥æ•°"}),e.jsx("input",{type:"number",value:f.minSize,onChange:n=>v(g=>({...g,minSize:parseInt(n.target.value)||0})),min:"0",max:f.maxSize,className:"w-full p-2 border border-gray-300 rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"å¹¶å‘è¯·æ±‚æ•°"}),e.jsx("input",{type:"number",value:f.concurrentRequests,onChange:n=>v(g=>({...g,concurrentRequests:parseInt(n.target.value)||1})),min:"1",max:"10",className:"w-full p-2 border border-gray-300 rounded-md"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"æ“ä½œ"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:p,disabled:y,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400",children:"å•ä¸ªè¯·æ±‚"}),e.jsx("button",{onClick:j,disabled:y,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-400",children:"å¹¶å‘è¯·æ±‚"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:C,disabled:y,className:"flex-1 px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 disabled:bg-gray-400",children:"é¢„çƒ­æ± "}),e.jsx("button",{onClick:N,disabled:y,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:bg-gray-400",children:"æ¸…ç©ºæ± "})]}),e.jsx("button",{onClick:T,className:"w-full px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"æ¸…ç©ºæ“ä½œè®°å½•"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"æ± ç»Ÿè®¡"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-md space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"æ€»è¿æ¥æ•°:"}),e.jsx("span",{className:"text-sm font-medium",children:t.totalConnections})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"æ´»è·ƒè¿æ¥:"}),e.jsx("span",{className:"text-sm font-medium text-blue-600",children:t.activeConnections})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"ç©ºé—²è¿æ¥:"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:t.idleConnections})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"æ€»å€Ÿç”¨:"}),e.jsx("span",{className:"text-sm font-medium",children:t.totalBorrowed})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"æ€»å½’è¿˜:"}),e.jsx("span",{className:"text-sm font-medium",children:t.totalReturned})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"å¹³å‡å€Ÿç”¨æ—¶é—´:"}),e.jsxs("span",{className:"text-sm font-medium",children:[Math.round(t.avgBorrowTime),"ms"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"é”™è¯¯ç‡:"}),e.jsxs("span",{className:"text-sm font-medium text-red-600",children:[(t.errorRate*100).toFixed(1),"%"]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-2",children:["è¿æ¥çŠ¶æ€ (",i.total,")"]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-md max-h-40 overflow-y-auto",children:i.connections.length===0?e.jsx("div",{className:"text-sm text-gray-500 text-center py-2",children:"æ— è¿æ¥"}):e.jsx("div",{className:"space-y-2",children:i.connections.map(n=>e.jsxs("div",{className:"bg-white p-2 rounded border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs font-mono text-gray-600",children:n.id.slice(-8)}),e.jsx("span",{className:`px-2 py-1 text-xs rounded ${n.borrowed?"bg-blue-100 text-blue-600":"bg-green-100 text-green-600"}`,children:n.borrowed?"ä½¿ç”¨ä¸­":"ç©ºé—²"})]}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[e.jsxs("div",{children:["å¹´é¾„: ",Math.round(n.age/1e3),"s"]}),e.jsxs("div",{children:["ç©ºé—²: ",Math.round(n.idleTime/1e3),"s"]}),e.jsxs("div",{children:["ä½¿ç”¨æ¬¡æ•°: ",n.borrowCount]})]})]},n.id))})})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-2",children:["æ“ä½œè®°å½• (",a.length,")"]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-md max-h-60 overflow-y-auto",children:a.length===0?e.jsx("div",{className:"text-sm text-gray-500 text-center py-2",children:"æš‚æ— æ“ä½œè®°å½•"}):e.jsxs("div",{className:"space-y-1",children:[a.slice(-20).reverse().map(n=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded ${P(n.status)} ${S(n.status)}`,children:n.status}),e.jsx("span",{className:"text-xs text-gray-600 font-mono",children:n.id.slice(-8)})]}),e.jsx("div",{className:"text-xs text-gray-500",children:n.endTime?`${n.endTime-n.startTime}ms`:"..."})]},n.id)),a.length>20&&e.jsxs("div",{className:"text-xs text-gray-500 text-center pt-2",children:["è¿˜æœ‰ ",a.length-20," æ¡è®°å½•..."]})]})})]})]})]})]})})},O=()=>{const o={title:"è¯·æ±‚æ± å®ç°",language:"typescript",code:`// è¯·æ±‚æ± ç®¡ç†å™¨
class RequestPool {
  private config: PoolConfig;
  private factory: ConnectionFactory;
  private connections: Map<string, PooledConnection> = new Map();
  private waitingQueue: Array<{
    resolve: (connection: PooledConnection) => void;
    reject: (error: Error) => void;
    timestamp: number;
  }> = [];

  constructor(factory: ConnectionFactory, config: Partial<PoolConfig> = {}) {
    this.factory = factory;
    this.config = {
      maxSize: 10,
      minSize: 2,
      maxIdleTime: 5 * 60 * 1000,
      maxWaitTime: 10 * 1000,
      validateOnBorrow: true,
      validateOnReturn: true,
      testOnIdle: true,
      evictionInterval: 30 * 1000,
      ...config
    };

    this.startEviction();
    this.ensureMinConnections();
  }

  // å€Ÿç”¨è¿æ¥
  async borrowConnection(): Promise<PooledConnection> {
    if (this.destroyed) {
      throw new Error('Pool has been destroyed');
    }

    const startTime = Date.now();

    // å°è¯•è·å–ç©ºé—²è¿æ¥
    const connection = await this.getIdleConnection();
    if (connection) {
      return connection;
    }

    // å¦‚æœæ²¡æœ‰ç©ºé—²è¿æ¥ä¸”æœªè¾¾åˆ°æœ€å¤§æ•°é‡ï¼Œåˆ›å»ºæ–°è¿æ¥
    if (this.connections.size < this.config.maxSize) {
      return await this.createConnection();
    }

    // ç­‰å¾…è¿æ¥å¯ç”¨
    return await this.waitForConnection(startTime);
  }

  // å½’è¿˜è¿æ¥
  async returnConnection(connection: PooledConnection): Promise<void> {
    // éªŒè¯è¿æ¥
    if (this.config.validateOnReturn) {
      const isValid = await this.factory.validate(connection.connection);
      if (!isValid) {
        await this.destroyConnection(connection);
        return;
      }
    }

    // é‡ç½®è¿æ¥çŠ¶æ€
    await this.factory.reset(connection.connection);

    connection.borrowed = false;
    connection.lastUsed = Date.now();

    // å¤„ç†ç­‰å¾…é˜Ÿåˆ—
    if (this.waitingQueue.length > 0) {
      const waiter = this.waitingQueue.shift()!;
      connection.borrowed = true;
      waiter.resolve(connection);
    }
  }

  // è·å–ç©ºé—²è¿æ¥
  private async getIdleConnection(): Promise<PooledConnection | null> {
    for (const connection of this.connections.values()) {
      if (!connection.borrowed && connection.valid) {
        if (this.config.validateOnBorrow) {
          const isValid = await this.factory.validate(connection.connection);
          if (!isValid) {
            await this.destroyConnection(connection);
            continue;
          }
        }

        connection.borrowed = true;
        connection.lastUsed = Date.now();
        return connection;
      }
    }
    return null;
  }

  // æ¸…ç†ç©ºé—²è¿æ¥
  private async evictIdleConnections(): Promise<void> {
    const now = Date.now();
    const connectionsToEvict: PooledConnection[] = [];

    for (const connection of this.connections.values()) {
      if (!connection.borrowed) {
        const idleTime = now - connection.lastUsed;

        // æ£€æŸ¥æ˜¯å¦è¶…è¿‡æœ€å¤§ç©ºé—²æ—¶é—´
        if (idleTime > this.config.maxIdleTime) {
          connectionsToEvict.push(connection);
          continue;
        }

        // æµ‹è¯•ç©ºé—²è¿æ¥
        if (this.config.testOnIdle) {
          const isValid = await this.factory.validate(connection.connection);
          if (!isValid) {
            connectionsToEvict.push(connection);
          }
        }
      }
    }

    // ç¡®ä¿ä¸ä½äºæœ€å°è¿æ¥æ•°
    const currentIdle = this.connections.size - connectionsToEvict.length;
    const maxEvict = Math.max(0, currentIdle - this.config.minSize);
    const toEvict = connectionsToEvict.slice(0, maxEvict);

    await Promise.all(toEvict.map(conn => this.destroyConnection(conn)));
  }
}`,highlights:[25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100]};return e.jsx(R,{title:"è¯·æ±‚æ± ç®¡ç†",description:"å®ç°é«˜æ•ˆçš„è¿æ¥æ± ç®¡ç†ï¼Œæ”¯æŒè¿æ¥å¤ç”¨ã€ç”Ÿå‘½å‘¨æœŸç®¡ç†å’Œèµ„æºä¼˜åŒ–ã€‚",overview:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"ğŸ” æ ¸å¿ƒæ¦‚å¿µ"}),e.jsxs("ul",{className:"space-y-2 text-blue-800",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"è¿æ¥æ± :"})," é¢„å…ˆåˆ›å»ºå’Œç®¡ç†ä¸€ç»„å¯å¤ç”¨çš„è¿æ¥"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"è¿æ¥å¤ç”¨:"})," é¿å…é¢‘ç¹åˆ›å»ºå’Œé”€æ¯è¿æ¥çš„å¼€é”€"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"ç”Ÿå‘½å‘¨æœŸç®¡ç†:"})," ç®¡ç†è¿æ¥çš„åˆ›å»ºã€ä½¿ç”¨ã€ç©ºé—²å’Œé”€æ¯"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"èµ„æºä¼˜åŒ–:"})," åˆç†åˆ†é…å’Œå›æ”¶ç½‘ç»œèµ„æº"]})]})]}),e.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-3",children:"âœ¨ ä¸»è¦ä¼˜åŠ¿"}),e.jsxs("ul",{className:"space-y-2 text-green-800",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"æ€§èƒ½æå‡:"})," å‡å°‘è¿æ¥å»ºç«‹å’Œé”€æ¯çš„å¼€é”€"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"èµ„æºæ§åˆ¶:"})," é™åˆ¶å¹¶å‘è¿æ¥æ•°ï¼Œé¿å…èµ„æºè€—å°½"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"è¿æ¥å¤ç”¨:"})," æé«˜è¿æ¥åˆ©ç”¨ç‡ï¼Œå‡å°‘ç½‘ç»œå»¶è¿Ÿ"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"è‡ªåŠ¨ç®¡ç†:"})," è‡ªåŠ¨å¤„ç†è¿æ¥çš„ç”Ÿå‘½å‘¨æœŸå’Œæ¸…ç†"]})]})]}),e.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-yellow-900 mb-3",children:"ğŸ¯ é€‚ç”¨åœºæ™¯"}),e.jsxs("ul",{className:"space-y-2 text-yellow-800",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"é«˜é¢‘è¯·æ±‚:"})," éœ€è¦é¢‘ç¹å‘é€HTTPè¯·æ±‚çš„åº”ç”¨"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"æ•°æ®åº“è¿æ¥:"})," æ•°æ®åº“è¿æ¥æ± ç®¡ç†"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"å¾®æœåŠ¡è°ƒç”¨:"})," æœåŠ¡é—´çš„è¿æ¥å¤ç”¨"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"é•¿è¿æ¥ç®¡ç†:"})," WebSocketç­‰é•¿è¿æ¥çš„æ± åŒ–ç®¡ç†"]})]})]}),e.jsxs("div",{className:"bg-red-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-3",children:"âš ï¸ æ³¨æ„äº‹é¡¹"}),e.jsxs("ul",{className:"space-y-2 text-red-800",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"æ± å¤§å°è®¾ç½®:"})," ","æ ¹æ®å¹¶å‘éœ€æ±‚åˆç†è®¾ç½®æœ€å¤§å’Œæœ€å°è¿æ¥æ•°"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"è¿æ¥éªŒè¯:"})," å®šæœŸéªŒè¯è¿æ¥çš„æœ‰æ•ˆæ€§"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"è¶…æ—¶å¤„ç†:"})," è®¾ç½®åˆç†çš„è·å–è¿æ¥è¶…æ—¶æ—¶é—´"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"èµ„æºæ¸…ç†:"})," ç¡®ä¿è¿æ¥æ­£ç¡®é‡Šæ”¾å’Œæ¸…ç†"]})]})]})]}),examples:[{title:"è¯·æ±‚æ± ç®¡ç†æ¼”ç¤º",component:e.jsx(B,{}),description:"æ¼”ç¤ºè¯·æ±‚æ± çš„è¿æ¥ç®¡ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬è¿æ¥å€Ÿç”¨ã€å½’è¿˜ã€ç”Ÿå‘½å‘¨æœŸç®¡ç†å’Œç»Ÿè®¡ç›‘æ§ã€‚",observationPoints:["æ± ä¼šè‡ªåŠ¨ç»´æŠ¤æœ€å°è¿æ¥æ•°","è¿æ¥å¯ä»¥è¢«å¤šä¸ªè¯·æ±‚å¤ç”¨","ç©ºé—²è¿æ¥ä¼šè¢«å®šæœŸæ¸…ç†","å¹¶å‘è¯·æ±‚ä¼šæ’é˜Ÿç­‰å¾…å¯ç”¨è¿æ¥","ç»Ÿè®¡ä¿¡æ¯æ˜¾ç¤ºæ± çš„ä½¿ç”¨æƒ…å†µ"],keyPoints:["è¿æ¥æ± è‡ªåŠ¨ç®¡ç†è¿æ¥çš„ç”Ÿå‘½å‘¨æœŸ","æ”¯æŒè¿æ¥éªŒè¯å’Œè‡ªåŠ¨æ¸…ç†","æä¾›å®Œæ•´çš„ç»Ÿè®¡å’Œç›‘æ§åŠŸèƒ½","å®ç°äº†é«˜æ•ˆçš„è¿æ¥å¤ç”¨æœºåˆ¶","åŒ…å«ç­‰å¾…é˜Ÿåˆ—å’Œè¶…æ—¶å¤„ç†"],commonTraps:["æ± å¤§å°è®¾ç½®ä¸åˆç†å¯¼è‡´æ€§èƒ½é—®é¢˜","è¿æ¥æ³„æ¼å¯¼è‡´èµ„æºè€—å°½","æ²¡æœ‰è¿æ¥éªŒè¯å¯¼è‡´ä½¿ç”¨æ— æ•ˆè¿æ¥","å¿½ç•¥è¿æ¥çš„è¶…æ—¶å’Œæ¸…ç†"],solutions:["æ ¹æ®å¹¶å‘éœ€æ±‚åŠ¨æ€è°ƒæ•´æ± å¤§å°","å®ç°å®Œæ•´çš„è¿æ¥ç”Ÿå‘½å‘¨æœŸç®¡ç†","æ·»åŠ è¿æ¥éªŒè¯å’Œå¥åº·æ£€æŸ¥","è®¾ç½®åˆç†çš„è¶…æ—¶å’Œæ¸…ç†ç­–ç•¥"],codeExample:o}],tutorial:{concepts:["è¿æ¥æ± æ˜¯é¢„å…ˆåˆ›å»ºå’Œç®¡ç†è¿æ¥çš„å®¹å™¨","è¿æ¥å¤ç”¨é¿å…äº†é¢‘ç¹çš„åˆ›å»ºå’Œé”€æ¯å¼€é”€","ç”Ÿå‘½å‘¨æœŸç®¡ç†ç¡®ä¿è¿æ¥çš„æ­£ç¡®ä½¿ç”¨","èµ„æºé™åˆ¶é˜²æ­¢ç³»ç»Ÿè¿‡è½½","è‡ªåŠ¨æ¸…ç†ç»´æŠ¤æ± çš„å¥åº·çŠ¶æ€"],steps:["è®¾è®¡è¿æ¥å’Œæ± çš„æ•°æ®ç»“æ„","å®ç°è¿æ¥å·¥å‚æ¥å£","åˆ›å»ºè¿æ¥æ± ç®¡ç†å™¨","å®ç°è¿æ¥å€Ÿç”¨å’Œå½’è¿˜é€»è¾‘","æ·»åŠ è¿æ¥éªŒè¯å’Œæ¸…ç†æœºåˆ¶","å®ç°ç­‰å¾…é˜Ÿåˆ—å’Œè¶…æ—¶å¤„ç†","æ·»åŠ ç»Ÿè®¡å’Œç›‘æ§åŠŸèƒ½","å¤„ç†å¼‚å¸¸å’Œé”™è¯¯æƒ…å†µ","ä¼˜åŒ–æ€§èƒ½å’Œèµ„æºä½¿ç”¨","æµ‹è¯•å„ç§ä½¿ç”¨åœºæ™¯"],tips:["æ ¹æ®åº”ç”¨ç‰¹ç‚¹è®¾ç½®åˆç†çš„æ± å‚æ•°","å®ç°è¿æ¥çš„å¥åº·æ£€æŸ¥æœºåˆ¶","ç›‘æ§æ± çš„ä½¿ç”¨æƒ…å†µå’Œæ€§èƒ½æŒ‡æ ‡","è€ƒè™‘è¿æ¥çš„é¢„çƒ­å’Œæ‡’åŠ è½½","å¤„ç†è¿æ¥å¼‚å¸¸å’Œç½‘ç»œä¸­æ–­","æä¾›æ± çŠ¶æ€çš„å¯è§†åŒ–ç›‘æ§"]},interview:{questions:[{question:"ä»€ä¹ˆæ˜¯è¿æ¥æ± ï¼Ÿä¸ºä»€ä¹ˆéœ€è¦è¿æ¥æ± ï¼Ÿ",answer:"è¿æ¥æ± æ˜¯é¢„å…ˆåˆ›å»ºå’Œç®¡ç†ä¸€ç»„å¯å¤ç”¨è¿æ¥çš„å®¹å™¨ã€‚éœ€è¦è¿æ¥æ± çš„åŸå› ï¼š1) æ€§èƒ½ä¼˜åŒ–ï¼šé¿å…é¢‘ç¹åˆ›å»ºå’Œé”€æ¯è¿æ¥çš„å¼€é”€ï¼›2) èµ„æºæ§åˆ¶ï¼šé™åˆ¶å¹¶å‘è¿æ¥æ•°ï¼Œé˜²æ­¢èµ„æºè€—å°½ï¼›3) è¿æ¥å¤ç”¨ï¼šæé«˜è¿æ¥åˆ©ç”¨ç‡ï¼Œå‡å°‘ç½‘ç»œå»¶è¿Ÿï¼›4) ç®¡ç†ç®€åŒ–ï¼šç»Ÿä¸€ç®¡ç†è¿æ¥çš„ç”Ÿå‘½å‘¨æœŸï¼›5) ç¨³å®šæ€§ï¼šé¿å…è¿æ¥æ•°è¿‡å¤šå¯¼è‡´çš„ç³»ç»Ÿä¸ç¨³å®šã€‚"},{question:"å¦‚ä½•è®¾è®¡ä¸€ä¸ªé«˜æ•ˆçš„è¿æ¥æ± ï¼Ÿ",answer:"é«˜æ•ˆè¿æ¥æ± çš„è®¾è®¡è¦ç‚¹ï¼š1) æ± å‚æ•°ï¼šåˆç†è®¾ç½®æœ€å¤§ã€æœ€å°è¿æ¥æ•°å’Œè¶…æ—¶æ—¶é—´ï¼›2) ç”Ÿå‘½å‘¨æœŸï¼šç®¡ç†è¿æ¥çš„åˆ›å»ºã€å€Ÿç”¨ã€å½’è¿˜ã€æ¸…ç†ï¼›3) éªŒè¯æœºåˆ¶ï¼šå€Ÿç”¨å’Œå½’è¿˜æ—¶éªŒè¯è¿æ¥æœ‰æ•ˆæ€§ï¼›4) ç­‰å¾…é˜Ÿåˆ—ï¼šå¤„ç†è¿æ¥ä¸è¶³æ—¶çš„è¯·æ±‚æ’é˜Ÿï¼›5) è‡ªåŠ¨æ¸…ç†ï¼šå®šæœŸæ¸…ç†ç©ºé—²å’Œæ— æ•ˆè¿æ¥ï¼›6) ç›‘æ§ç»Ÿè®¡ï¼šæä¾›ä½¿ç”¨æƒ…å†µå’Œæ€§èƒ½æŒ‡æ ‡ï¼›7) å¼‚å¸¸å¤„ç†ï¼šå¤„ç†è¿æ¥å¼‚å¸¸å’Œç½‘ç»œä¸­æ–­ã€‚"},{question:"è¿æ¥æ± ä¸­çš„è¿æ¥éªŒè¯æœ‰å“ªäº›ç­–ç•¥ï¼Ÿ",answer:"è¿æ¥éªŒè¯ç­–ç•¥åŒ…æ‹¬ï¼š1) å€Ÿç”¨æ—¶éªŒè¯ï¼šè·å–è¿æ¥æ—¶æ£€æŸ¥æœ‰æ•ˆæ€§ï¼Œç¡®ä¿å¯ç”¨ï¼›2) å½’è¿˜æ—¶éªŒè¯ï¼šå½’è¿˜è¿æ¥æ—¶æ£€æŸ¥çŠ¶æ€ï¼Œå†³å®šæ˜¯å¦ä¿ç•™ï¼›3) ç©ºé—²æ—¶éªŒè¯ï¼šå®šæœŸæ£€æŸ¥ç©ºé—²è¿æ¥ï¼Œæ¸…ç†æ— æ•ˆè¿æ¥ï¼›4) å¿ƒè·³æ£€æµ‹ï¼šå®šæœŸå‘é€å¿ƒè·³åŒ…æ£€æŸ¥è¿æ¥çŠ¶æ€ï¼›5) è¶…æ—¶æ£€æµ‹ï¼šæ£€æŸ¥è¿æ¥æ˜¯å¦è¶…è¿‡æœ€å¤§ç”Ÿå­˜æ—¶é—´ï¼›6) é”™è¯¯è®¡æ•°ï¼šç»Ÿè®¡è¿æ¥é”™è¯¯æ¬¡æ•°ï¼Œè¶…è¿‡é˜ˆå€¼åˆ™é”€æ¯ï¼›7) å¥åº·æ£€æŸ¥ï¼šæ‰§è¡Œç‰¹å®šçš„å¥åº·æ£€æŸ¥é€»è¾‘ã€‚"},{question:"å¦‚ä½•å¤„ç†è¿æ¥æ± ä¸­çš„å¼‚å¸¸æƒ…å†µï¼Ÿ",answer:"å¼‚å¸¸å¤„ç†ç­–ç•¥ï¼š1) è¿æ¥åˆ›å»ºå¤±è´¥ï¼šé‡è¯•æœºåˆ¶ã€é™çº§ç­–ç•¥ã€é”™è¯¯ä¸ŠæŠ¥ï¼›2) è¿æ¥éªŒè¯å¤±è´¥ï¼šé”€æ¯æ— æ•ˆè¿æ¥ã€åˆ›å»ºæ–°è¿æ¥ï¼›3) è·å–è¿æ¥è¶…æ—¶ï¼šé˜Ÿåˆ—ç®¡ç†ã€è¶…æ—¶å¤„ç†ã€è´Ÿè½½å‡è¡¡ï¼›4) ç½‘ç»œä¸­æ–­ï¼šè¿æ¥é‡å»ºã€æ•…éšœè½¬ç§»ã€çŠ¶æ€æ¢å¤ï¼›5) èµ„æºæ³„æ¼ï¼šè¿æ¥è·Ÿè¸ªã€è‡ªåŠ¨å›æ”¶ã€ç›‘æ§å‘Šè­¦ï¼›6) æ± æ»¡å¼‚å¸¸ï¼šåŠ¨æ€æ‰©å®¹ã€è¯·æ±‚æ‹’ç»ã€ä¼˜å…ˆçº§å¤„ç†ï¼›7) ç³»ç»Ÿè¿‡è½½ï¼šç†”æ–­æœºåˆ¶ã€é™æµç­–ç•¥ã€èµ„æºä¿æŠ¤ã€‚"}],keyPoints:["è¿æ¥æ± æ˜¯é«˜æ€§èƒ½åº”ç”¨çš„é‡è¦åŸºç¡€è®¾æ–½","åˆç†çš„æ± å‚æ•°è®¾ç½®ç›´æ¥å½±å“æ€§èƒ½","è¿æ¥éªŒè¯ç¡®ä¿æ± ä¸­è¿æ¥çš„å¯ç”¨æ€§","ç”Ÿå‘½å‘¨æœŸç®¡ç†æ˜¯è¿æ¥æ± çš„æ ¸å¿ƒ","ç›‘æ§å’Œç»Ÿè®¡å¸®åŠ©ä¼˜åŒ–æ± çš„ä½¿ç”¨","å¼‚å¸¸å¤„ç†ç¡®ä¿ç³»ç»Ÿçš„ç¨³å®šæ€§"]},bestPractices:{dos:["æ ¹æ®å¹¶å‘éœ€æ±‚åˆç†è®¾ç½®æ± çš„å¤§å°å‚æ•°","å®ç°å®Œæ•´çš„è¿æ¥ç”Ÿå‘½å‘¨æœŸç®¡ç†","æ·»åŠ è¿æ¥éªŒè¯å’Œå¥åº·æ£€æŸ¥æœºåˆ¶","æä¾›è¯¦ç»†çš„ç»Ÿè®¡å’Œç›‘æ§åŠŸèƒ½","å®ç°ä¼˜é›…çš„è¿æ¥è·å–å’Œé‡Šæ”¾","å¤„ç†å„ç§å¼‚å¸¸å’Œè¾¹ç•Œæƒ…å†µ","å®šæœŸæ¸…ç†ç©ºé—²å’Œæ— æ•ˆè¿æ¥","ç›‘æ§æ± çš„ä½¿ç”¨æƒ…å†µå’Œæ€§èƒ½æŒ‡æ ‡"],donts:["ä¸è¦è®¾ç½®è¿‡å¤§çš„æ± å¯¼è‡´èµ„æºæµªè´¹","ä¸è¦å¿½ç•¥è¿æ¥çš„éªŒè¯å’Œæ¸…ç†","ä¸è¦å¿˜è®°å¤„ç†è¿æ¥è·å–è¶…æ—¶","ä¸è¦åœ¨é«˜å¹¶å‘ä¸‹ä½¿ç”¨åŒæ­¥æ“ä½œ","ä¸è¦å¿½ç•¥è¿æ¥çš„é”™è¯¯å¤„ç†","ä¸è¦ç¼ºå°‘æ± çŠ¶æ€çš„ç›‘æ§","ä¸è¦åœ¨æ‰€æœ‰åœºæ™¯ä½¿ç”¨ç›¸åŒé…ç½®","ä¸è¦å¿½ç•¥è¿æ¥æ± çš„é¢„çƒ­å’Œå…³é—­"],patterns:["å¯¹è±¡æ± æ¨¡å¼ï¼šé€šç”¨çš„èµ„æºæ± åŒ–ç®¡ç†","å·¥å‚æ¨¡å¼ï¼šç»Ÿä¸€çš„è¿æ¥åˆ›å»ºæ¥å£","ä»£ç†æ¨¡å¼ï¼šé€æ˜çš„è¿æ¥ä½¿ç”¨ä»£ç†","è§‚å¯Ÿè€…æ¨¡å¼ï¼šæ± çŠ¶æ€å˜åŒ–çš„é€šçŸ¥","ç­–ç•¥æ¨¡å¼ï¼šä¸åŒçš„éªŒè¯å’Œæ¸…ç†ç­–ç•¥","å•ä¾‹æ¨¡å¼ï¼šå…¨å±€å”¯ä¸€çš„æ± å®ä¾‹","è£…é¥°å™¨æ¨¡å¼ï¼šè¿æ¥åŠŸèƒ½çš„å¢å¼º","é€‚é…å™¨æ¨¡å¼ï¼šä¸åŒè¿æ¥ç±»å‹çš„é€‚é…"]}})};export{O as default};
