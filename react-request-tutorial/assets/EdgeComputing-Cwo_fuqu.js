var S=Object.defineProperty;var E=(n,s,t)=>s in n?S(n,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[s]=t;var d=(n,s,t)=>E(n,typeof s!="symbol"?s+"":s,t);import{j as e,r as l}from"./index-Cnne2xOM.js";import{C as k}from"./ComponentTemplate-iqsAHbUA.js";class D{constructor(s={},t={}){d(this,"nodes",new Map);d(this,"cdnConfig");d(this,"warmupConfig");d(this,"cache",new Map);d(this,"listeners",new Set);d(this,"warmupInterval");d(this,"healthCheckInterval");this.cdnConfig={enableEdgeCache:!0,cacheStrategy:"lru",maxCacheSize:100,ttl:5*60*1e3,compressionEnabled:!0,prefetchEnabled:!0,geoRouting:!0,...s},this.warmupConfig={enabled:!0,urls:[],interval:30*1e3,concurrency:3,retryCount:2,healthCheck:!0,...t},this.initializeEdgeNodes(),this.startHealthCheck(),this.warmupConfig.enabled&&this.startWarmup()}initializeEdgeNodes(){[{id:"edge-us-west",region:"US West",endpoint:"https://us-west.edge.example.com",latency:50,load:.3,status:"active",capabilities:["cache","compute","cdn"],lastHealthCheck:Date.now()},{id:"edge-us-east",region:"US East",endpoint:"https://us-east.edge.example.com",latency:45,load:.5,status:"active",capabilities:["cache","compute","cdn"],lastHealthCheck:Date.now()},{id:"edge-eu-central",region:"EU Central",endpoint:"https://eu-central.edge.example.com",latency:80,load:.2,status:"active",capabilities:["cache","cdn"],lastHealthCheck:Date.now()},{id:"edge-asia-pacific",region:"Asia Pacific",endpoint:"https://ap.edge.example.com",latency:120,load:.7,status:"maintenance",capabilities:["cache"],lastHealthCheck:Date.now()-6e4}].forEach(t=>this.nodes.set(t.id,t))}selectOptimalNode(s){const t=Array.from(this.nodes.values()).filter(i=>i.status==="active");if(t.length===0)return null;const a=t.map(i=>({node:i,score:this.calculateNodeScore(i,s)}));return a.sort((i,c)=>c.score-i.score),a[0].node}calculateNodeScore(s,t){let a=100;if(a-=s.latency/10*.4,a-=s.load*100*.3,t&&this.cdnConfig.geoRouting){const i=this.calculateGeoScore(s.region,t);a+=i*.2}return a+=s.capabilities.length*5*.1,Math.max(0,a)}calculateGeoScore(s,t){const i={"US West":["california","oregon","washington","nevada"],"US East":["new york","florida","virginia","massachusetts"],"EU Central":["germany","france","netherlands","belgium"],"Asia Pacific":["japan","singapore","australia","korea"]}[s]||[],c=t.toLowerCase();return i.some(h=>c.includes(h))?50:0}async edgeRequest(s,t={}){const a=this.generateCacheKey(s,t);if(this.cdnConfig.enableEdgeCache){const c=this.getFromCache(a);if(c)return{data:c,fromCache:!0,node:"cache"}}const i=this.selectOptimalNode();if(!i)throw new Error("No active edge nodes available");try{const c=Date.now();await new Promise(u=>setTimeout(u,i.latency+Math.random()*50));const h=this.generateMockResponse(s),m=Date.now()-c;return this.updateNodeStats(i.id,m,!0),this.cdnConfig.enableEdgeCache&&this.setCache(a,h,this.cdnConfig.ttl),{data:h,fromCache:!1,node:i.region,duration:m}}catch(c){throw this.updateNodeStats(i.id,0,!1),c}}generateMockResponse(s){return{"https://api.example.com/data":{id:Math.floor(Math.random()*1e3),message:"Hello from edge node!",timestamp:new Date().toISOString(),cached:!1},"https://api.example.com/popular-content":{posts:[{id:1,title:"Popular Post 1",views:1500},{id:2,title:"Popular Post 2",views:1200}],total:2},"https://api.example.com/trending-posts":{trending:[{id:3,title:"Trending Now",score:95},{id:4,title:"Hot Topic",score:88}]},"https://api.example.com/user-preferences":{theme:"dark",language:"zh-CN",notifications:!0}}[s]||{url:s,data:"Mock response data",timestamp:new Date().toISOString(),nodeProcessed:!0}}buildEdgeUrl(s,t){const a=new URL(t);return`${s}/proxy${a.pathname}${a.search}`}generateCacheKey(s,t){const a=t.method||"GET",i=JSON.stringify(t.headers||{});return`${a}:${s}:${i}`}getFromCache(s){const t=this.cache.get(s);return t?Date.now()-t.timestamp>t.ttl?(this.cache.delete(s),null):t.data:null}setCache(s,t,a){if(this.cache.size>=this.cdnConfig.maxCacheSize){const i=this.cache.keys().next().value;this.cache.delete(i)}this.cache.set(s,{data:t,timestamp:Date.now(),ttl:a})}async warmupRequests(){if(!this.warmupConfig.enabled||this.warmupConfig.urls.length===0)return;const s=this.warmupConfig.urls.map(async t=>{try{return await this.edgeRequest(t),{url:t,success:!0}}catch(a){return{url:t,success:!1,error:a.message}}});await Promise.allSettled(s),this.notifyListeners()}startWarmup(){this.warmupInterval=setInterval(()=>{this.warmupRequests()},this.warmupConfig.interval)}startHealthCheck(){this.healthCheckInterval=setInterval(()=>{this.performHealthCheck()},3e4)}async performHealthCheck(){const s=Array.from(this.nodes.values()).map(async t=>{try{const a=Date.now(),i=await fetch(`${t.endpoint}/health`,{method:"GET",timeout:5e3}),c=Date.now()-a;i.ok?(t.status="active",t.latency=c,t.lastHealthCheck=Date.now()):t.status="inactive"}catch{t.status="inactive"}});await Promise.allSettled(s),this.notifyListeners()}updateNodeStats(s,t,a){const i=this.nodes.get(s);i&&(a?(i.load=Math.max(0,i.load-.1),i.latency=(i.latency+t)/2):i.load=Math.min(1,i.load+.2))}getEdgeNodes(){return Array.from(this.nodes.values())}getCacheStats(){const s=Date.now();let t=0,a=0;for(const[i,c]of this.cache.entries())s-c.timestamp>c.ttl?a++:t++;return{totalEntries:this.cache.size,validEntries:t,expiredEntries:a,hitRate:t/(t+a)||0,maxSize:this.cdnConfig.maxCacheSize}}cleanupCache(){const s=Date.now();for(const[t,a]of this.cache.entries())s-a.timestamp>a.ttl&&this.cache.delete(t)}addListener(s){this.listeners.add(s)}removeListener(s){this.listeners.delete(s)}notifyListeners(){this.listeners.forEach(s=>s())}destroy(){this.warmupInterval&&clearInterval(this.warmupInterval),this.healthCheckInterval&&clearInterval(this.healthCheckInterval),this.listeners.clear(),this.cache.clear()}}const R=()=>{const[n]=l.useState(()=>new D({enableEdgeCache:!0,cacheStrategy:"lru",maxCacheSize:50,ttl:12e4,compressionEnabled:!0,prefetchEnabled:!0,geoRouting:!0},{enabled:!0,urls:["https://api.example.com/popular-content","https://api.example.com/trending-posts","https://api.example.com/user-preferences"],interval:15e3,concurrency:2,retryCount:1})),[s,t]=l.useState([]),[a,i]=l.useState({}),[c,h]=l.useState([]),[m,u]=l.useState(!1),[g,f]=l.useState("https://api.example.com/data"),[b,j]=l.useState("california"),o=l.useCallback(()=>{t(n.getEdgeNodes()),i(n.getCacheStats())},[n]);l.useEffect(()=>(n.addListener(o),o(),()=>{n.removeListener(o),n.destroy()}),[n,o]);const y=l.useCallback(async()=>{u(!0);try{const r=Date.now(),p=await n.edgeRequest(g),x=Date.now()-r,N={id:Date.now(),url:g,...p,totalTime:x,timestamp:new Date().toLocaleTimeString()};h(w=>[N,...w.slice(0,9)]),o()}catch(r){const p={id:Date.now(),url:g,error:r.message,timestamp:new Date().toLocaleTimeString()};h(x=>[p,...x.slice(0,9)])}finally{u(!1)}},[n,g,o]),v=l.useCallback(async()=>{u(!0);try{await n.warmupRequests(),o()}catch(r){console.error("Warmup failed:",r)}finally{u(!1)}},[n,o]),C=l.useCallback(()=>{n.cleanupCache(),o()},[n,o]);return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"è¾¹ç¼˜è®¡ç®—ç®¡ç†æ¼”ç¤º"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"è¯·æ±‚é…ç½®"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"è¯·æ±‚URL"}),e.jsx("input",{type:"text",value:g,onChange:r=>f(r.target.value),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"è¾“å…¥API URL"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"ç”¨æˆ·ä½ç½®"}),e.jsxs("select",{value:b,onChange:r=>j(r.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[e.jsx("option",{value:"california",children:"California (US West)"}),e.jsx("option",{value:"new york",children:"New York (US East)"}),e.jsx("option",{value:"germany",children:"Germany (EU Central)"}),e.jsx("option",{value:"japan",children:"Japan (Asia Pacific)"})]})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:y,disabled:m,className:"flex-1 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white px-4 py-2 rounded-md transition-colors",children:m?"è¯·æ±‚ä¸­...":"è¾¹ç¼˜è¯·æ±‚"}),e.jsx("button",{onClick:v,disabled:m,className:"flex-1 bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white px-4 py-2 rounded-md transition-colors",children:"é¢„çƒ­è¯·æ±‚"}),e.jsx("button",{onClick:C,className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-md transition-colors",children:"æ¸…ç†ç¼“å­˜"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"è¾¹ç¼˜èŠ‚ç‚¹çŠ¶æ€"}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:s.map(r=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"font-medium text-sm",children:r.region}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${r.status==="active"?"bg-green-100 text-green-800":r.status==="inactive"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:r.status})]}),e.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[e.jsxs("div",{children:["å»¶è¿Ÿ: ",r.latency,"ms"]}),e.jsxs("div",{children:["è´Ÿè½½: ",(r.load*100).toFixed(1),"%"]}),e.jsxs("div",{children:["èƒ½åŠ›: ",r.capabilities.join(", ")]})]})]},r.id))})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"ç¼“å­˜ç»Ÿè®¡"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-3 rounded-md",children:[e.jsx("div",{className:"text-sm text-blue-600",children:"æ€»æ¡ç›®"}),e.jsx("div",{className:"text-lg font-semibold text-blue-900",children:a.totalEntries||0})]}),e.jsxs("div",{className:"bg-green-50 p-3 rounded-md",children:[e.jsx("div",{className:"text-sm text-green-600",children:"æœ‰æ•ˆæ¡ç›®"}),e.jsx("div",{className:"text-lg font-semibold text-green-900",children:a.validEntries||0})]}),e.jsxs("div",{className:"bg-red-50 p-3 rounded-md",children:[e.jsx("div",{className:"text-sm text-red-600",children:"è¿‡æœŸæ¡ç›®"}),e.jsx("div",{className:"text-lg font-semibold text-red-900",children:a.expiredEntries||0})]}),e.jsxs("div",{className:"bg-purple-50 p-3 rounded-md",children:[e.jsx("div",{className:"text-sm text-purple-600",children:"å‘½ä¸­ç‡"}),e.jsxs("div",{className:"text-lg font-semibold text-purple-900",children:[((a.hitRate||0)*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"æœ€å¤§å®¹é‡"}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:a.maxSize||0})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"è¯·æ±‚ç»“æœ (æœ€è¿‘10æ¡)"}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:c.length===0?e.jsx("div",{className:"text-gray-500 text-center py-4",children:"æš‚æ— è¯·æ±‚è®°å½•"}):c.map(r=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-md",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("span",{className:"text-sm font-medium truncate flex-1 mr-2",children:r.url}),e.jsx("span",{className:"text-xs text-gray-500",children:r.timestamp})]}),r.error?e.jsxs("div",{className:"text-xs text-red-600",children:["é”™è¯¯: ",r.error]}):e.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[e.jsxs("div",{children:["èŠ‚ç‚¹: ",r.node," | è€—æ—¶: ",r.totalTime,"ms"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full ${r.fromCache?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:r.fromCache?"ç¼“å­˜å‘½ä¸­":"è¾¹ç¼˜è¯·æ±‚"}),r.duration&&e.jsxs("span",{className:"text-gray-500",children:["è¾¹ç¼˜è€—æ—¶: ",r.duration,"ms"]})]})]})]},r.id))})]})]})})},U=()=>{const n={title:"è¾¹ç¼˜è®¡ç®—ç®¡ç†å™¨å®ç°",language:"typescript",code:`// è¾¹ç¼˜è®¡ç®—ç®¡ç†å™¨
class EdgeComputingManager {
  private nodes: Map<string, EdgeNode> = new Map();
  private cdnConfig: CDNConfig;
  private warmupConfig: WarmupConfig;
  private cache: Map<string, { data: any; timestamp: number; ttl: number }> = new Map();

  constructor(
    cdnConfig: Partial<CDNConfig> = {},
    warmupConfig: Partial<WarmupConfig> = {}
  ) {
    this.cdnConfig = {
      enableEdgeCache: true,
      cacheStrategy: 'lru',
      maxCacheSize: 100,
      ttl: 5 * 60 * 1000,
      compressionEnabled: true,
      prefetchEnabled: true,
      geoRouting: true,
      ...cdnConfig
    };

    this.initializeEdgeNodes();
    this.startHealthCheck();
    if (this.warmupConfig.enabled) {
      this.startWarmup();
    }
  }

  // é€‰æ‹©æœ€ä¼˜è¾¹ç¼˜èŠ‚ç‚¹
  selectOptimalNode(userLocation?: string): EdgeNode | null {
    const activeNodes = Array.from(this.nodes.values())
      .filter(node => node.status === 'active');

    if (activeNodes.length === 0) return null;

    // åŸºäºå»¶è¿Ÿå’Œè´Ÿè½½çš„ç»¼åˆè¯„åˆ†
    const scoredNodes = activeNodes.map(node => ({
      node,
      score: this.calculateNodeScore(node, userLocation)
    }));

    scoredNodes.sort((a, b) => b.score - a.score);
    return scoredNodes[0].node;
  }

  // è¾¹ç¼˜ç¼“å­˜è¯·æ±‚
  async edgeRequest(url: string, options: RequestInit = {}): Promise<any> {
    const cacheKey = this.generateCacheKey(url, options);
    
    // æ£€æŸ¥ç¼“å­˜
    if (this.cdnConfig.enableEdgeCache) {
      const cached = this.getFromCache(cacheKey);
      if (cached) {
        return { data: cached, fromCache: true, node: 'cache' };
      }
    }

    // é€‰æ‹©æœ€ä¼˜èŠ‚ç‚¹
    const optimalNode = this.selectOptimalNode();
    if (!optimalNode) {
      throw new Error('No active edge nodes available');
    }

    try {
      const startTime = Date.now();
      const edgeUrl = this.buildEdgeUrl(optimalNode.endpoint, url);
      
      const requestOptions = {
        ...options,
        headers: {
          ...options.headers,
          ...(this.cdnConfig.compressionEnabled && {
            'Accept-Encoding': 'gzip, deflate, br'
          })
        }
      };

      const response = await fetch(edgeUrl, requestOptions);
      const data = await response.json();
      const duration = Date.now() - startTime;

      // æ›´æ–°èŠ‚ç‚¹ç»Ÿè®¡å’Œç¼“å­˜å“åº”
      this.updateNodeStats(optimalNode.id, duration, true);
      if (this.cdnConfig.enableEdgeCache) {
        this.setCache(cacheKey, data, this.cdnConfig.ttl);
      }

      return { data, fromCache: false, node: optimalNode.region, duration };
    } catch (error) {
      this.updateNodeStats(optimalNode.id, 0, false);
      throw error;
    }
  }

  // è¯·æ±‚é¢„çƒ­
  async warmupRequests(): Promise<void> {
    if (!this.warmupConfig.enabled || this.warmupConfig.urls.length === 0) {
      return;
    }

    const promises = this.warmupConfig.urls.map(async (url) => {
      try {
        await this.edgeRequest(url);
        return { url, success: true };
      } catch (error) {
        return { url, success: false, error: error.message };
      }
    });

    await Promise.allSettled(promises);
    this.notifyListeners();
  }
}`,highlights:[30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100]};return e.jsx(k,{title:"è¾¹ç¼˜è®¡ç®—ä¼˜åŒ–",description:"å®ç°è¾¹ç¼˜è®¡ç®—ã€CDNåŠ é€Ÿå’Œè¯·æ±‚é¢„çƒ­ç­‰é«˜çº§ä¼˜åŒ–æŠ€æœ¯ï¼Œæå‡å…¨çƒç”¨æˆ·è®¿é—®ä½“éªŒã€‚",overview:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"ğŸ” æ ¸å¿ƒæ¦‚å¿µ"}),e.jsxs("ul",{className:"space-y-2 text-blue-800",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"è¾¹ç¼˜è®¡ç®—:"})," å°†è®¡ç®—å’Œå­˜å‚¨èµ„æºéƒ¨ç½²åˆ°é è¿‘ç”¨æˆ·çš„è¾¹ç¼˜èŠ‚ç‚¹"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"CDNåŠ é€Ÿ:"})," é€šè¿‡å†…å®¹åˆ†å‘ç½‘ç»œåŠ é€Ÿé™æ€èµ„æºè®¿é—®"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"è¯·æ±‚é¢„çƒ­:"})," æå‰ç¼“å­˜çƒ­ç‚¹æ•°æ®ï¼Œå‡å°‘ç”¨æˆ·ç­‰å¾…æ—¶é—´"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"æ™ºèƒ½è·¯ç”±:"})," åŸºäºåœ°ç†ä½ç½®å’Œç½‘ç»œçŠ¶å†µé€‰æ‹©æœ€ä¼˜èŠ‚ç‚¹"]})]})]}),e.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-3",children:"âœ¨ ä¸»è¦ä¼˜åŠ¿"}),e.jsxs("ul",{className:"space-y-2 text-green-800",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"å»¶è¿Ÿé™ä½:"})," å°±è¿‘è®¿é—®è¾¹ç¼˜èŠ‚ç‚¹ï¼Œæ˜¾è‘—å‡å°‘ç½‘ç»œå»¶è¿Ÿ"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"å¸¦å®½ä¼˜åŒ–:"})," å‡å°‘å›æºè¯·æ±‚ï¼ŒèŠ‚çœå¸¦å®½æˆæœ¬"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"å¯ç”¨æ€§æå‡:"})," å¤šèŠ‚ç‚¹å†—ä½™ï¼Œæé«˜æœåŠ¡å¯ç”¨æ€§"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"ç”¨æˆ·ä½“éªŒ:"})," å…¨çƒç”¨æˆ·äº«å—ä¸€è‡´çš„é«˜é€Ÿè®¿é—®ä½“éªŒ"]})]})]}),e.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-yellow-900 mb-3",children:"ğŸ¯ é€‚ç”¨åœºæ™¯"}),e.jsxs("ul",{className:"space-y-2 text-yellow-800",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"å…¨çƒåº”ç”¨:"})," é¢å‘å…¨çƒç”¨æˆ·çš„Webåº”ç”¨å’ŒAPIæœåŠ¡"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"é™æ€èµ„æº:"})," å›¾ç‰‡ã€è§†é¢‘ã€CSSã€JSç­‰é™æ€æ–‡ä»¶åˆ†å‘"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"å®æ—¶æ•°æ®:"})," éœ€è¦ä½å»¶è¿Ÿçš„å®æ—¶æ•°æ®è®¿é—®"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"é«˜å¹¶å‘:"})," å¤§æµé‡ã€é«˜å¹¶å‘çš„åº”ç”¨åœºæ™¯"]})]})]}),e.jsxs("div",{className:"bg-red-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-3",children:"âš ï¸ æ³¨æ„äº‹é¡¹"}),e.jsxs("ul",{className:"space-y-2 text-red-800",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"æ•°æ®ä¸€è‡´æ€§:"})," ç¡®ä¿è¾¹ç¼˜ç¼“å­˜ä¸æºæ•°æ®çš„ä¸€è‡´æ€§"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"æˆæœ¬æ§åˆ¶:"})," åˆç†é…ç½®ç¼“å­˜ç­–ç•¥ï¼Œæ§åˆ¶å­˜å‚¨æˆæœ¬"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"å®‰å…¨é˜²æŠ¤:"})," è¾¹ç¼˜èŠ‚ç‚¹çš„å®‰å…¨é˜²æŠ¤å’Œè®¿é—®æ§åˆ¶"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"ç›‘æ§å‘Šè­¦:"})," å®Œå–„çš„èŠ‚ç‚¹ç›‘æ§å’Œæ•…éšœå‘Šè­¦æœºåˆ¶"]})]})]})]}),examples:[{title:"è¾¹ç¼˜è®¡ç®—ç®¡ç†æ¼”ç¤º",component:e.jsx(R,{}),description:"æ¼”ç¤ºè¾¹ç¼˜è®¡ç®—ç®¡ç†å™¨çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬èŠ‚ç‚¹é€‰æ‹©ã€ç¼“å­˜ç®¡ç†ã€è¯·æ±‚é¢„çƒ­å’Œæ€§èƒ½ç›‘æ§ã€‚",observationPoints:["ç³»ç»Ÿä¼šè‡ªåŠ¨é€‰æ‹©æœ€ä¼˜çš„è¾¹ç¼˜èŠ‚ç‚¹å¤„ç†è¯·æ±‚","ç¼“å­˜å‘½ä¸­çš„è¯·æ±‚å“åº”é€Ÿåº¦æ˜æ˜¾æ›´å¿«","ä¸åŒåœ°ç†ä½ç½®ä¼šå½±å“èŠ‚ç‚¹é€‰æ‹©ç­–ç•¥","é¢„çƒ­åŠŸèƒ½å¯ä»¥æå‰ç¼“å­˜çƒ­ç‚¹æ•°æ®","èŠ‚ç‚¹å¥åº·æ£€æŸ¥ç¡®ä¿æœåŠ¡å¯ç”¨æ€§"],keyPoints:["è¾¹ç¼˜èŠ‚ç‚¹é€‰æ‹©åŸºäºå»¶è¿Ÿã€è´Ÿè½½å’Œåœ°ç†ä½ç½®ç»¼åˆè¯„åˆ†","æ”¯æŒLRUç¼“å­˜ç­–ç•¥å’ŒTTLè¿‡æœŸæœºåˆ¶","å®ç°äº†æ™ºèƒ½çš„åœ°ç†è·¯ç”±å’Œè´Ÿè½½å‡è¡¡","æä¾›å®Œæ•´çš„èŠ‚ç‚¹å¥åº·æ£€æŸ¥å’Œæ•…éšœè½¬ç§»","æ”¯æŒè¯·æ±‚é¢„çƒ­å’Œç¼“å­˜é¢„åŠ è½½åŠŸèƒ½"],commonTraps:["ç¼“å­˜ç­–ç•¥é…ç½®ä¸å½“å¯¼è‡´å‘½ä¸­ç‡ä½","èŠ‚ç‚¹é€‰æ‹©ç®—æ³•è¿‡äºç®€å•å½±å“æ€§èƒ½","ç¼ºå°‘å¥åº·æ£€æŸ¥å¯¼è‡´è¯·æ±‚å¤±è´¥","é¢„çƒ­é¢‘ç‡è¿‡é«˜æ¶ˆè€—è¿‡å¤šèµ„æº"],solutions:["æ ¹æ®ä¸šåŠ¡ç‰¹ç‚¹ä¼˜åŒ–ç¼“å­˜TTLå’Œå®¹é‡é…ç½®","å®ç°å¤šç»´åº¦çš„èŠ‚ç‚¹è¯„åˆ†ç®—æ³•","æ·»åŠ å®Œå–„çš„å¥åº·æ£€æŸ¥å’Œæ•…éšœæ¢å¤æœºåˆ¶","åˆç†è®¾ç½®é¢„çƒ­é—´éš”å’Œå¹¶å‘æ•°é™åˆ¶"],codeExample:n}],tutorial:{concepts:["è¾¹ç¼˜è®¡ç®—å°†è®¡ç®—èµ„æºéƒ¨ç½²åˆ°ç½‘ç»œè¾¹ç¼˜ï¼Œé è¿‘æ•°æ®æºå’Œç”¨æˆ·","CDNé€šè¿‡å…¨çƒåˆ†å¸ƒçš„èŠ‚ç‚¹ç¼“å­˜å†…å®¹ï¼ŒåŠ é€Ÿç”¨æˆ·è®¿é—®","è¯·æ±‚é¢„çƒ­é€šè¿‡æå‰åŠ è½½çƒ­ç‚¹æ•°æ®å‡å°‘é¦–æ¬¡è®¿é—®å»¶è¿Ÿ","æ™ºèƒ½è·¯ç”±åŸºäºå¤šç§å› ç´ é€‰æ‹©æœ€ä¼˜çš„æœåŠ¡èŠ‚ç‚¹","ç¼“å­˜ç­–ç•¥å†³å®šæ•°æ®çš„å­˜å‚¨æ—¶é—´å’Œæ·˜æ±°è§„åˆ™"],steps:["åˆå§‹åŒ–è¾¹ç¼˜èŠ‚ç‚¹é…ç½®å’ŒCDNå‚æ•°","å®ç°èŠ‚ç‚¹å¥åº·æ£€æŸ¥å’ŒçŠ¶æ€ç›‘æ§","å¼€å‘æ™ºèƒ½è·¯ç”±ç®—æ³•é€‰æ‹©æœ€ä¼˜èŠ‚ç‚¹","æ„å»ºç¼“å­˜ç®¡ç†ç³»ç»Ÿæ”¯æŒå¤šç§ç­–ç•¥","å®ç°è¯·æ±‚é¢„çƒ­å’Œç¼“å­˜é¢„åŠ è½½","æ·»åŠ æ€§èƒ½ç›‘æ§å’Œç»Ÿè®¡åˆ†æ","ä¼˜åŒ–æ•…éšœè½¬ç§»å’Œæ¢å¤æœºåˆ¶"],tips:["æ ¹æ®ç”¨æˆ·åœ°ç†åˆ†å¸ƒåˆç†éƒ¨ç½²è¾¹ç¼˜èŠ‚ç‚¹","ä½¿ç”¨å¤šç»´åº¦è¯„åˆ†ç®—æ³•ä¼˜åŒ–èŠ‚ç‚¹é€‰æ‹©","å®ç°æ¸è¿›å¼ç¼“å­˜é¢„çƒ­é¿å…çªå‘è´Ÿè½½","ç›‘æ§ç¼“å­˜å‘½ä¸­ç‡å¹¶åŠ¨æ€è°ƒæ•´ç­–ç•¥","è®¾ç½®åˆç†çš„è¶…æ—¶å’Œé‡è¯•æœºåˆ¶","å®šæœŸæ¸…ç†è¿‡æœŸç¼“å­˜é‡Šæ”¾å­˜å‚¨ç©ºé—´"]},interview:{questions:[{question:"è¾¹ç¼˜è®¡ç®—ä¸ä¼ ç»Ÿäº‘è®¡ç®—æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ",answer:"è¾¹ç¼˜è®¡ç®—ä¸ä¼ ç»Ÿäº‘è®¡ç®—çš„ä¸»è¦åŒºåˆ«ï¼š1) ä½ç½®ï¼šè¾¹ç¼˜è®¡ç®—åœ¨ç½‘ç»œè¾¹ç¼˜ï¼Œäº‘è®¡ç®—åœ¨ä¸­å¿ƒåŒ–æ•°æ®ä¸­å¿ƒï¼›2) å»¶è¿Ÿï¼šè¾¹ç¼˜è®¡ç®—å»¶è¿Ÿæ›´ä½ï¼Œäº‘è®¡ç®—å»¶è¿Ÿç›¸å¯¹è¾ƒé«˜ï¼›3) å¸¦å®½ï¼šè¾¹ç¼˜è®¡ç®—å‡å°‘å¸¦å®½æ¶ˆè€—ï¼Œäº‘è®¡ç®—éœ€è¦æ›´å¤šå¸¦å®½ï¼›4) å¤„ç†èƒ½åŠ›ï¼šè¾¹ç¼˜è®¡ç®—å¤„ç†èƒ½åŠ›æœ‰é™ï¼Œäº‘è®¡ç®—å¤„ç†èƒ½åŠ›å¼ºå¤§ï¼›5) é€‚ç”¨åœºæ™¯ï¼šè¾¹ç¼˜è®¡ç®—é€‚åˆå®æ—¶æ€§è¦æ±‚é«˜çš„åœºæ™¯ï¼Œäº‘è®¡ç®—é€‚åˆå¤æ‚è®¡ç®—ä»»åŠ¡ã€‚"},{question:"å¦‚ä½•è®¾è®¡é«˜æ•ˆçš„CDNç¼“å­˜ç­–ç•¥ï¼Ÿ",answer:"é«˜æ•ˆCDNç¼“å­˜ç­–ç•¥çš„è®¾è®¡è¦ç‚¹ï¼š1) ç¼“å­˜åˆ†å±‚ï¼šL1ç¼“å­˜ï¼ˆçƒ­ç‚¹æ•°æ®ï¼‰ã€L2ç¼“å­˜ï¼ˆæ¸©æ•°æ®ï¼‰ã€L3ç¼“å­˜ï¼ˆå†·æ•°æ®ï¼‰ï¼›2) TTLè®¾ç½®ï¼šæ ¹æ®æ•°æ®æ›´æ–°é¢‘ç‡è®¾ç½®åˆç†çš„è¿‡æœŸæ—¶é—´ï¼›3) ç¼“å­˜é¢„çƒ­ï¼šæå‰åŠ è½½é¢„æœŸçš„çƒ­ç‚¹å†…å®¹ï¼›4) æ™ºèƒ½æ·˜æ±°ï¼šLRUã€LFUç­‰ç®—æ³•ç»“åˆä¸šåŠ¡ç‰¹ç‚¹ï¼›5) å‹ç¼©ä¼˜åŒ–ï¼šå¯ç”¨gzipã€brotliç­‰å‹ç¼©ç®—æ³•ï¼›6) ç‰ˆæœ¬æ§åˆ¶ï¼šé€šè¿‡ç‰ˆæœ¬å·æˆ–ETagç®¡ç†ç¼“å­˜æ›´æ–°ã€‚"},{question:"è¾¹ç¼˜èŠ‚ç‚¹çš„é€‰æ‹©ç®—æ³•åº”è¯¥è€ƒè™‘å“ªäº›å› ç´ ï¼Ÿ",answer:"è¾¹ç¼˜èŠ‚ç‚¹é€‰æ‹©ç®—æ³•çš„è€ƒè™‘å› ç´ ï¼š1) ç½‘ç»œå»¶è¿Ÿï¼šRTTã€ä¸¢åŒ…ç‡ç­‰ç½‘ç»œè´¨é‡æŒ‡æ ‡ï¼›2) åœ°ç†è·ç¦»ï¼šç”¨æˆ·ä¸èŠ‚ç‚¹çš„ç‰©ç†è·ç¦»ï¼›3) èŠ‚ç‚¹è´Ÿè½½ï¼šCPUã€å†…å­˜ã€å¸¦å®½ä½¿ç”¨ç‡ï¼›4) èŠ‚ç‚¹èƒ½åŠ›ï¼šæ”¯æŒçš„åŠŸèƒ½å’ŒæœåŠ¡ç±»å‹ï¼›5) å†å²æ€§èƒ½ï¼šèŠ‚ç‚¹çš„ç¨³å®šæ€§å’Œå¯é æ€§è®°å½•ï¼›6) æˆæœ¬å› ç´ ï¼šä¸åŒèŠ‚ç‚¹çš„ä½¿ç”¨æˆæœ¬ï¼›7) æ³•è§„éµå¾ªï¼šæ•°æ®ä¸»æƒå’Œåˆè§„è¦æ±‚ï¼›8) åŠ¨æ€æƒé‡ï¼šæ ¹æ®å®æ—¶çŠ¶å†µè°ƒæ•´æƒé‡ã€‚"}],keyPoints:["è¾¹ç¼˜è®¡ç®—æ˜¯ç°ä»£Webåº”ç”¨æ€§èƒ½ä¼˜åŒ–çš„é‡è¦æŠ€æœ¯","CDNç¼“å­˜ç­–ç•¥ç›´æ¥å½±å“ç”¨æˆ·ä½“éªŒå’Œæˆæœ¬æ§åˆ¶","æ™ºèƒ½è·¯ç”±ç®—æ³•æ˜¯è¾¹ç¼˜è®¡ç®—ç³»ç»Ÿçš„æ ¸å¿ƒ","è¯·æ±‚é¢„çƒ­å¯ä»¥æ˜¾è‘—æå‡é¦–æ¬¡è®¿é—®æ€§èƒ½","èŠ‚ç‚¹å¥åº·ç›‘æ§ç¡®ä¿æœåŠ¡çš„é«˜å¯ç”¨æ€§","åˆç†çš„ç¼“å­˜ç®¡ç†ç­–ç•¥å¹³è¡¡æ€§èƒ½å’Œèµ„æºæ¶ˆè€—"]},bestPractices:{dos:["æ ¹æ®ç”¨æˆ·åˆ†å¸ƒå’Œä¸šåŠ¡éœ€æ±‚éƒ¨ç½²è¾¹ç¼˜èŠ‚ç‚¹","å®ç°å¤šç»´åº¦çš„èŠ‚ç‚¹é€‰æ‹©å’Œè´Ÿè½½å‡è¡¡ç®—æ³•","ä½¿ç”¨åˆ†å±‚ç¼“å­˜ç­–ç•¥ä¼˜åŒ–å­˜å‚¨æ•ˆç‡","æ·»åŠ å®Œå–„çš„ç›‘æ§å’Œå‘Šè­¦æœºåˆ¶","å®ç°æ¸è¿›å¼é¢„çƒ­é¿å…çªå‘è´Ÿè½½","å®šæœŸè¿›è¡Œç¼“å­˜æ¸…ç†å’Œä¼˜åŒ–","è®¾ç½®åˆç†çš„è¶…æ—¶å’Œé‡è¯•ç­–ç•¥","è€ƒè™‘æ•°æ®ä¸€è‡´æ€§å’Œå®‰å…¨æ€§è¦æ±‚"],donts:["ä¸è¦å¿½è§†èŠ‚ç‚¹çš„å¥åº·æ£€æŸ¥å’Œæ•…éšœå¤„ç†","ä¸è¦è®¾ç½®è¿‡é•¿çš„ç¼“å­˜TTLå½±å“æ•°æ®æ–°é²œåº¦","ä¸è¦åœ¨æ‰€æœ‰åœºæ™¯ä½¿ç”¨ç›¸åŒçš„ç¼“å­˜ç­–ç•¥","ä¸è¦å¿½ç•¥è¾¹ç¼˜èŠ‚ç‚¹çš„å®‰å…¨é˜²æŠ¤","ä¸è¦è¿‡åº¦é¢„çƒ­æ¶ˆè€—è¿‡å¤šèµ„æº","ä¸è¦ç¼ºå°‘ç¼“å­˜å‘½ä¸­ç‡çš„ç›‘æ§","ä¸è¦å¿½è§†ä¸åŒåœ°åŒºçš„æ³•è§„è¦æ±‚","ä¸è¦åœ¨ç§»åŠ¨ç½‘ç»œç¯å¢ƒä¸‹ä½¿ç”¨è¿‡å¤§çš„ç¼“å­˜"],patterns:["è¾¹ç¼˜ä¼˜å…ˆæ¨¡å¼ï¼šä¼˜å…ˆä½¿ç”¨è¾¹ç¼˜èŠ‚ç‚¹ï¼Œå›æºä½œä¸ºå¤‡é€‰","åˆ†å±‚ç¼“å­˜æ¨¡å¼ï¼šå¤šçº§ç¼“å­˜æé«˜å‘½ä¸­ç‡","æ™ºèƒ½è·¯ç”±æ¨¡å¼ï¼šåŠ¨æ€é€‰æ‹©æœ€ä¼˜èŠ‚ç‚¹","é¢„çƒ­æ¨¡å¼ï¼šæå‰åŠ è½½çƒ­ç‚¹æ•°æ®","æ•…éšœè½¬ç§»æ¨¡å¼ï¼šèŠ‚ç‚¹æ•…éšœæ—¶è‡ªåŠ¨åˆ‡æ¢","å‹ç¼©ä¼ è¾“æ¨¡å¼ï¼šå‡å°‘å¸¦å®½æ¶ˆè€—","ç‰ˆæœ¬æ§åˆ¶æ¨¡å¼ï¼šç®¡ç†ç¼“å­˜æ›´æ–°å’Œä¸€è‡´æ€§","ç›‘æ§åé¦ˆæ¨¡å¼ï¼šåŸºäºç›‘æ§æ•°æ®ä¼˜åŒ–ç­–ç•¥"]}})};export{U as default};
