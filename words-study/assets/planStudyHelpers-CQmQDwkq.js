import{A as o,D as P,h as S,d as c}from"./index-CNVOlx-d.js";const a=r=>{try{if(!r)throw new Error("Word parameter cannot be null or undefined");if(typeof r=="string")return r.trim();if(typeof r=="object"&&r.original)return r.original.trim();throw new Error("Invalid word format: expected string or object with original property")}catch{return""}},l=(r,t,e)=>{t.value=r,e.value=0},A=(r,t)=>(r.value=0,[]),O=r=>P.formatDateForDisplay(r),i={[o.PLAN_STATUS.ACTIVE]:{color:"bg-green-500",text:"进行中"},[o.PLAN_STATUS.COMPLETED]:{color:"bg-blue-500",text:"已完成"},[o.PLAN_STATUS.OVERDUE]:{color:"bg-red-500",text:"过期未完成"},[o.PLAN_STATUS.EARLY_COMPLETED]:{color:"bg-purple-500",text:"提前完成"},[o.PLAN_STATUS.EXPIRED]:{color:"bg-gray-500",text:"已过期"}},T={[o.PLAN_SELECTION_MODES.ALL]:"全部单词",[o.PLAN_SELECTION_MODES.BY_FILE]:"按文件选择",[o.PLAN_SELECTION_MODES.BY_GROUP]:"按分组选择",[o.PLAN_SELECTION_MODES.RATING]:"按评分选择"},_=r=>i[r]?.color??"bg-gray-500",L=r=>i[r]?.text??"未知",D=r=>T[r]??"未知",d={[o.STUDY_MODES.TODAY]:"今日学习",[o.STUDY_MODES.REVIEW]:"复习已完成",[o.STUDY_MODES.ALL]:"全部单词"},N=r=>{if(!r||r.progress.totalWords===0)return 0;const t=r.progress.completedWords.length/r.progress.totalWords*100;return Math.round(t)},Y=r=>d[r]??"",p=(r,t)=>{const e=a(r);return t.findIndex(n=>a(n)===e)},C=(r,t=o.STUDY_TYPES.PLAN,e)=>{const n=a(r);return t===o.STUDY_TYPES.PLAN?S().getWordProgress(n).totalAttempts:c().getPracticeCount(n,t,e)},U=(r,t=o.STUDY_TYPES.PLAN,e)=>{const n=c(),s=a(r);return n.getAverageScore(s,t,e)},f=(r,t=o.STUDY_TYPES.PLAN,e)=>{const n=c(),s=a(r);return n.getBestScoreForWord(s,t,e)},w=(r,t=o.STUDY_TYPES.PLAN,e)=>{if(!r)return 0;const n=a(r);return t===o.STUDY_TYPES.PLAN?S().getWordProgress(n).totalAttempts:c().getPracticeCount(n,t,e)},I=(r,t=o.STUDY_TYPES.PLAN,e)=>{if(!r)return 0;const n=c(),s=a(r);return n.getAverageScore(s,t,e)},M=(r,t=o.STUDY_TYPES.PLAN,e)=>{if(!r)return 0;const n=c(),s=a(r);return n.getBestScoreForWord(s,t,e)},W=(r,t=o.STUDY_TYPES.PLAN,e)=>{if(!r)return"无记录";const n=c(),s=a(r);return n.getLastPracticeTime(s,t,e)};export{L as a,N as b,D as c,Y as d,w as e,O as f,_ as g,I as h,M as i,W as j,p as k,C as l,U as m,f as n,A as o,l as s};
