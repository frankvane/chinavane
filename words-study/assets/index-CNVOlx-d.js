const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./StudyView-pQBz2WDG.js","./vue-BPmSeTKS.js","./_plugin-vue_export-helper-DlAUqK2U.js","./PronunciationResultModal-u6Hb3_57.js","./PronunciationResultModal-Pxt3ONJS.css","./dayjs-Bof1u0Bp.js","./StudyView-tr7ahdu7.css","./CreatePlanView-DK6PZVK4.js","./CreatePlanView-x6_ukUfF.css","./PlanManageView-Hi__p5gE.js","./planStudyHelpers-CQmQDwkq.js","./PlanStudyView-B0_A4577.js"])))=>i.map(i=>d[i]);
import{c as It,g as Qr,d as $}from"./dayjs-Bof1u0Bp.js";import{n as Sr,p as Zr,a as en,w as tn,c as pt,o as be,m as rn,s as nn,h as on,r as Wt,b as sn,d as an,e as Ie,f as lr,g as ht,i as nt,j as qe,F as Nt,k as qt,l as Kt,q as _r,t as ln,u as un,v as dt,x as cn,y as dn,z as Rt,A as Y,B as te,C as xt,D as Gt,E as tr,G as ie,H as wr,I as ur,J as Te,K as cr,L as br,M as Jt,N as fn,O as vn,P as hn,Q as pn,R as mn}from"./vue-BPmSeTKS.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const v of u)if(v.type==="childList")for(const m of v.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function r(u){const v={};return u.integrity&&(v.integrity=u.integrity),u.referrerPolicy&&(v.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?v.credentials="include":u.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function s(u){if(u.ep)return;u.ep=!0;const v=r(u);fetch(u.href,v)}})();function Pt(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Rr={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(s,u,v){function m(A,V){if(!u[A]){if(!s[A]){var E=typeof Pt=="function"&&Pt;if(!V&&E)return E(A,!0);if(p)return p(A,!0);var L=new Error("Cannot find module '"+A+"'");throw L.code="MODULE_NOT_FOUND",L}var U=u[A]={exports:{}};s[A][0].call(U.exports,function(ne){var ae=s[A][1][ne];return m(ae||ne)},U,U.exports,r,s,u,v)}return u[A].exports}for(var p=typeof Pt=="function"&&Pt,g=0;g<v.length;g++)m(v[g]);return m}({1:[function(r,s,u){(function(v){var m=v.MutationObserver||v.WebKitMutationObserver,p;if(m){var g=0,A=new m(ne),V=v.document.createTextNode("");A.observe(V,{characterData:!0}),p=function(){V.data=g=++g%2}}else if(!v.setImmediate&&typeof v.MessageChannel<"u"){var E=new v.MessageChannel;E.port1.onmessage=ne,p=function(){E.port2.postMessage(0)}}else"document"in v&&"onreadystatechange"in v.document.createElement("script")?p=function(){var ee=v.document.createElement("script");ee.onreadystatechange=function(){ne(),ee.onreadystatechange=null,ee.parentNode.removeChild(ee),ee=null},v.document.documentElement.appendChild(ee)}:p=function(){setTimeout(ne,0)};var L,U=[];function ne(){L=!0;for(var ee,j,B=U.length;B;){for(j=U,U=[],ee=-1;++ee<B;)j[ee]();B=U.length}L=!1}s.exports=ae;function ae(ee){U.push(ee)===1&&!L&&p()}}).call(this,typeof It<"u"?It:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,s,u){var v=r(1);function m(){}var p={},g=["REJECTED"],A=["FULFILLED"],V=["PENDING"];s.exports=E;function E(C){if(typeof C!="function")throw new TypeError("resolver must be a function");this.state=V,this.queue=[],this.outcome=void 0,C!==m&&ae(this,C)}E.prototype.catch=function(C){return this.then(null,C)},E.prototype.then=function(C,re){if(typeof C!="function"&&this.state===A||typeof re!="function"&&this.state===g)return this;var X=new this.constructor(m);if(this.state!==V){var W=this.state===A?C:re;U(X,W,this.outcome)}else this.queue.push(new L(X,C,re));return X};function L(C,re,X){this.promise=C,typeof re=="function"&&(this.onFulfilled=re,this.callFulfilled=this.otherCallFulfilled),typeof X=="function"&&(this.onRejected=X,this.callRejected=this.otherCallRejected)}L.prototype.callFulfilled=function(C){p.resolve(this.promise,C)},L.prototype.otherCallFulfilled=function(C){U(this.promise,this.onFulfilled,C)},L.prototype.callRejected=function(C){p.reject(this.promise,C)},L.prototype.otherCallRejected=function(C){U(this.promise,this.onRejected,C)};function U(C,re,X){v(function(){var W;try{W=re(X)}catch(q){return p.reject(C,q)}W===C?p.reject(C,new TypeError("Cannot resolve promise with itself")):p.resolve(C,W)})}p.resolve=function(C,re){var X=ee(ne,re);if(X.status==="error")return p.reject(C,X.value);var W=X.value;if(W)ae(C,W);else{C.state=A,C.outcome=re;for(var q=-1,k=C.queue.length;++q<k;)C.queue[q].callFulfilled(re)}return C},p.reject=function(C,re){C.state=g,C.outcome=re;for(var X=-1,W=C.queue.length;++X<W;)C.queue[X].callRejected(re);return C};function ne(C){var re=C&&C.then;if(C&&(typeof C=="object"||typeof C=="function")&&typeof re=="function")return function(){re.apply(C,arguments)}}function ae(C,re){var X=!1;function W(x){X||(X=!0,p.reject(C,x))}function q(x){X||(X=!0,p.resolve(C,x))}function k(){re(q,W)}var z=ee(k);z.status==="error"&&W(z.value)}function ee(C,re){var X={};try{X.value=C(re),X.status="success"}catch(W){X.status="error",X.value=W}return X}E.resolve=j;function j(C){return C instanceof this?C:p.resolve(new this(m),C)}E.reject=B;function B(C){var re=new this(m);return p.reject(re,C)}E.all=ve;function ve(C){var re=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var X=C.length,W=!1;if(!X)return this.resolve([]);for(var q=new Array(X),k=0,z=-1,x=new this(m);++z<X;)G(C[z],z);return x;function G(oe,de){re.resolve(oe).then(le,function(ge){W||(W=!0,p.reject(x,ge))});function le(ge){q[de]=ge,++k===X&&!W&&(W=!0,p.resolve(x,q))}}}E.race=Q;function Q(C){var re=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var X=C.length,W=!1;if(!X)return this.resolve([]);for(var q=-1,k=new this(m);++q<X;)z(C[q]);return k;function z(x){re.resolve(x).then(function(G){W||(W=!0,p.resolve(k,G))},function(G){W||(W=!0,p.reject(k,G))})}}},{1:1}],3:[function(r,s,u){(function(v){typeof v.Promise!="function"&&(v.Promise=r(2))}).call(this,typeof It<"u"?It:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,s,u){var v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};function m(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function p(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var g=p();function A(){try{if(!g||!g.open)return!1;var n=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),a=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!n||a)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function V(n,a){n=n||[],a=a||{};try{return new Blob(n,a)}catch(l){if(l.name!=="TypeError")throw l;for(var o=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,c=new o,d=0;d<n.length;d+=1)c.append(n[d]);return c.getBlob(a.type)}}typeof Promise>"u"&&r(3);var E=Promise;function L(n,a){a&&n.then(function(o){a(null,o)},function(o){a(o)})}function U(n,a,o){typeof a=="function"&&n.then(a),typeof o=="function"&&n.catch(o)}function ne(n){return typeof n!="string"&&(n=String(n)),n}function ae(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var ee="local-forage-detect-blob-support",j=void 0,B={},ve=Object.prototype.toString,Q="readonly",C="readwrite";function re(n){for(var a=n.length,o=new ArrayBuffer(a),c=new Uint8Array(o),d=0;d<a;d++)c[d]=n.charCodeAt(d);return o}function X(n){return new E(function(a){var o=n.transaction(ee,C),c=V([""]);o.objectStore(ee).put(c,"key"),o.onabort=function(d){d.preventDefault(),d.stopPropagation(),a(!1)},o.oncomplete=function(){var d=navigator.userAgent.match(/Chrome\/(\d+)/),l=navigator.userAgent.match(/Edge\//);a(l||!d||parseInt(d[1],10)>=43)}}).catch(function(){return!1})}function W(n){return typeof j=="boolean"?E.resolve(j):X(n).then(function(a){return j=a,j})}function q(n){var a=B[n.name],o={};o.promise=new E(function(c,d){o.resolve=c,o.reject=d}),a.deferredOperations.push(o),a.dbReady?a.dbReady=a.dbReady.then(function(){return o.promise}):a.dbReady=o.promise}function k(n){var a=B[n.name],o=a.deferredOperations.pop();if(o)return o.resolve(),o.promise}function z(n,a){var o=B[n.name],c=o.deferredOperations.pop();if(c)return c.reject(a),c.promise}function x(n,a){return new E(function(o,c){if(B[n.name]=B[n.name]||Le(),n.db)if(a)q(n),n.db.close();else return o(n.db);var d=[n.name];a&&d.push(n.version);var l=g.open.apply(g,d);a&&(l.onupgradeneeded=function(S){var T=l.result;try{T.createObjectStore(n.storeName),S.oldVersion<=1&&T.createObjectStore(ee)}catch(I){if(I.name!=="ConstraintError")throw I}}),l.onerror=function(S){S.preventDefault(),c(l.error)},l.onsuccess=function(){var S=l.result;S.onversionchange=function(T){T.target.close()},o(S),k(n)}})}function G(n){return x(n,!1)}function oe(n){return x(n,!0)}function de(n,a){if(!n.db)return!0;var o=!n.db.objectStoreNames.contains(n.storeName),c=n.version<n.db.version,d=n.version>n.db.version;if(c&&(n.version,n.version=n.db.version),d||o){if(o){var l=n.db.version+1;l>n.version&&(n.version=l)}return!0}return!1}function le(n){return new E(function(a,o){var c=new FileReader;c.onerror=o,c.onloadend=function(d){var l=btoa(d.target.result||"");a({__local_forage_encoded_blob:!0,data:l,type:n.type})},c.readAsBinaryString(n)})}function ge(n){var a=re(atob(n.data));return V([a],{type:n.type})}function Pe(n){return n&&n.__local_forage_encoded_blob}function Ae(n){var a=this,o=a._initReady().then(function(){var c=B[a._dbInfo.name];if(c&&c.dbReady)return c.dbReady});return U(o,n,n),o}function ke(n){q(n);for(var a=B[n.name],o=a.forages,c=0;c<o.length;c++){var d=o[c];d._dbInfo.db&&(d._dbInfo.db.close(),d._dbInfo.db=null)}return n.db=null,G(n).then(function(l){return n.db=l,de(n)?oe(n):l}).then(function(l){n.db=a.db=l;for(var S=0;S<o.length;S++)o[S]._dbInfo.db=l}).catch(function(l){throw z(n,l),l})}function ye(n,a,o,c){c===void 0&&(c=1);try{var d=n.db.transaction(n.storeName,a);o(null,d)}catch(l){if(c>0&&(!n.db||l.name==="InvalidStateError"||l.name==="NotFoundError"))return E.resolve().then(function(){if(!n.db||l.name==="NotFoundError"&&!n.db.objectStoreNames.contains(n.storeName)&&n.version<=n.db.version)return n.db&&(n.version=n.db.version+1),oe(n)}).then(function(){return ke(n).then(function(){ye(n,a,o,c-1)})}).catch(o);o(l)}}function Le(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Be(n){var a=this,o={db:null};if(n)for(var c in n)o[c]=n[c];var d=B[o.name];d||(d=Le(),B[o.name]=d),d.forages.push(a),a._initReady||(a._initReady=a.ready,a.ready=Ae);var l=[];function S(){return E.resolve()}for(var T=0;T<d.forages.length;T++){var I=d.forages[T];I!==a&&l.push(I._initReady().catch(S))}var P=d.forages.slice(0);return E.all(l).then(function(){return o.db=d.db,G(o)}).then(function(N){return o.db=N,de(o,a._defaultConfig.version)?oe(o):N}).then(function(N){o.db=d.db=N,a._dbInfo=o;for(var J=0;J<P.length;J++){var ce=P[J];ce!==a&&(ce._dbInfo.db=o.db,ce._dbInfo.version=o.version)}})}function ot(n,a){var o=this;n=ne(n);var c=new E(function(d,l){o.ready().then(function(){ye(o._dbInfo,Q,function(S,T){if(S)return l(S);try{var I=T.objectStore(o._dbInfo.storeName),P=I.get(n);P.onsuccess=function(){var N=P.result;N===void 0&&(N=null),Pe(N)&&(N=ge(N)),d(N)},P.onerror=function(){l(P.error)}}catch(N){l(N)}})}).catch(l)});return L(c,a),c}function st(n,a){var o=this,c=new E(function(d,l){o.ready().then(function(){ye(o._dbInfo,Q,function(S,T){if(S)return l(S);try{var I=T.objectStore(o._dbInfo.storeName),P=I.openCursor(),N=1;P.onsuccess=function(){var J=P.result;if(J){var ce=J.value;Pe(ce)&&(ce=ge(ce));var he=n(ce,J.key,N++);he!==void 0?d(he):J.continue()}else d()},P.onerror=function(){l(P.error)}}catch(J){l(J)}})}).catch(l)});return L(c,a),c}function at(n,a,o){var c=this;n=ne(n);var d=new E(function(l,S){var T;c.ready().then(function(){return T=c._dbInfo,ve.call(a)==="[object Blob]"?W(T.db).then(function(I){return I?a:le(a)}):a}).then(function(I){ye(c._dbInfo,C,function(P,N){if(P)return S(P);try{var J=N.objectStore(c._dbInfo.storeName);I===null&&(I=void 0);var ce=J.put(I,n);N.oncomplete=function(){I===void 0&&(I=null),l(I)},N.onabort=N.onerror=function(){var he=ce.error?ce.error:ce.transaction.error;S(he)}}catch(he){S(he)}})}).catch(S)});return L(d,o),d}function it(n,a){var o=this;n=ne(n);var c=new E(function(d,l){o.ready().then(function(){ye(o._dbInfo,C,function(S,T){if(S)return l(S);try{var I=T.objectStore(o._dbInfo.storeName),P=I.delete(n);T.oncomplete=function(){d()},T.onerror=function(){l(P.error)},T.onabort=function(){var N=P.error?P.error:P.transaction.error;l(N)}}catch(N){l(N)}})}).catch(l)});return L(c,a),c}function lt(n){var a=this,o=new E(function(c,d){a.ready().then(function(){ye(a._dbInfo,C,function(l,S){if(l)return d(l);try{var T=S.objectStore(a._dbInfo.storeName),I=T.clear();S.oncomplete=function(){c()},S.onabort=S.onerror=function(){var P=I.error?I.error:I.transaction.error;d(P)}}catch(P){d(P)}})}).catch(d)});return L(o,n),o}function ze(n){var a=this,o=new E(function(c,d){a.ready().then(function(){ye(a._dbInfo,Q,function(l,S){if(l)return d(l);try{var T=S.objectStore(a._dbInfo.storeName),I=T.count();I.onsuccess=function(){c(I.result)},I.onerror=function(){d(I.error)}}catch(P){d(P)}})}).catch(d)});return L(o,n),o}function Ke(n,a){var o=this,c=new E(function(d,l){if(n<0){d(null);return}o.ready().then(function(){ye(o._dbInfo,Q,function(S,T){if(S)return l(S);try{var I=T.objectStore(o._dbInfo.storeName),P=!1,N=I.openKeyCursor();N.onsuccess=function(){var J=N.result;if(!J){d(null);return}n===0||P?d(J.key):(P=!0,J.advance(n))},N.onerror=function(){l(N.error)}}catch(J){l(J)}})}).catch(l)});return L(c,a),c}function ut(n){var a=this,o=new E(function(c,d){a.ready().then(function(){ye(a._dbInfo,Q,function(l,S){if(l)return d(l);try{var T=S.objectStore(a._dbInfo.storeName),I=T.openKeyCursor(),P=[];I.onsuccess=function(){var N=I.result;if(!N){c(P);return}P.push(N.key),N.continue()},I.onerror=function(){d(I.error)}}catch(N){d(N)}})}).catch(d)});return L(o,n),o}function Je(n,a){a=ae.apply(this,arguments);var o=this.config();n=typeof n!="function"&&n||{},n.name||(n.name=n.name||o.name,n.storeName=n.storeName||o.storeName);var c=this,d;if(!n.name)d=E.reject("Invalid arguments");else{var l=n.name===o.name&&c._dbInfo.db,S=l?E.resolve(c._dbInfo.db):G(n).then(function(T){var I=B[n.name],P=I.forages;I.db=T;for(var N=0;N<P.length;N++)P[N]._dbInfo.db=T;return T});n.storeName?d=S.then(function(T){if(T.objectStoreNames.contains(n.storeName)){var I=T.version+1;q(n);var P=B[n.name],N=P.forages;T.close();for(var J=0;J<N.length;J++){var ce=N[J];ce._dbInfo.db=null,ce._dbInfo.version=I}var he=new E(function(me,De){var we=g.open(n.name,I);we.onerror=function(xe){var wt=we.result;wt.close(),De(xe)},we.onupgradeneeded=function(){var xe=we.result;xe.deleteObjectStore(n.storeName)},we.onsuccess=function(){var xe=we.result;xe.close(),me(xe)}});return he.then(function(me){P.db=me;for(var De=0;De<N.length;De++){var we=N[De];we._dbInfo.db=me,k(we._dbInfo)}}).catch(function(me){throw(z(n,me)||E.resolve()).catch(function(){}),me})}}):d=S.then(function(T){q(n);var I=B[n.name],P=I.forages;T.close();for(var N=0;N<P.length;N++){var J=P[N];J._dbInfo.db=null}var ce=new E(function(he,me){var De=g.deleteDatabase(n.name);De.onerror=function(){var we=De.result;we&&we.close(),me(De.error)},De.onblocked=function(){},De.onsuccess=function(){var we=De.result;we&&we.close(),he(we)}});return ce.then(function(he){I.db=he;for(var me=0;me<P.length;me++){var De=P[me];k(De._dbInfo)}}).catch(function(he){throw(z(n,he)||E.resolve()).catch(function(){}),he})})}return L(d,a),d}var We={_driver:"asyncStorage",_initStorage:Be,_support:A(),iterate:st,getItem:ot,setItem:at,removeItem:it,clear:lt,length:ze,key:Ke,keys:ut,dropInstance:Je};function $e(){return typeof openDatabase=="function"}var Oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ue="~~local_forage_type~",Ye=/^~~local_forage_type~([^~]+)~/,He="__lfsc__:",Xe=He.length,Ve="arbf",h="blob",y="si08",_="ui08",b="uic8",M="si16",O="si32",F="ur16",pe="ui32",_e="fl32",Ee="fl64",Ge=Xe+Ve.length,je=Object.prototype.toString;function Qe(n){var a=n.length*.75,o=n.length,c,d=0,l,S,T,I;n[n.length-1]==="="&&(a--,n[n.length-2]==="="&&a--);var P=new ArrayBuffer(a),N=new Uint8Array(P);for(c=0;c<o;c+=4)l=Oe.indexOf(n[c]),S=Oe.indexOf(n[c+1]),T=Oe.indexOf(n[c+2]),I=Oe.indexOf(n[c+3]),N[d++]=l<<2|S>>4,N[d++]=(S&15)<<4|T>>2,N[d++]=(T&3)<<6|I&63;return P}function Ze(n){var a=new Uint8Array(n),o="",c;for(c=0;c<a.length;c+=3)o+=Oe[a[c]>>2],o+=Oe[(a[c]&3)<<4|a[c+1]>>4],o+=Oe[(a[c+1]&15)<<2|a[c+2]>>6],o+=Oe[a[c+2]&63];return a.length%3===2?o=o.substring(0,o.length-1)+"=":a.length%3===1&&(o=o.substring(0,o.length-2)+"=="),o}function ft(n,a){var o="";if(n&&(o=je.call(n)),n&&(o==="[object ArrayBuffer]"||n.buffer&&je.call(n.buffer)==="[object ArrayBuffer]")){var c,d=He;n instanceof ArrayBuffer?(c=n,d+=Ve):(c=n.buffer,o==="[object Int8Array]"?d+=y:o==="[object Uint8Array]"?d+=_:o==="[object Uint8ClampedArray]"?d+=b:o==="[object Int16Array]"?d+=M:o==="[object Uint16Array]"?d+=F:o==="[object Int32Array]"?d+=O:o==="[object Uint32Array]"?d+=pe:o==="[object Float32Array]"?d+=_e:o==="[object Float64Array]"?d+=Ee:a(new Error("Failed to get type for BinaryArray"))),a(d+Ze(c))}else if(o==="[object Blob]"){var l=new FileReader;l.onload=function(){var S=Ue+n.type+"~"+Ze(this.result);a(He+h+S)},l.readAsArrayBuffer(n)}else try{a(JSON.stringify(n))}catch(S){a(null,S)}}function Dt(n){if(n.substring(0,Xe)!==He)return JSON.parse(n);var a=n.substring(Ge),o=n.substring(Xe,Ge),c;if(o===h&&Ye.test(a)){var d=a.match(Ye);c=d[1],a=a.substring(d[0].length)}var l=Qe(a);switch(o){case Ve:return l;case h:return V([l],{type:c});case y:return new Int8Array(l);case _:return new Uint8Array(l);case b:return new Uint8ClampedArray(l);case M:return new Int16Array(l);case F:return new Uint16Array(l);case O:return new Int32Array(l);case pe:return new Uint32Array(l);case _e:return new Float32Array(l);case Ee:return new Float64Array(l);default:throw new Error("Unkown type: "+o)}}var et={serialize:ft,deserialize:Dt,stringToBuffer:Qe,bufferToString:Ze};function gt(n,a,o,c){n.executeSql("CREATE TABLE IF NOT EXISTS "+a.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],o,c)}function yt(n){var a=this,o={db:null};if(n)for(var c in n)o[c]=typeof n[c]!="string"?n[c].toString():n[c];var d=new E(function(l,S){try{o.db=openDatabase(o.name,String(o.version),o.description,o.size)}catch(T){return S(T)}o.db.transaction(function(T){gt(T,o,function(){a._dbInfo=o,l()},function(I,P){S(P)})},S)});return o.serializer=et,d}function Fe(n,a,o,c,d,l){n.executeSql(o,c,d,function(S,T){T.code===T.SYNTAX_ERR?S.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[a.storeName],function(I,P){P.rows.length?l(I,T):gt(I,a,function(){I.executeSql(o,c,d,l)},l)},l):l(S,T)},l)}function Et(n,a){var o=this;n=ne(n);var c=new E(function(d,l){o.ready().then(function(){var S=o._dbInfo;S.db.transaction(function(T){Fe(T,S,"SELECT * FROM "+S.storeName+" WHERE key = ? LIMIT 1",[n],function(I,P){var N=P.rows.length?P.rows.item(0).value:null;N&&(N=S.serializer.deserialize(N)),d(N)},function(I,P){l(P)})})}).catch(l)});return L(c,a),c}function Tt(n,a){var o=this,c=new E(function(d,l){o.ready().then(function(){var S=o._dbInfo;S.db.transaction(function(T){Fe(T,S,"SELECT * FROM "+S.storeName,[],function(I,P){for(var N=P.rows,J=N.length,ce=0;ce<J;ce++){var he=N.item(ce),me=he.value;if(me&&(me=S.serializer.deserialize(me)),me=n(me,he.key,ce+1),me!==void 0){d(me);return}}d()},function(I,P){l(P)})})}).catch(l)});return L(c,a),c}function St(n,a,o,c){var d=this;n=ne(n);var l=new E(function(S,T){d.ready().then(function(){a===void 0&&(a=null);var I=a,P=d._dbInfo;P.serializer.serialize(a,function(N,J){J?T(J):P.db.transaction(function(ce){Fe(ce,P,"INSERT OR REPLACE INTO "+P.storeName+" (key, value) VALUES (?, ?)",[n,N],function(){S(I)},function(he,me){T(me)})},function(ce){if(ce.code===ce.QUOTA_ERR){if(c>0){S(St.apply(d,[n,I,o,c-1]));return}T(ce)}})})}).catch(T)});return L(l,o),l}function At(n,a,o){return St.apply(this,[n,a,o,1])}function kt(n,a){var o=this;n=ne(n);var c=new E(function(d,l){o.ready().then(function(){var S=o._dbInfo;S.db.transaction(function(T){Fe(T,S,"DELETE FROM "+S.storeName+" WHERE key = ?",[n],function(){d()},function(I,P){l(P)})})}).catch(l)});return L(c,a),c}function w(n){var a=this,o=new E(function(c,d){a.ready().then(function(){var l=a._dbInfo;l.db.transaction(function(S){Fe(S,l,"DELETE FROM "+l.storeName,[],function(){c()},function(T,I){d(I)})})}).catch(d)});return L(o,n),o}function Z(n){var a=this,o=new E(function(c,d){a.ready().then(function(){var l=a._dbInfo;l.db.transaction(function(S){Fe(S,l,"SELECT COUNT(key) as c FROM "+l.storeName,[],function(T,I){var P=I.rows.item(0).c;c(P)},function(T,I){d(I)})})}).catch(d)});return L(o,n),o}function se(n,a){var o=this,c=new E(function(d,l){o.ready().then(function(){var S=o._dbInfo;S.db.transaction(function(T){Fe(T,S,"SELECT key FROM "+S.storeName+" WHERE id = ? LIMIT 1",[n+1],function(I,P){var N=P.rows.length?P.rows.item(0).key:null;d(N)},function(I,P){l(P)})})}).catch(l)});return L(c,a),c}function i(n){var a=this,o=new E(function(c,d){a.ready().then(function(){var l=a._dbInfo;l.db.transaction(function(S){Fe(S,l,"SELECT key FROM "+l.storeName,[],function(T,I){for(var P=[],N=0;N<I.rows.length;N++)P.push(I.rows.item(N).key);c(P)},function(T,I){d(I)})})}).catch(d)});return L(o,n),o}function f(n){return new E(function(a,o){n.transaction(function(c){c.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(d,l){for(var S=[],T=0;T<l.rows.length;T++)S.push(l.rows.item(T).name);a({db:n,storeNames:S})},function(d,l){o(l)})},function(c){o(c)})})}function D(n,a){a=ae.apply(this,arguments);var o=this.config();n=typeof n!="function"&&n||{},n.name||(n.name=n.name||o.name,n.storeName=n.storeName||o.storeName);var c=this,d;return n.name?d=new E(function(l){var S;n.name===o.name?S=c._dbInfo.db:S=openDatabase(n.name,"","",0),n.storeName?l({db:S,storeNames:[n.storeName]}):l(f(S))}).then(function(l){return new E(function(S,T){l.db.transaction(function(I){function P(he){return new E(function(me,De){I.executeSql("DROP TABLE IF EXISTS "+he,[],function(){me()},function(we,xe){De(xe)})})}for(var N=[],J=0,ce=l.storeNames.length;J<ce;J++)N.push(P(l.storeNames[J]));E.all(N).then(function(){S()}).catch(function(he){T(he)})},function(I){T(I)})})}):d=E.reject("Invalid arguments"),L(d,a),d}var R={_driver:"webSQLStorage",_initStorage:yt,_support:$e(),iterate:Tt,getItem:Et,setItem:At,removeItem:kt,clear:w,length:Z,key:se,keys:i,dropInstance:D};function K(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function ue(n,a){var o=n.name+"/";return n.storeName!==a.storeName&&(o+=n.storeName+"/"),o}function fe(){var n="_localforage_support_test";try{return localStorage.setItem(n,!0),localStorage.removeItem(n),!1}catch{return!0}}function Re(){return!fe()||localStorage.length>0}function Ce(n){var a=this,o={};if(n)for(var c in n)o[c]=n[c];return o.keyPrefix=ue(n,a._defaultConfig),Re()?(a._dbInfo=o,o.serializer=et,E.resolve()):E.reject()}function Me(n){var a=this,o=a.ready().then(function(){for(var c=a._dbInfo.keyPrefix,d=localStorage.length-1;d>=0;d--){var l=localStorage.key(d);l.indexOf(c)===0&&localStorage.removeItem(l)}});return L(o,n),o}function Ne(n,a){var o=this;n=ne(n);var c=o.ready().then(function(){var d=o._dbInfo,l=localStorage.getItem(d.keyPrefix+n);return l&&(l=d.serializer.deserialize(l)),l});return L(c,a),c}function Se(n,a){var o=this,c=o.ready().then(function(){for(var d=o._dbInfo,l=d.keyPrefix,S=l.length,T=localStorage.length,I=1,P=0;P<T;P++){var N=localStorage.key(P);if(N.indexOf(l)===0){var J=localStorage.getItem(N);if(J&&(J=d.serializer.deserialize(J)),J=n(J,N.substring(S),I++),J!==void 0)return J}}});return L(c,a),c}function ct(n,a){var o=this,c=o.ready().then(function(){var d=o._dbInfo,l;try{l=localStorage.key(n)}catch{l=null}return l&&(l=l.substring(d.keyPrefix.length)),l});return L(c,a),c}function tt(n){var a=this,o=a.ready().then(function(){for(var c=a._dbInfo,d=localStorage.length,l=[],S=0;S<d;S++){var T=localStorage.key(S);T.indexOf(c.keyPrefix)===0&&l.push(T.substring(c.keyPrefix.length))}return l});return L(o,n),o}function Wr(n){var a=this,o=a.keys().then(function(c){return c.length});return L(o,n),o}function $r(n,a){var o=this;n=ne(n);var c=o.ready().then(function(){var d=o._dbInfo;localStorage.removeItem(d.keyPrefix+n)});return L(c,a),c}function Yr(n,a,o){var c=this;n=ne(n);var d=c.ready().then(function(){a===void 0&&(a=null);var l=a;return new E(function(S,T){var I=c._dbInfo;I.serializer.serialize(a,function(P,N){if(N)T(N);else try{localStorage.setItem(I.keyPrefix+n,P),S(l)}catch(J){(J.name==="QuotaExceededError"||J.name==="NS_ERROR_DOM_QUOTA_REACHED")&&T(J),T(J)}})})});return L(d,o),d}function Fr(n,a){if(a=ae.apply(this,arguments),n=typeof n!="function"&&n||{},!n.name){var o=this.config();n.name=n.name||o.name,n.storeName=n.storeName||o.storeName}var c=this,d;return n.name?d=new E(function(l){n.storeName?l(ue(n,c._defaultConfig)):l(n.name+"/")}).then(function(l){for(var S=localStorage.length-1;S>=0;S--){var T=localStorage.key(S);T.indexOf(l)===0&&localStorage.removeItem(T)}}):d=E.reject("Invalid arguments"),L(d,a),d}var kr={_driver:"localStorageWrapper",_initStorage:Ce,_support:K(),iterate:Se,getItem:Ne,setItem:Yr,removeItem:$r,clear:Me,length:Wr,key:ct,keys:tt,dropInstance:Fr},Br=function(a,o){return a===o||typeof a=="number"&&typeof o=="number"&&isNaN(a)&&isNaN(o)},Ur=function(a,o){for(var c=a.length,d=0;d<c;){if(Br(a[d],o))return!0;d++}return!1},sr=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"},_t={},ar={},vt={INDEXEDDB:We,WEBSQL:R,LOCALSTORAGE:kr},Hr=[vt.INDEXEDDB._driver,vt.WEBSQL._driver,vt.LOCALSTORAGE._driver],Ot=["dropInstance"],Bt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ot),Vr={description:"",driver:Hr.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Gr(n,a){n[a]=function(){var o=arguments;return n.ready().then(function(){return n[a].apply(n,o)})}}function Ut(){for(var n=1;n<arguments.length;n++){var a=arguments[n];if(a)for(var o in a)a.hasOwnProperty(o)&&(sr(a[o])?arguments[0][o]=a[o].slice():arguments[0][o]=a[o])}return arguments[0]}var jr=function(){function n(a){m(this,n);for(var o in vt)if(vt.hasOwnProperty(o)){var c=vt[o],d=c._driver;this[o]=d,_t[d]||this.defineDriver(c)}this._defaultConfig=Ut({},Vr),this._config=Ut({},this._defaultConfig,a),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return n.prototype.config=function(o){if((typeof o>"u"?"undefined":v(o))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var c in o){if(c==="storeName"&&(o[c]=o[c].replace(/\W/g,"_")),c==="version"&&typeof o[c]!="number")return new Error("Database version must be a number.");this._config[c]=o[c]}return"driver"in o&&o.driver?this.setDriver(this._config.driver):!0}else return typeof o=="string"?this._config[o]:this._config},n.prototype.defineDriver=function(o,c,d){var l=new E(function(S,T){try{var I=o._driver,P=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!o._driver){T(P);return}for(var N=Bt.concat("_initStorage"),J=0,ce=N.length;J<ce;J++){var he=N[J],me=!Ur(Ot,he);if((me||o[he])&&typeof o[he]!="function"){T(P);return}}var De=function(){for(var wt=function(Jr){return function(){var Xr=new Error("Method "+Jr+" is not implemented by the current driver"),ir=E.reject(Xr);return L(ir,arguments[arguments.length-1]),ir}},Ht=0,Kr=Ot.length;Ht<Kr;Ht++){var Vt=Ot[Ht];o[Vt]||(o[Vt]=wt(Vt))}};De();var we=function(wt){_t[I],_t[I]=o,ar[I]=wt,S()};"_support"in o?o._support&&typeof o._support=="function"?o._support().then(we,T):we(!!o._support):we(!0)}catch(xe){T(xe)}});return U(l,c,d),l},n.prototype.driver=function(){return this._driver||null},n.prototype.getDriver=function(o,c,d){var l=_t[o]?E.resolve(_t[o]):E.reject(new Error("Driver not found."));return U(l,c,d),l},n.prototype.getSerializer=function(o){var c=E.resolve(et);return U(c,o),c},n.prototype.ready=function(o){var c=this,d=c._driverSet.then(function(){return c._ready===null&&(c._ready=c._initDriver()),c._ready});return U(d,o,o),d},n.prototype.setDriver=function(o,c,d){var l=this;sr(o)||(o=[o]);var S=this._getSupportedDrivers(o);function T(){l._config.driver=l.driver()}function I(J){return l._extend(J),T(),l._ready=l._initStorage(l._config),l._ready}function P(J){return function(){var ce=0;function he(){for(;ce<J.length;){var me=J[ce];return ce++,l._dbInfo=null,l._ready=null,l.getDriver(me).then(I).catch(he)}T();var De=new Error("No available storage method found.");return l._driverSet=E.reject(De),l._driverSet}return he()}}var N=this._driverSet!==null?this._driverSet.catch(function(){return E.resolve()}):E.resolve();return this._driverSet=N.then(function(){var J=S[0];return l._dbInfo=null,l._ready=null,l.getDriver(J).then(function(ce){l._driver=ce._driver,T(),l._wrapLibraryMethodsWithReady(),l._initDriver=P(S)})}).catch(function(){T();var J=new Error("No available storage method found.");return l._driverSet=E.reject(J),l._driverSet}),U(this._driverSet,c,d),this._driverSet},n.prototype.supports=function(o){return!!ar[o]},n.prototype._extend=function(o){Ut(this,o)},n.prototype._getSupportedDrivers=function(o){for(var c=[],d=0,l=o.length;d<l;d++){var S=o[d];this.supports(S)&&c.push(S)}return c},n.prototype._wrapLibraryMethodsWithReady=function(){for(var o=0,c=Bt.length;o<c;o++)Gr(this,Bt[o])},n.prototype.createInstance=function(o){return new n(o)},n}(),qr=new jr;s.exports=qr},{3:3}]},{},[4])(4)})})(Rr);var gn=Rr.exports;const Lt=Qr(gn);Lt.config({driver:Lt.INDEXEDDB,name:"vue3-words-study",version:1,storeName:"app_data",description:"Vue3 Words Study App Data"});const yn=()=>({getItem:e=>localStorage.getItem(e),setItem:(e,t)=>{localStorage.setItem(e,t);try{Lt.setItem(e,JSON.parse(t)).then(()=>{}).catch(r=>{})}catch{}},removeItem:e=>{localStorage.removeItem(e),Lt.removeItem(e).catch(t=>{})}}),rr=yn();function Sn(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var r=e.indexOf("Trident/");if(r>0){var s=e.indexOf("rv:");return parseInt(e.substring(s+3,e.indexOf(".",s)),10)}var u=e.indexOf("Edge/");return u>0?parseInt(e.substring(u+5,e.indexOf(".",u)),10):-1}let Ct;function Xt(){Xt.init||(Xt.init=!0,Ct=Sn()!==-1)}var $t={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){Xt(),Sr(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",Ct&&this.$el.appendChild(e),e.data="about:blank",Ct||this.$el.appendChild(e)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!Ct&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const _n=tn();Zr("data-v-b329ee4c");const wn={class:"resize-observer",tabindex:"-1"};en();const bn=_n((e,t,r,s,u,v)=>(be(),pt("div",wn)));$t.render=bn;$t.__scopeId="data-v-b329ee4c";$t.__file="src/components/ResizeObserver.vue";function Mt(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mt=function(t){return typeof t}:Mt=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mt(e)}function Rn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dn(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function En(e,t,r){return t&&Dn(e.prototype,t),e}function dr(e){return Tn(e)||An(e)||On(e)||In()}function Tn(e){if(Array.isArray(e))return Qt(e)}function An(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function On(e,t){if(e){if(typeof e=="string")return Qt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qt(e,t)}}function Qt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function In(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pn(e){var t;return typeof e=="function"?t={callback:e}:t=e,t}function Cn(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,u,v,m=function(g){for(var A=arguments.length,V=new Array(A>1?A-1:0),E=1;E<A;E++)V[E-1]=arguments[E];if(v=V,!(s&&g===u)){var L=r.leading;typeof L=="function"&&(L=L(g,u)),(!s||g!==u)&&L&&e.apply(void 0,[g].concat(dr(v))),u=g,clearTimeout(s),s=setTimeout(function(){e.apply(void 0,[g].concat(dr(v))),s=0},t)}};return m._clear=function(){clearTimeout(s),s=null},m}function Dr(e,t){if(e===t)return!0;if(Mt(e)==="object"){for(var r in e)if(!Dr(e[r],t[r]))return!1;return!0}return!1}var Mn=function(){function e(t,r,s){Rn(this,e),this.el=t,this.observer=null,this.frozen=!1,this.createObserver(r,s)}return En(e,[{key:"createObserver",value:function(r,s){var u=this;if(this.observer&&this.destroyObserver(),!this.frozen){if(this.options=Pn(r),this.callback=function(p,g){u.options.callback(p,g),p&&u.options.once&&(u.frozen=!0,u.destroyObserver())},this.callback&&this.options.throttle){var v=this.options.throttleOptions||{},m=v.leading;this.callback=Cn(this.callback,this.options.throttle,{leading:function(g){return m==="both"||m==="visible"&&g||m==="hidden"&&!g}})}this.oldResult=void 0,this.observer=new IntersectionObserver(function(p){var g=p[0];if(p.length>1){var A=p.find(function(E){return E.isIntersecting});A&&(g=A)}if(u.callback){var V=g.isIntersecting&&g.intersectionRatio>=u.threshold;if(V===u.oldResult)return;u.oldResult=V,u.callback(V,g)}},this.options.intersection),Sr(function(){u.observer&&u.observer.observe(u.el)})}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&typeof this.options.intersection.threshold=="number"?this.options.intersection.threshold:0}}]),e}();function Er(e,t,r){var s=t.value;if(s&&!(typeof IntersectionObserver>"u")){var u=new Mn(e,s,r);e._vue_visibilityState=u}}function Nn(e,t,r){var s=t.value,u=t.oldValue;if(!Dr(s,u)){var v=e._vue_visibilityState;if(!s){Tr(e);return}v?v.createObserver(s,r):Er(e,{value:s},r)}}function Tr(e){var t=e._vue_visibilityState;t&&(t.destroyObserver(),delete e._vue_visibilityState)}var xn={beforeMount:Er,updated:Nn,unmounted:Tr};function Ln(e){return{all:e=e||new Map,on:function(t,r){var s=e.get(t);s&&s.push(r)||e.set(t,[r])},off:function(t,r){var s=e.get(t);s&&s.splice(s.indexOf(r)>>>0,1)},emit:function(t,r){(e.get(t)||[]).slice().map(function(s){s(r)}),(e.get("*")||[]).slice().map(function(s){s(t,r)})}}}var zn={itemsLimit:1e3},Wn=/(auto|scroll)/;function Ar(e,t){return e.parentNode===null?t:Ar(e.parentNode,t.concat([e]))}var jt=function(t,r){return getComputedStyle(t,null).getPropertyValue(r)},$n=function(t){return jt(t,"overflow")+jt(t,"overflow-y")+jt(t,"overflow-x")},Yn=function(t){return Wn.test($n(t))};function fr(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var t=Ar(e.parentNode,[]),r=0;r<t.length;r+=1)if(Yn(t[r]))return t[r];return document.scrollingElement||document.documentElement}}function Zt(e){"@babel/helpers - typeof";return Zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zt(e)}var Or={items:{type:Array,required:!0},keyField:{type:String,default:"id"},direction:{type:String,default:"vertical",validator:function(t){return["vertical","horizontal"].includes(t)}},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"}};function Ir(){return this.items.length&&Zt(this.items[0])!=="object"}var er=!1;if(typeof window<"u"){er=!1;try{var Fn=Object.defineProperty({},"passive",{get:function(){er=!0}});window.addEventListener("test",null,Fn)}catch{}}let kn=0;var Yt={name:"RecycleScroller",components:{ResizeObserver:$t},directives:{ObserveVisibility:xn},props:{...Or,itemSize:{type:Number,default:null},gridItems:{type:Number,default:void 0},itemSecondarySize:{type:Number,default:void 0},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1},updateInterval:{type:Number,default:0},skipHover:{type:Boolean,default:!1},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"},listClass:{type:[String,Object,Array],default:""},itemClass:{type:[String,Object,Array],default:""}},emits:["resize","visible","hidden","update","scroll-start","scroll-end"],data(){return{pool:[],totalSize:0,ready:!1,hoverKey:null}},computed:{sizes(){if(this.itemSize===null){const e={"-1":{accumulator:0}},t=this.items,r=this.sizeField,s=this.minItemSize;let u=1e4,v=0,m;for(let p=0,g=t.length;p<g;p++)m=t[p][r]||s,m<u&&(u=m),v+=m,e[p]={accumulator:v,size:m};return this.$_computedMinItemSize=u,e}return[]},simpleArray:Ir,itemIndexByKey(){const{keyField:e,items:t}=this,r={};for(let s=0,u=t.length;s<u;s++)r[t[s][e]]=s;return r}},watch:{items(){this.updateVisibleItems(!0)},pageMode(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler(){this.updateVisibleItems(!1)},deep:!0},gridItems(){this.updateVisibleItems(!0)},itemSecondarySize(){this.updateVisibleItems(!0)}},created(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1)),this.gridItems&&this.itemSize},mounted(){this.applyPageMode(),this.$nextTick(()=>{this.$_prerender=!1,this.updateVisibleItems(!0),this.ready=!0})},activated(){const e=this.$_lastUpdateScrollPosition;typeof e=="number"&&this.$nextTick(()=>{this.scrollToPosition(e)})},beforeUnmount(){this.removeListeners()},methods:{addView(e,t,r,s,u){const v=rn({id:kn++,index:t,used:!0,key:s,type:u}),m=nn({item:r,position:0,nr:v});return e.push(m),m},unuseView(e,t=!1){const r=this.$_unusedViews,s=e.nr.type;let u=r.get(s);u||(u=[],r.set(s,u)),u.push(e),t||(e.nr.used=!1,e.position=-9999)},handleResize(){this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},handleScroll(e){if(!this.$_scrollDirty){if(this.$_scrollDirty=!0,this.$_updateTimeout)return;const t=()=>requestAnimationFrame(()=>{this.$_scrollDirty=!1;const{continuous:r}=this.updateVisibleItems(!1,!0);r||(clearTimeout(this.$_refreshTimout),this.$_refreshTimout=setTimeout(this.handleScroll,this.updateInterval+100))});t(),this.updateInterval&&(this.$_updateTimeout=setTimeout(()=>{this.$_updateTimeout=0,this.$_scrollDirty&&t()},this.updateInterval))}},handleVisibilityChange(e,t){this.ready&&(e||t.boundingClientRect.width!==0||t.boundingClientRect.height!==0?(this.$emit("visible"),requestAnimationFrame(()=>{this.updateVisibleItems(!1)})):this.$emit("hidden"))},updateVisibleItems(e,t=!1){const r=this.itemSize,s=this.gridItems||1,u=this.itemSecondarySize||r,v=this.$_computedMinItemSize,m=this.typeField,p=this.simpleArray?null:this.keyField,g=this.items,A=g.length,V=this.sizes,E=this.$_views,L=this.$_unusedViews,U=this.pool,ne=this.itemIndexByKey;let ae,ee,j,B,ve;if(!A)ae=ee=B=ve=j=0;else if(this.$_prerender)ae=B=0,ee=ve=Math.min(this.prerender,g.length),j=null;else{const k=this.getScroll();if(t){let G=k.start-this.$_lastUpdateScrollPosition;if(G<0&&(G=-G),r===null&&G<v||G<r)return{continuous:!0}}this.$_lastUpdateScrollPosition=k.start;const z=this.buffer;k.start-=z,k.end+=z;let x=0;if(this.$refs.before&&(x=this.$refs.before.scrollHeight,k.start-=x),this.$refs.after){const G=this.$refs.after.scrollHeight;k.end+=G}if(r===null){let G,oe=0,de=A-1,le=~~(A/2),ge;do ge=le,G=V[le].accumulator,G<k.start?oe=le:le<A-1&&V[le+1].accumulator>k.start&&(de=le),le=~~((oe+de)/2);while(le!==ge);for(le<0&&(le=0),ae=le,j=V[A-1].accumulator,ee=le;ee<A&&V[ee].accumulator<k.end;ee++);for(ee===-1?ee=g.length-1:(ee++,ee>A&&(ee=A)),B=ae;B<A&&x+V[B].accumulator<k.start;B++);for(ve=B;ve<A&&x+V[ve].accumulator<k.end;ve++);}else{ae=~~(k.start/r*s);const G=ae%s;ae-=G,ee=Math.ceil(k.end/r*s),B=Math.max(0,Math.floor((k.start-x)/r*s)),ve=Math.floor((k.end-x)/r*s),ae<0&&(ae=0),ee>A&&(ee=A),B<0&&(B=0),ve>A&&(ve=A),j=Math.ceil(A/s)*r}}ee-ae>zn.itemsLimit&&this.itemsLimitError(),this.totalSize=j;let Q;const C=ae<=this.$_endIndex&&ee>=this.$_startIndex;if(C)for(let k=0,z=U.length;k<z;k++)Q=U[k],Q.nr.used&&(e&&(Q.nr.index=ne[Q.item[p]]),(Q.nr.index==null||Q.nr.index<ae||Q.nr.index>=ee)&&this.unuseView(Q));const re=C?null:new Map;let X,W,q;for(let k=ae;k<ee;k++){X=g[k];const z=p?X[p]:X;if(z==null)throw new Error(`Key is ${z} on item (keyField is '${p}')`);if(Q=E.get(z),!r&&!V[k].size){Q&&this.unuseView(Q);continue}W=X[m];let x=L.get(W),G=!1;if(!Q)C?x&&x.length?Q=x.pop():Q=this.addView(U,k,X,z,W):(q=re.get(W)||0,(!x||q>=x.length)&&(Q=this.addView(U,k,X,z,W),this.unuseView(Q,!0),x=L.get(W)),Q=x[q],re.set(W,q+1)),E.delete(Q.nr.key),Q.nr.used=!0,Q.nr.index=k,Q.nr.key=z,Q.nr.type=W,E.set(z,Q),G=!0;else if(!Q.nr.used&&(Q.nr.used=!0,G=!0,x)){const oe=x.indexOf(Q);oe!==-1&&x.splice(oe,1)}Q.item=X,G&&(k===g.length-1&&this.$emit("scroll-end"),k===0&&this.$emit("scroll-start")),r===null?(Q.position=V[k-1].accumulator,Q.offset=0):(Q.position=Math.floor(k/s)*r,Q.offset=k%s*u)}return this.$_startIndex=ae,this.$_endIndex=ee,this.emitUpdate&&this.$emit("update",ae,ee,B,ve),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,this.updateInterval+300),{continuous:C}},getListenerTarget(){let e=fr(this.$el);return window.document&&(e===window.document.documentElement||e===window.document.body)&&(e=window),e},getScroll(){const{$el:e,direction:t}=this,r=t==="vertical";let s;if(this.pageMode){const u=e.getBoundingClientRect(),v=r?u.height:u.width;let m=-(r?u.top:u.left),p=r?window.innerHeight:window.innerWidth;m<0&&(p+=m,m=0),m+p>v&&(p=v-m),s={start:m,end:m+p}}else r?s={start:e.scrollTop,end:e.scrollTop+e.clientHeight}:s={start:e.scrollLeft,end:e.scrollLeft+e.clientWidth};return s},applyPageMode(){this.pageMode?this.addListeners():this.removeListeners()},addListeners(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,er?{passive:!0}:!1),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners(){this.listenerTarget&&(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem(e){let t;const r=this.gridItems||1;this.itemSize===null?t=e>0?this.sizes[e-1].accumulator:0:t=Math.floor(e/r)*this.itemSize,this.scrollToPosition(t)},scrollToPosition(e){const t=this.direction==="vertical"?{scroll:"scrollTop",start:"top"}:{scroll:"scrollLeft",start:"left"};let r,s,u;if(this.pageMode){const v=fr(this.$el),m=v.tagName==="HTML"?0:v[t.scroll],p=v.getBoundingClientRect(),A=this.$el.getBoundingClientRect()[t.start]-p[t.start];r=v,s=t.scroll,u=e+m+A}else r=this.$el,s=t.scroll,u=e;r[s]=u},itemsLimitError(){throw setTimeout(()=>{}),new Error("Rendered items limit reached")},sortViews(){this.pool.sort((e,t)=>e.nr.index-t.nr.index)}}};const Bn={key:0,ref:"before",class:"vue-recycle-scroller__slot"},Un={key:1,ref:"after",class:"vue-recycle-scroller__slot"};function Hn(e,t,r,s,u,v){const m=Wt("ResizeObserver"),p=sn("observe-visibility");return an((be(),Ie("div",{class:dt(["vue-recycle-scroller",{ready:u.ready,"page-mode":r.pageMode,[`direction-${e.direction}`]:!0}]),onScrollPassive:t[0]||(t[0]=(...g)=>v.handleScroll&&v.handleScroll(...g))},[e.$slots.before?(be(),Ie("div",Bn,[nt(e.$slots,"before")],512)):lr("v-if",!0),(be(),pt(Kt(r.listTag),{ref:"wrapper",style:un({[e.direction==="vertical"?"minHeight":"minWidth"]:u.totalSize+"px"}),class:dt(["vue-recycle-scroller__item-wrapper",r.listClass])},{default:qe(()=>[(be(!0),Ie(Nt,null,qt(u.pool,g=>(be(),pt(Kt(r.itemTag),_r({key:g.nr.id,style:u.ready?{transform:`translate${e.direction==="vertical"?"Y":"X"}(${g.position}px) translate${e.direction==="vertical"?"X":"Y"}(${g.offset}px)`,width:r.gridItems?`${e.direction==="vertical"&&r.itemSecondarySize||r.itemSize}px`:void 0,height:r.gridItems?`${e.direction==="horizontal"&&r.itemSecondarySize||r.itemSize}px`:void 0}:null,class:["vue-recycle-scroller__item-view",[r.itemClass,{hover:!r.skipHover&&u.hoverKey===g.nr.key}]]},ln(r.skipHover?{}:{mouseenter:()=>{u.hoverKey=g.nr.key},mouseleave:()=>{u.hoverKey=null}})),{default:qe(()=>[nt(e.$slots,"default",{item:g.item,index:g.nr.index,active:g.nr.used})]),_:2},1040,["style","class"]))),128)),nt(e.$slots,"empty")]),_:3},8,["style","class"])),e.$slots.after?(be(),Ie("div",Un,[nt(e.$slots,"after")],512)):lr("v-if",!0),ht(m,{onNotify:v.handleResize},null,8,["onNotify"])],34)),[[p,v.handleVisibilityChange]])}Yt.render=Hn;Yt.__file="src/components/RecycleScroller.vue";var nr={name:"DynamicScroller",components:{RecycleScroller:Yt},provide(){return typeof ResizeObserver<"u"&&(this.$_resizeObserver=new ResizeObserver(e=>{requestAnimationFrame(()=>{if(Array.isArray(e)){for(const t of e)if(t.target&&t.target.$_vs_onResize){let r,s;if(t.borderBoxSize){const u=t.borderBoxSize[0];r=u.inlineSize,s=u.blockSize}else r=t.contentRect.width,s=t.contentRect.height;t.target.$_vs_onResize(t.target.$_vs_id,r,s)}}})})),{vscrollData:this.vscrollData,vscrollParent:this,vscrollResizeObserver:this.$_resizeObserver}},inheritAttrs:!1,props:{...Or,minItemSize:{type:[Number,String],required:!0}},emits:["resize","visible"],data(){return{vscrollData:{active:!0,sizes:{},keyField:this.keyField,simpleArray:!1}}},computed:{simpleArray:Ir,itemsWithSize(){const e=[],{items:t,keyField:r,simpleArray:s}=this,u=this.vscrollData.sizes,v=t.length;for(let m=0;m<v;m++){const p=t[m],g=s?m:p[r];let A=u[g];typeof A>"u"&&!this.$_undefinedMap[g]&&(A=0),e.push({item:p,id:g,size:A})}return e}},watch:{items(){this.forceUpdate()},simpleArray:{handler(e){this.vscrollData.simpleArray=e},immediate:!0},direction(e){this.forceUpdate(!0)},itemsWithSize(e,t){const r=this.$el.scrollTop;let s=0,u=0;const v=Math.min(e.length,t.length);for(let p=0;p<v&&!(s>=r);p++)s+=t[p].size||this.minItemSize,u+=e[p].size||this.minItemSize;const m=u-s;m!==0&&(this.$el.scrollTop+=m)}},beforeCreate(){this.$_updates=[],this.$_undefinedSizes=0,this.$_undefinedMap={},this.$_events=Ln()},activated(){this.vscrollData.active=!0},deactivated(){this.vscrollData.active=!1},unmounted(){this.$_events.all.clear()},methods:{onScrollerResize(){this.$refs.scroller&&this.forceUpdate(),this.$emit("resize")},onScrollerVisible(){this.$_events.emit("vscroll:update",{force:!1}),this.$emit("visible")},forceUpdate(e=!1){(e||this.simpleArray)&&(this.vscrollData.sizes={}),this.$_events.emit("vscroll:update",{force:!0})},scrollToItem(e){const t=this.$refs.scroller;t&&t.scrollToItem(e)},getItemSize(e,t=void 0){const r=this.simpleArray?t??this.items.indexOf(e):e[this.keyField];return this.vscrollData.sizes[r]||0},scrollToBottom(){if(this.$_scrollingToBottom)return;this.$_scrollingToBottom=!0;const e=this.$el;this.$nextTick(()=>{e.scrollTop=e.scrollHeight+5e3;const t=()=>{e.scrollTop=e.scrollHeight+5e3,requestAnimationFrame(()=>{e.scrollTop=e.scrollHeight+5e3,this.$_undefinedSizes===0?this.$_scrollingToBottom=!1:requestAnimationFrame(t)})};requestAnimationFrame(t)})}}};function Vn(e,t,r,s,u,v){const m=Wt("RecycleScroller");return be(),pt(m,_r({ref:"scroller",items:v.itemsWithSize,"min-item-size":r.minItemSize,direction:e.direction,"key-field":"id","list-tag":e.listTag,"item-tag":e.itemTag},e.$attrs,{onResize:v.onScrollerResize,onVisible:v.onScrollerVisible}),{default:qe(({item:p,index:g,active:A})=>[nt(e.$slots,"default",cn(dn({item:p.item,index:g,active:A,itemWithSize:p})))]),before:qe(()=>[nt(e.$slots,"before")]),after:qe(()=>[nt(e.$slots,"after")]),empty:qe(()=>[nt(e.$slots,"empty")]),_:3},16,["items","min-item-size","direction","list-tag","item-tag","onResize","onVisible"])}nr.render=Vn;nr.__file="src/components/DynamicScroller.vue";var Pr={name:"DynamicScrollerItem",inject:["vscrollData","vscrollParent","vscrollResizeObserver"],props:{item:{required:!0},watchData:{type:Boolean,default:!1},active:{type:Boolean,required:!0},index:{type:Number,default:void 0},sizeDependencies:{type:[Array,Object],default:null},emitResize:{type:Boolean,default:!1},tag:{type:String,default:"div"}},emits:["resize"],computed:{id(){if(this.vscrollData.simpleArray)return this.index;if(this.vscrollData.keyField in this.item)return this.item[this.vscrollData.keyField];throw new Error(`keyField '${this.vscrollData.keyField}' not found in your item. You should set a valid keyField prop on your Scroller`)},size(){return this.vscrollData.sizes[this.id]||0},finalActive(){return this.active&&this.vscrollData.active}},watch:{watchData:"updateWatchData",id(e,t){if(this.$el.$_vs_id=this.id,this.size||this.onDataUpdate(),this.$_sizeObserved){const r=this.vscrollData.sizes[t],s=this.vscrollData.sizes[e];r!=null&&r!==s&&this.applySize(r)}},finalActive(e){this.size||(e?this.vscrollParent.$_undefinedMap[this.id]||(this.vscrollParent.$_undefinedSizes++,this.vscrollParent.$_undefinedMap[this.id]=!0):this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=!1)),this.vscrollResizeObserver?e?this.observeSize():this.unobserveSize():e&&this.$_pendingVScrollUpdate===this.id&&this.updateSize()}},created(){if(!this.$isServer&&(this.$_forceNextVScrollUpdate=null,this.updateWatchData(),!this.vscrollResizeObserver)){for(const e in this.sizeDependencies)this.$watch(()=>this.sizeDependencies[e],this.onDataUpdate);this.vscrollParent.$_events.on("vscroll:update",this.onVscrollUpdate)}},mounted(){this.finalActive&&(this.updateSize(),this.observeSize())},beforeUnmount(){this.vscrollParent.$_events.off("vscroll:update",this.onVscrollUpdate),this.unobserveSize()},methods:{updateSize(){this.finalActive?this.$_pendingSizeUpdate!==this.id&&(this.$_pendingSizeUpdate=this.id,this.$_forceNextVScrollUpdate=null,this.$_pendingVScrollUpdate=null,this.computeSize(this.id)):this.$_forceNextVScrollUpdate=this.id},updateWatchData(){this.watchData&&!this.vscrollResizeObserver?this.$_watchData=this.$watch("item",()=>{this.onDataUpdate()},{deep:!0}):this.$_watchData&&(this.$_watchData(),this.$_watchData=null)},onVscrollUpdate({force:e}){!this.finalActive&&e&&(this.$_pendingVScrollUpdate=this.id),(this.$_forceNextVScrollUpdate===this.id||e||!this.size)&&this.updateSize()},onDataUpdate(){this.updateSize()},computeSize(e){this.$nextTick(()=>{if(this.id===e){const t=this.$el.offsetWidth,r=this.$el.offsetHeight;this.applyWidthHeight(t,r)}this.$_pendingSizeUpdate=null})},applyWidthHeight(e,t){const r=~~(this.vscrollParent.direction==="vertical"?t:e);r&&this.size!==r&&this.applySize(r)},applySize(e){this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=void 0),this.vscrollData.sizes[this.id]=e,this.emitResize&&this.$emit("resize",this.id)},observeSize(){this.vscrollResizeObserver&&(this.$_sizeObserved||(this.vscrollResizeObserver.observe(this.$el),this.$el.$_vs_id=this.id,this.$el.$_vs_onResize=this.onResize,this.$_sizeObserved=!0))},unobserveSize(){this.vscrollResizeObserver&&this.$_sizeObserved&&(this.vscrollResizeObserver.unobserve(this.$el),this.$el.$_vs_onResize=void 0,this.$_sizeObserved=!1)},onResize(e,t,r){this.id===e&&this.applyWidthHeight(t,r)}},render(){return on(this.tag,this.$slots.default())}};Pr.__file="src/components/DynamicScrollerItem.vue";const H={STARS:[1,2,3,4,5],SCORE_LEVELS:{EXCELLENT:90,GOOD:70,FAIR:50,POOR:0},SCORE_LABELS:{EXCELLENT:"",GOOD:"",FAIR:"",POOR:""},SCORE_CLASSES:{EXCELLENT:"excellent",GOOD:"good",FAIR:"fair",POOR:"poor"},SCORE_TEXT_CLASSES:{EXCELLENT:"text-green-600",GOOD:"text-yellow-600",FAIR:"text-orange-600",POOR:"text-red-600"},FILTER_SCOPES:{CURRENT:"current",ALL:"all"},SORT_OPTIONS:{TIME:"time",WORD:"word",SCORE:"score",PRACTICE_COUNT:"practiceCount"},SORT_ORDERS:{ASC:"asc",DESC:"desc"},DATE_RANGE_TYPES:{TODAY:"today",WEEK:"week",MONTH:"month",ALL:"all"},RECORDING_TIMEOUT:3e4,DEFAULT_SLOW_RATE:.7,PLAN_STUDY:{PASS_THRESHOLD:60,REQUIRED_PASS_COUNT:1,MAX_PRACTICE_COUNT:10},PLAN_SELECTION_MODES:{ALL:"all",BY_FILE:"byFile",BY_GROUP:"byGroup",RATING:"rating"},PLAN_SORT_MODES:{RANDOM:"random",ALPHABETICAL:"alphabetical",RATING:"rating",SELECTION:"selection"},STUDY_TYPES:{REGULAR:"regular",PLAN:"plan"},STUDY_MODES:{TODAY:"today",REVIEW:"review",ALL:"all"},PLAN_STATUS:{ACTIVE:"active",COMPLETED:"completed",OVERDUE:"overdue",EARLY_COMPLETED:"early_completed",EXPIRED:"expired"},STORAGE_KEYS:{PRONUNCIATION_RECORDS:"pronunciationRecords",GROUP_RATINGS:"groupRatings",WORD_RATINGS:"wordRatings",LAST_FILE_IDX:"lastFileIdx",LAST_GROUP_NAME:"lastGroupName",FILTER_SCOPE:"filterScope",STAR_FILTER:"starFilter",SLOW_RATE:"slowRate",STUDY_PLANS:"studyPlans",ACTIVE_PLAN:"activePlan"}};class Cr{static cache=new Map;static fileList=[{file:"html.json",displayName:"HTML"},{file:"css.json",displayName:"CSS"},{file:"js.json",displayName:"JavaScript"},{file:"typescript.json",displayName:"TypeScript"},{file:"git.json",displayName:"Git"},{file:"lifecycle.json",displayName:""},{file:"vue2.json",displayName:"Vue 2"},{file:"vue3.json",displayName:"Vue 3"},{file:"react.json",displayName:"React"},{file:"performance.json",displayName:""},{file:"request.json",displayName:""},{file:"virtual-scroll.json",displayName:""},{file:"webpack.json",displayName:"Webpack"},{file:"vite.json",displayName:"Vite"},{file:"communicate.json",displayName:""},{file:"network.json",displayName:""}];static async loadAllFiles(){const t=[];for(const r of this.fileList)try{const s=await this.loadFile(r.file);t.push(s)}catch{t.push({groups:[]})}return t}static async loadFile(t){if(this.cache.has(t))return this.cache.get(t);try{const r=await fetch(`/words-json/${t}`);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();return this.cache.set(t,s),s}catch(r){throw r}}static getFileList(){return[...this.fileList]}static getFileByIndex(t){return this.fileList[t]||null}static getFileIndexByFilename(t){return this.fileList.findIndex(r=>r.file===t)}static clearCache(){this.cache.clear()}static getCacheInfo(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}}const zo=(e,t,r,s)=>{const u=s.fileData;if(!u||!u[e]||!u[e].groups)return 0;const v=u[e].groups.find(p=>p.name===t);if(!v)return 0;const m=v.words?.find(p=>p.original===r);return m&&typeof m.rating=="number"&&m.rating>0?m.rating:typeof v.rating=="number"&&v.rating>0?v.rating:0},vr=(e,t,r)=>{const s={groups:{1:0,2:0,3:0,4:0,5:0},words:{1:0,2:0,3:0,4:0,5:0}};if(!e||e.length===0)return s;let u;if(r!==void 0){if(r<0||r>=e.length)return s;const v=e[r];if(!v)return s;u=[v]}else u=e;return u.forEach((v,m)=>{!v||!v.groups||v.groups.forEach(p=>{if(!p||!p.words)return;const g=typeof p.rating=="number"?p.rating:0;g>=1&&g<=5&&s.groups[g]++,p.words.forEach(A=>{if(!A||!A.original)return;let V=0;typeof A.rating=="number"&&A.rating>0?V=A.rating:typeof p.rating=="number"&&p.rating>0&&(V=p.rating),V>=1&&V<=5&&s.words[V]++})})}),s},Gn=async e=>{try{await navigator.clipboard.writeText(e)}catch{const r=document.createElement("textarea");r.value=e,document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r)}},Wo=()=>{window.scrollTo({top:0,behavior:"smooth"})};class Mr{static formatDate(t){return $(t).format("YYYY-MM-DD HH:mm:ss")}static formatDateToISO(t){return $(t).format("YYYY-MM-DD")}static formatDateForDisplay(t){return $(t).format("YYYYMMDD")}static formatDateShort(t){return $(t).format("YYYY-MM-DD")}static getTodayRange(){const t=$().format("YYYY-MM-DD");return{start:t,end:t}}static getWeekRange(){const t=$();return{start:t.subtract(7,"day").format("YYYY-MM-DD"),end:t.format("YYYY-MM-DD")}}static getMonthRange(){const t=$();return{start:t.startOf("month").format("YYYY-MM-DD"),end:t.format("YYYY-MM-DD")}}static getDateRangeByType(t,r){switch(t){case H.DATE_RANGE_TYPES.TODAY:return this.getTodayRange();case H.DATE_RANGE_TYPES.WEEK:return this.getWeekRange();case H.DATE_RANGE_TYPES.MONTH:return this.getMonthRange();case H.DATE_RANGE_TYPES.ALL:return{start:r?.firstDate||null,end:r?.lastDate||null};default:return{start:null,end:null}}}static getDateRangeOptions(t){if(t.length===0)return{firstDate:null,lastDate:null};const r=t.sort((v,m)=>$(v.timestamp).valueOf()-$(m.timestamp).valueOf()),s=$(r[0].timestamp),u=$(r[r.length-1].timestamp);return{firstDate:s.format("YYYY-MM-DD"),lastDate:u.format("YYYY-MM-DD")}}static filterRecordsByDateRange(t,r){let s=t;if(r.start){const u=$(r.start).startOf("day");s=s.filter(v=>{const m=$(v.timestamp);return m.isAfter(u)||m.isSame(u)})}if(r.end){const u=$(r.end).endOf("day");s=s.filter(v=>{const m=$(v.timestamp);return m.isBefore(u)||m.isSame(u)})}return s}static getRelativeTime(t){const r=$(t),s=$(),u=s.diff(r,"minute"),v=s.diff(r,"hour"),m=s.diff(r,"day");return u<1?"":u<60?`${u}`:v<24?`${v}`:m<7?`${m}`:r.format("YYYYMMDD")}static isToday(t){const r=$(t),s=$();return r.isSame(s,"day")}static isThisWeek(t){const r=$(t),u=$().subtract(7,"day");return r.isAfter(u)||r.isSame(u)}static getTimestamp(t){return $(t).valueOf()}}const $o=e=>e>=90?"excellent":e>=80?"good":e>=70?"fair":"poor",Yo=e=>e>=90?"text-green-700":e>=70?"text-yellow-700":e>=50?"text-orange-700":"text-red-700",Fo=e=>e>=90?"excellent-text":e>=80?"good-text":e>=70?"fair-text":"poor-text",ko=e=>e>=90?"":e>=80?"":e>=70?"":"",jn=e=>e>=90?"bg-green-100 text-green-800":e>=80?"bg-blue-100 text-blue-800":e>=70?"bg-yellow-100 text-yellow-800":e>0?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800",hr=e=>e>=90?"":e>=80?"":e>=70?"":e>0?"":"",Bo=e=>e>=90?"bg-green-500":e>=80?"bg-blue-500":e>=70?"bg-yellow-500":"bg-red-500",Uo=e=>e>=90?"mdi-trophy":e>=80?"mdi-thumb-up":e>=70?"mdi-minus":"mdi-thumb-down",qn=Rt("statistics",()=>{const e=zt(),t=Y({showStatsModal:!1,showDetailedStatsModal:!1,showWordHistoryModal:!1,showHistoryModal:!1,showWordStatsModal:!1}),r=Y({selectedWord:null,currentStudyType:H.STUDY_TYPES.REGULAR,currentHistoryWord:null,currentWord:"",dateRange:{start:null,end:null},historyDateRange:{start:null,end:null},wordHistoryDateRange:{start:null,end:null},sortBy:H.SORT_OPTIONS.TIME,sortOrder:H.SORT_ORDERS.DESC,wordHistorySortBy:H.SORT_OPTIONS.TIME,wordHistorySortOrder:H.SORT_ORDERS.DESC}),s=Y([]),u=Y(0),v=Y(0),m=Y(0),p=Y(0),g=te({get:()=>t.value.showStatsModal,set:i=>{t.value.showStatsModal=i}}),A=te({get:()=>t.value.showDetailedStatsModal,set:i=>{t.value.showDetailedStatsModal=i}}),V=te({get:()=>t.value.showWordHistoryModal,set:i=>{t.value.showWordHistoryModal=i}}),E=te({get:()=>t.value.showHistoryModal,set:i=>{t.value.showHistoryModal=i}}),L=te({get:()=>t.value.showWordStatsModal,set:i=>{t.value.showWordStatsModal=i}}),U=te({get:()=>r.value.selectedWord,set:i=>{r.value.selectedWord=i}}),ne=te({get:()=>r.value.currentStudyType,set:i=>{r.value.currentStudyType=i}}),ae=te({get:()=>r.value.currentHistoryWord,set:i=>{r.value.currentHistoryWord=i}}),ee=te({get:()=>r.value.currentWord,set:i=>{r.value.currentWord=i}}),j=te({get:()=>r.value.dateRange,set:i=>{r.value.dateRange=i}}),B=te({get:()=>r.value.historyDateRange,set:i=>{r.value.historyDateRange=i}}),ve=te({get:()=>r.value.wordHistoryDateRange,set:i=>{r.value.wordHistoryDateRange=i}}),Q=te({get:()=>r.value.sortBy,set:i=>{r.value.sortBy=i}}),C=te({get:()=>r.value.sortOrder,set:i=>{r.value.sortOrder=i}}),re=te({get:()=>r.value.wordHistorySortBy,set:i=>{r.value.wordHistorySortBy=i}}),X=te({get:()=>r.value.wordHistorySortOrder,set:i=>{r.value.wordHistorySortOrder=i}}),W=Y(0),q=()=>{t.value.showStatsModal=!1},k=()=>{t.value.showDetailedStatsModal=!0},z=()=>{t.value.showDetailedStatsModal=!1},x=(i,f=H.STUDY_TYPES.REGULAR)=>{r.value.selectedWord=i,r.value.currentWord=typeof i=="string"?i:i.original,r.value.currentStudyType=f,t.value.showWordHistoryModal=!0},G=()=>{t.value.showWordHistoryModal=!1,r.value.selectedWord=null,r.value.currentWord=""},oe=()=>{t.value.showHistoryModal=!1,r.value.currentWord=""},de=k,le=q,ge=z,Pe=G,Ae=i=>!B.value.start&&!B.value.end?i:i.filter(f=>{const D=new Date(f.timestamp),R=B.value.start,K=B.value.end;return R&&K?D>=R&&D<=K:R?D>=R:K?D<=K:!0}),ke=(i,f,D)=>(W.value,e.getPracticeCount(i.original,f,D)),ye=(i,f,D)=>(W.value,e.getAverageScore(i.original,f,D)),Le=(i,f=!1,D)=>{const R=f?B.value.start:j.value.start,K=f?B.value.end:j.value.end,ue=e.getWordHistory(i.original,D);return R||K?ue.filter(fe=>{const Re=$(fe.timestamp);return!(R&&Re.isBefore($(R))||K&&Re.isAfter($(K)))}):ue},Be=i=>{const f=Le(i);if(f.length>0){const D=f[f.length-1];return Ge(D.timestamp)}return""},ot=()=>{s.value=[],e.pronunciationRecords=[],Ve()},st=i=>{try{const D=e.pronunciationRecords.filter(R=>R.targetWord!==i);e.pronunciationRecords=D,Ve()}catch{}},at=i=>{r.value.wordHistoryDateRange=i},it=i=>{r.value.wordHistoryDateRange=i},lt=()=>{r.value.wordHistoryDateRange={start:null,end:null}},ze=()=>{try{const f=e.pronunciationRecords;if(f.length>0){const R=f.map(fe=>$(fe.timestamp)).map(fe=>fe.valueOf()),K=$(Math.min(...R)),ue=$(Math.max(...R));return{firstDate:K.format("YYYY-MM-DD"),lastDate:ue.format("YYYY-MM-DD")}}}catch{}const i=$().format("YYYY-MM-DD");return{firstDate:i,lastDate:i}},Ke=i=>{let f=null,D=null;if(i.start&&i.start.trim()!==""){const R=$(i.start);R.isValid()&&(f=R.startOf("day").toDate())}if(i.end&&i.end.trim()!==""){const R=$(i.end);R.isValid()&&(D=R.endOf("day").toDate())}r.value.dateRange={start:f,end:D}},ut=i=>{r.value.sortBy=i.sortBy,r.value.sortOrder=i.sortOrder},Je=(i,f)=>{r.value.wordHistorySortBy=i,r.value.wordHistorySortOrder=f},We=(i,f)=>{Je(i,f)},$e=(i,f)=>{r.value.sortBy=i,r.value.sortOrder=f},Oe=i=>{const f=$();switch(i){case"today":r.value.dateRange={start:f.startOf("day").toDate(),end:f.endOf("day").toDate()};break;case"week":r.value.dateRange={start:f.startOf("week").add(1,"day").toDate(),end:f.endOf("week").add(1,"day").toDate()};break;case"month":r.value.dateRange={start:f.startOf("month").toDate(),end:f.endOf("month").toDate()};break;case"all":r.value.dateRange={start:null,end:null};break}},Ue=()=>{r.value.dateRange={start:null,end:null}},Ye=i=>{let f=null,D=null;if(i.start&&i.start.trim()!==""){const R=$(i.start);R.isValid()&&(f=R.startOf("day").toDate())}if(i.end&&i.end.trim()!==""){const R=$(i.end);R.isValid()&&(D=R.endOf("day").toDate())}r.value.historyDateRange={start:f,end:D}},He=i=>{const f=$();switch(i){case"today":r.value.historyDateRange={start:f.startOf("day").toDate(),end:f.endOf("day").toDate()};break;case"week":r.value.historyDateRange={start:f.startOf("week").add(1,"day").toDate(),end:f.endOf("week").add(1,"day").toDate()};break;case"month":r.value.historyDateRange={start:f.startOf("month").toDate(),end:f.endOf("month").toDate()};break;case"all":r.value.historyDateRange={start:null,end:null};break}},Xe=()=>{r.value.historyDateRange={start:null,end:null}},Ve=()=>{try{W.value++}catch{}},h=(i,f,D="Function execution failed")=>{try{return i()}catch{return f}},y=async()=>h(async()=>{try{const i=e.pronunciationRecords;if(!i||i.length===0){alert("");return}const f=b(),D=je(),R=Qe(),K=Ze(),ue=ft(),fe=f.map(async ct=>{const tt={original:ct};return{word:ct,practiceCount:ke(tt),averageScore:ye(tt),bestScore:M(tt),worstScore:O(tt),lastPracticeTime:Be(tt),status:hr(M(tt))}}),Re=await Promise.all(fe),Ce={exportTime:new Date().toISOString(),summary:{totalPracticeCount:D,overallAverageScore:R,practicedWordsCount:K,bestScore:ue},wordDetails:Re,rawRecords:i},Me=new Blob([JSON.stringify(Ce,null,2)],{type:"application/json"}),Ne=URL.createObjectURL(Me),Se=document.createElement("a");Se.href=Ne,Se.download=`pronunciation-stats-${new Date().toISOString().split("T")[0]}.json`,Se.style.display="none",document.body.appendChild(Se),Se.click(),setTimeout(()=>{document.body.removeChild(Se),URL.revokeObjectURL(Ne)},100),alert("")}catch(i){throw alert(""),i}},void 0,"Failed to export data"),_=oe,b=()=>{W.value;const i=e.getAllWords();if(j.value.start||j.value.end){const f=new Set;return i.forEach(D=>{e.getWordHistory(D).some(ue=>{const fe=$(ue.timestamp);return!(j.value.start&&fe.isBefore($(j.value.start))||j.value.end&&fe.isAfter($(j.value.end)))})&&f.add(D)}),Array.from(f)}return i},M=(i,f)=>e.getBestScoreForWord(i.original,f),O=(i,f)=>e.getWorstScoreForWord(i.original,f),F=i=>{j.value=i},pe=te(()=>s.value),_e=te(()=>{if(!ee.value)return[];let i=Le({original:ee.value},!0,ne.value);return i.sort((f,D)=>{let R=0;return Q.value===H.SORT_OPTIONS.TIME?R=$(f.timestamp).valueOf()-$(D.timestamp).valueOf():Q.value===H.SORT_OPTIONS.SCORE&&(R=f.score-D.score),C.value===H.SORT_ORDERS.ASC?R:-R}),i}),Ee=te(()=>ze()),Ge=Mr.formatDate,je=()=>(W.value,!j.value.start&&!j.value.end?e.getTotalPracticeCount():e.pronunciationRecords.filter(f=>{const D=new Date(f.timestamp);return!(j.value.start&&D<j.value.start||j.value.end&&D>j.value.end)}).length),Qe=()=>{if(W.value,!j.value.start&&!j.value.end)return e.getOverallAverageScore();const f=e.pronunciationRecords.filter(R=>{const K=new Date(R.timestamp);return!(j.value.start&&K<j.value.start||j.value.end&&K>j.value.end)});if(f.length===0)return 0;const D=f.reduce((R,K)=>R+K.score,0);return Math.round(D/f.length*100)/100},Ze=()=>(W.value,b().length),ft=()=>{W.value;const i=e.pronunciationRecords;let f=i;return(j.value.start||j.value.end)&&(f=i.filter(D=>{const R=new Date(D.timestamp);return!(j.value.start&&R<j.value.start||j.value.end&&R>j.value.end)})),f.length===0?0:Math.max(...f.map(D=>D.score))};return{showStatsModal:g,showDetailedStatsModal:A,showWordHistoryModal:V,selectedWord:U,currentStudyType:ne,wordHistory:s,wordHistorySortBy:re,wordHistorySortOrder:X,wordHistoryDateRange:ve,showHistoryModal:E,currentHistoryWord:ae,currentWord:ee,dateRange:j,historyDateRange:B,totalPracticeCount:u,overallAverageScore:v,practicedWordsCount:m,bestScore:p,showWordStatsModal:L,sortBy:Q,sortOrder:C,showDetailedStats:de,showWordHistory:x,closeStatsModal:le,closeDetailedStatsModal:ge,closeWordHistoryModal:Pe,getPracticeCount:ke,getAverageScore:ye,getWordHistory:Le,getLastPracticeTime:Be,updateWordHistorySort:We,setWordHistorySort:Je,setSortOptions:$e,clearAllData:ot,clearWordHistory:st,updateWordHistoryDateRange:at,setWordHistoryDateRange:it,clearWordHistoryDateRange:lt,getDateRangeOptions:ze,setDateRange:Ke,setSort:ut,quickSetDateRange:Oe,clearDateRange:Ue,setHistoryDateRange:Ye,quickSetHistoryDateRange:He,clearHistoryDateRange:Xe,refreshPracticeData:Ve,exportData:y,closeHistoryModal:_,getAllWords:b,getBestScoreForWord:M,getWorstScoreForWord:O,updateDateRange:F,sortedWordHistory:pe,filteredHistory:_e,dateRangeOptions:Ee,formatDate:Ge,getTotalPracticeCount:je,getOverallAverageScore:Qe,getPracticedWordsCount:Ze,getBestScore:ft,getStatusClass:i=>{const f=ye(i);return jn(f)},getStatusText:i=>{const f=ye(i);return hr(f)},getFastestImprovingWords:(i=5)=>{W.value;try{return b().map(R=>{const ue=Le({original:R});if(ue.length<2)return null;const fe=ue.sort((Ne,Se)=>new Date(Ne.timestamp).getTime()-new Date(Se.timestamp).getTime()),Re=fe[0].score,Ce=fe[fe.length-1].score,Me=Ce-Re;return{word:R,improvement:Me,firstScore:Re,lastScore:Ce}}).filter(R=>R!==null&&R.improvement>0).filter(R=>R!==null).sort((R,K)=>K.improvement-R.improvement).slice(0,i)}catch{return[]}},getWordsNeedingPractice:(i=5)=>{W.value;try{return b().map(R=>{const K={original:R},ue=ye(K),fe=ke(K),Re=Be(K);return ue<70&&ue>0?{word:R,averageScore:ue,practiceCount:fe,lastPractice:Re}:null}).filter(R=>R!==null).sort((R,K)=>R.averageScore-K.averageScore).slice(0,i)}catch{return[]}},getTimeStatistics:()=>{W.value;try{const i=e.pronunciationRecords;if(!i||i.length===0)return{todayPracticeCount:0,weekPracticeCount:0,monthPracticeCount:0,averageDailyPractice:0,practiceStreak:0};const f=$().startOf("day"),D=f.subtract(7,"day"),R=f.subtract(30,"day"),K=i.filter(Se=>$(Se.timestamp).isAfter(f)||$(Se.timestamp).isSame(f,"day")).length,ue=i.filter(Se=>$(Se.timestamp).isAfter(D)||$(Se.timestamp).isSame(D,"day")).length,fe=i.filter(Se=>$(Se.timestamp).isAfter(R)||$(Se.timestamp).isSame(R,"day")).length,Re=fe>0?Math.round(fe/30*10)/10:0;let Ce=0;const Me=new Map;i.forEach(Se=>{const ct=$(Se.timestamp).format("YYYY-MM-DD");Me.set(ct,(Me.get(ct)||0)+1)});let Ne=f;for(;;){const Se=Ne.format("YYYY-MM-DD");if(Me.has(Se))Ce++,Ne=Ne.subtract(1,"day");else break}return{todayPracticeCount:K,weekPracticeCount:ue,monthPracticeCount:fe,averageDailyPractice:Re,practiceStreak:Ce}}catch{return{todayPracticeCount:0,weekPracticeCount:0,monthPracticeCount:0,averageDailyPractice:0,practiceStreak:0}}},getTableSummary:()=>{W.value;try{const i=b();if(i.length===0)return{avgPracticeCount:0,avgAverageScore:0,avgBestScore:0,avgWorstScore:0};let f=0,D=0,R=0,K=0;return i.forEach(ue=>{const fe={original:ue};f+=ke(fe),D+=ye(fe),R+=M(fe),K+=O(fe)}),{avgPracticeCount:Math.round(f/i.length),avgAverageScore:Math.round(D/i.length),avgBestScore:Math.round(R/i.length),avgWorstScore:Math.round(K/i.length)}}catch{return{avgPracticeCount:0,avgAverageScore:0,avgBestScore:0,avgWorstScore:0}}},getHistoryTotalPracticeCount:()=>{W.value;try{const i=e.pronunciationRecords;return Ae(i).length}catch{}return 0},getHistoryOverallAverageScore:()=>{W.value;try{const i=e.pronunciationRecords,f=Ae(i);if(f.length>0){const D=f.reduce((R,K)=>R+K.score,0);return Math.round(D/f.length)}}catch{}return 0},getHistoryPracticedWordsCount:()=>{W.value;try{const i=e.pronunciationRecords,f=Ae(i);return new Set(f.map(R=>R.targetWord)).size}catch{}return 0},getHistoryBestScore:()=>{W.value;try{const i=e.pronunciationRecords,f=Ae(i);if(f.length>0)return Math.max(...f.map(D=>D.score))}catch{}return 0},getHistoryAllWords:()=>{W.value;try{const i=e.pronunciationRecords,f=Ae(i),D=new Set(f.map(R=>R.targetWord));return Array.from(D)}catch{}return[]},getHistoryPracticeCount:i=>{W.value;const f=e.getWordHistory(i.original);return B.value.start||B.value.end?f.filter(R=>{const K=$(R.timestamp);return!(B.value.start&&K.isBefore($(B.value.start))||B.value.end&&K.isAfter($(B.value.end)))}).length:f.length},getHistoryAverageScore:i=>{W.value;const f=e.getWordHistory(i.original);let D=f;if((B.value.start||B.value.end)&&(D=f.filter(K=>{const ue=new Date(K.timestamp);return!(B.value.start&&ue<B.value.start||B.value.end&&ue>B.value.end)})),D.length===0)return 0;const R=D.reduce((K,ue)=>K+ue.score,0);return Math.round(R/D.length*100)/100},practiceDataTrigger:W}}),pr=Rt("studyPlan",()=>{const e=Y([]),t=Y(null),r=Y(null),s=Y({name:"",description:"",dailyTarget:100,duration:1,startDate:$().format("YYYY-MM-DD"),selectionMode:H.PLAN_SELECTION_MODES.ALL,selectedFiles:[],selectedGroups:[],starFilter:0,sortMode:H.PLAN_SORT_MODES.RANDOM,includeUnrated:!0}),u=te(()=>!s.value.startDate||!s.value.duration?"":$(s.value.startDate).add(s.value.duration-1,"day").format("YYYY-MM-DD"));(()=>{e.value=e.value.map(h=>!h.startDate||!h.endDate?{...h,startDate:h.startDate||$(h.createdAt).format("YYYY-MM-DD"),endDate:h.endDate||$(h.createdAt).add(h.duration-1,"day").format("YYYY-MM-DD")}:h),t.value&&(!t.value.startDate||!t.value.endDate)&&(t.value={...t.value,startDate:t.value.startDate||$(t.value.createdAt).format("YYYY-MM-DD"),endDate:t.value.endDate||$(t.value.createdAt).add(t.value.duration-1,"day").format("YYYY-MM-DD")})})();const m=Y([]),p=Y(H.PLAN_SORT_MODES.RANDOM),g=Y("asc"),A=Y(!1),V=async()=>{if(!t.value)throw new Error("");try{t.value.progress={currentDay:1,completedWords:[],totalWords:t.value.words.length,wordsToday:t.value.words.slice(0,t.value.dailyTarget).map(M=>M.original),wordCompletionStatus:{}};const h={},y=t.value.words,_=100;for(let M=0;M<y.length;M+=_)y.slice(M,M+_).forEach(F=>{const pe=We(F),_e=$e(F);h[pe]={wordId:pe,word:_e,passCount:0,totalAttempts:0,isCompleted:!1,lastAttemptScore:0,lastAttemptTime:void 0}}),M+_<y.length&&await new Promise(F=>setTimeout(F,0));t.value.progress.wordCompletionStatus=h;const b=e.value.findIndex(M=>M.id===t.value.id);b!==-1&&(e.value[b]={...t.value}),await oe(t.value)}catch(h){throw h}},E=()=>`plan_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,L=h=>{const y=rt(),_=h||s.value;let b=[];switch(_.selectionMode){case H.PLAN_SELECTION_MODES.ALL:y.fileData.forEach((O,F)=>{O.groups&&O.groups.forEach(pe=>{pe.words&&pe.words.forEach(_e=>{b.push({..._e,__fileIdx:F,__groupName:pe.name,__fileName:y.fileList[F]?.displayName||`${F+1}`})})})});break;case H.PLAN_SELECTION_MODES.BY_FILE:_.selectedFiles.forEach(O=>{const F=y.fileData[O];F&&F.groups&&F.groups.forEach(pe=>{pe.words&&pe.words.forEach(_e=>{b.push({..._e,__fileIdx:O,__groupName:pe.name,__fileName:y.fileList[O]?.displayName||`${O+1}`})})})});break;case H.PLAN_SELECTION_MODES.BY_GROUP:_.selectedGroups.forEach(({fileIdx:O,groupName:F})=>{const pe=y.fileData[O];if(pe&&pe.groups){const _e=pe.groups.find(Ee=>Ee.name===F);_e&&_e.words&&_e.words.forEach(Ee=>{b.push({...Ee,__fileIdx:O,__groupName:F,__fileName:y.fileList[O]?.displayName||`${O+1}`})})}});break}_.selectionMode===H.PLAN_SELECTION_MODES.RATING?_.starFilter===0?b=b.filter(O=>y.getEffectiveWordRating(O.__fileIdx,O.__groupName,O.original)===0):_.starFilter>0&&(b=b.filter(O=>y.getEffectiveWordRating(O.__fileIdx,O.__groupName,O.original)===_.starFilter)):_.includeUnrated||(b=b.filter(O=>y.getEffectiveWordRating(O.__fileIdx,O.__groupName,O.original)>0));const M=b.filter((O,F,pe)=>F===pe.findIndex(_e=>_e.original===O.original));if(_.sortMode===H.PLAN_SORT_MODES.RANDOM)for(let O=M.length-1;O>0;O--){const F=Math.floor(Math.random()*(O+1));[M[O],M[F]]=[M[F],M[O]]}else M.sort((O,F)=>O.original.localeCompare(F.original));return M},U=te(()=>{const h=L(s.value),y=rt();let _=0,b=0;return h.forEach(M=>{y.getEffectiveWordRating(M.__fileIdx,M.__groupName,M.original)>0?_++:b++}),{totalWords:h.length,ratedWords:_,unratedWords:b,estimatedDays:Math.ceil(h.length/(s.value.dailyTarget||1))}}),ne=te(()=>e.value.map(h=>{const y=$(),_=$(h.startDate),b=$(h.endDate),M=y.isAfter(_)||y.isSame(_,"day"),O=y.isAfter(b,"day"),F=h.progress.completedWords.length>=h.progress.totalWords;return{id:h.id,canStart:M&&!O&&!F,canEdit:!F&&!O,canDelete:!0,canSetActive:!O&&!F,isExpired:O,isCompleted:F,hasStarted:M,daysUntilStart:M?0:_.diff(y,"day"),daysUntilEnd:O?0:b.diff(y,"day"),statusReason:ae(h,y,_,b,M,O,F)}})),ae=(h,y,_,b,M,O,F)=>F?y.isSame(b,"day")||y.isAfter(b,"day")?"":"":O?"":M?"":`${_.diff(y,"day")}`,ee=h=>ne.value.find(y=>y.id===h),j=te(()=>{const h=rt(),y=[];return h.fileData.forEach((_,b)=>{_.groups&&_.groups.forEach(M=>{M.words&&M.words.forEach(O=>{y.push({...O,__fileIdx:b,__groupName:M.name,__fileName:h.fileList[b]?.displayName||`${b+1}`})})})}),y}),B=te(()=>{const h=rt();switch(s.value.selectionMode){case H.PLAN_SELECTION_MODES.ALL:return j.value;case H.PLAN_SELECTION_MODES.BY_FILE:if(s.value.selectedFiles.length>0){const y=new Set(s.value.selectedFiles);return j.value.filter(_=>_.__fileIdx!==void 0&&y.has(_.__fileIdx))}return[];case H.PLAN_SELECTION_MODES.BY_GROUP:if(s.value.selectedGroups.length>0){const y=new Map;return s.value.selectedGroups.forEach(({fileIdx:_,groupName:b})=>{y.set(`${_}-${b}`,!0)}),j.value.filter(_=>y.has(`${_.__fileIdx}-${_.__groupName}`))}return[];case H.PLAN_SELECTION_MODES.RATING:return s.value.starFilter>=0?j.value.filter(y=>h.getEffectiveWordRating(y.__fileIdx,y.__groupName,y.original)===s.value.starFilter):[];default:return[]}}),ve=te(()=>{const h=[...B.value];switch(p.value){case H.PLAN_SORT_MODES.ALPHABETICAL:return h.sort((_,b)=>{const M=_.original.localeCompare(b.original);return g.value==="asc"?M:-M});case H.PLAN_SORT_MODES.RATING:const y=rt();return h.sort((_,b)=>{const M=y.getEffectiveWordRating(_.__fileIdx,_.__groupName,_.original),F=y.getEffectiveWordRating(b.__fileIdx,b.__groupName,b.original)-M;return g.value==="asc"?-F:F});case H.PLAN_SORT_MODES.SELECTION:return h.sort((_,b)=>{const M=ye(_)?1:0,F=(ye(b)?1:0)-M;return g.value==="asc"?-F:F});case H.PLAN_SORT_MODES.RANDOM:default:return h.sort(()=>Math.random()-.5)}}),Q=te(()=>{const h=rt(),y={};return h.fileData.forEach((_,b)=>{const M=h.fileList[b],O=M?.displayName||`${b+1}`;y[O]||(y[O]=[]),_.groups&&_.groups.forEach(F=>{y[O].push({...F,fileIdx:b,fileName:M?.displayName||`${b+1}`,wordCount:F.words?.length||0})})}),y}),C=te(()=>m.value.map((h,y)=>({uniqueKey:`${h.__fileIdx}-${h.__groupName}-${h.original}-${y}`,word:h}))),re=te(()=>{const h={};return Object.entries(Q.value).forEach(([y,_])=>{h[y]={groupCount:_.length,wordCount:_.reduce((b,M)=>b+(M.wordCount||0),0)}}),h}),X=te(()=>B.value.length),W=te(()=>s.value.name.trim()&&s.value.dailyTarget>0&&s.value.duration>0&&m.value.length>0),q=te(()=>s.value.dailyTarget*s.value.duration),k=h=>{try{if(!s.value.name.trim())throw new Error("");if(s.value.dailyTarget<=0)throw new Error("0");if(s.value.duration<=0)throw new Error("0");const y=h||L(s.value);if(y.length===0)throw new Error("");const _={id:E(),name:s.value.name.trim(),description:s.value.description.trim(),dailyTarget:s.value.dailyTarget,duration:s.value.duration,startDate:s.value.startDate,endDate:u.value,selectionMode:s.value.selectionMode,selectedFiles:[...s.value.selectedFiles],selectedGroups:[...s.value.selectedGroups],starFilter:s.value.starFilter,sortMode:s.value.sortMode,includeUnrated:s.value.includeUnrated,createdAt:$().toDate(),status:H.PLAN_STATUS.ACTIVE,progress:{currentDay:1,completedWords:[],totalWords:y.length,wordsToday:y.slice(0,s.value.dailyTarget).map(b=>b.original),wordCompletionStatus:{}},words:y};return e.value.push(_),t.value=_,_}catch(y){throw y}},z=()=>{s.value={name:"",description:"",dailyTarget:20,duration:1,startDate:$().format("YYYY-MM-DD"),selectionMode:H.PLAN_SELECTION_MODES.ALL,selectedFiles:[],selectedGroups:[],starFilter:0,sortMode:H.PLAN_SORT_MODES.RANDOM,includeUnrated:!0},m.value=[],p.value=H.PLAN_SORT_MODES.RANDOM,g.value="asc",A.value=!1},x=h=>{const y=e.value.findIndex(_=>_.id===h);if(y>-1){const _=e.value[y];G(_),e.value.splice(y,1),t.value?.id===h&&(t.value=null)}},G=h=>{try{const y=zt(),_=h.words.map(M=>typeof M=="string"?M:M.original),b=y.pronunciationRecords.filter(M=>{const O=M.studyType||H.STUDY_TYPES.REGULAR,F=_.includes(M.targetWord);return!(O===H.STUDY_TYPES.PLAN&&M.planId===h.id)||!F});y.pronunciationRecords=b}catch{}},oe=async h=>{try{const y=zt(),_=y.pronunciationRecords;if(_.length<1e3){G(h);return}const b=new Set(h.words.map(F=>typeof F=="string"?F:F.original)),M=[],O=500;for(let F=0;F<_.length;F+=O){const _e=_.slice(F,F+O).filter(Ee=>{const Ge=Ee.studyType||H.STUDY_TYPES.REGULAR,je=b.has(Ee.targetWord);return!(Ge===H.STUDY_TYPES.PLAN&&Ee.planId===h.id)||!je});M.push(..._e),F+O<_.length&&await new Promise(Ee=>setTimeout(Ee,0))}y.pronunciationRecords=M}catch{}},de=h=>{t.value=h},le=h=>{r.value=h,s.value={name:h.name,description:h.description,dailyTarget:h.dailyTarget,duration:h.duration,startDate:h.startDate||$().format("YYYY-MM-DD"),selectionMode:h.selectionMode,selectedFiles:[...h.selectedFiles||[]],selectedGroups:[...h.selectedGroups||[]],starFilter:h.starFilter,sortMode:h.sortMode,includeUnrated:h.includeUnrated},m.value=[...h.words||[]]},ge=h=>{if(!r.value)throw new Error("");try{if(!s.value.name.trim())throw new Error("");if(s.value.dailyTarget<=0)throw new Error("0");if(s.value.duration<=0)throw new Error("0");const y=h||L(s.value);if(y.length===0)throw new Error("");const _=e.value.findIndex(M=>M.id===r.value.id);if(_===-1)throw new Error("");const b={...r.value,name:s.value.name.trim(),description:s.value.description.trim(),dailyTarget:s.value.dailyTarget,duration:s.value.duration,startDate:s.value.startDate,endDate:u.value,selectionMode:s.value.selectionMode,selectedFiles:[...s.value.selectedFiles],selectedGroups:[...s.value.selectedGroups],starFilter:s.value.starFilter,sortMode:s.value.sortMode,includeUnrated:s.value.includeUnrated,words:y,progress:{...r.value.progress,totalWords:y.length,wordsToday:y.slice(0,s.value.dailyTarget).map(M=>M.original)}};return e.value[_]=b,t.value?.id===r.value.id&&(t.value=b),r.value=null,b}catch(y){throw y}},Pe=()=>{r.value=null,z()},Ae=te(()=>r.value!==null),ke=h=>{const _=rt().getEffectiveWordRating(h.__fileIdx,h.__groupName,h.original);return _>0?{text:"".repeat(_),color:"text-yellow-500"}:{text:"",color:"text-gray-400"}},ye=h=>m.value.some(y=>y.original===h.original&&y.__fileIdx===h.__fileIdx&&y.__groupName===h.__groupName),Le=h=>{ye(h)?Be(h):m.value.push(h)},Be=h=>{const y=m.value.findIndex(_=>_.original===h.original&&_.__fileIdx===h.__fileIdx&&_.__groupName===h.__groupName);y>-1&&m.value.splice(y,1)},ot=async()=>{const h=B.value.filter(_=>!ye(_));if(h.length===0)return;if(h.length<=500){m.value.push(...h);return}const y=200;for(let _=0;_<h.length;_+=y){const b=h.slice(_,_+y);m.value.push(...b),_+y<h.length&&await new Promise(M=>setTimeout(M,0))}},st=()=>{m.value=[]},at=h=>{p.value=h},it=h=>{g.value=h},lt=h=>{p.value===h?g.value=g.value==="asc"?"desc":"asc":(p.value=h,g.value="asc")};let ze=null;xt(()=>s.value.selectionMode,(h,y)=>{h!==y&&(ze&&clearTimeout(ze),ze=setTimeout(()=>{m.value=[],ze=null},100))});const Ke=h=>{const y=$(),_=$(h.endDate),b=h.progress.completedWords.length>=h.progress.totalWords,M=y.isAfter(_,"day"),O=b&&y.isBefore(_,"day");b?O?h.status=H.PLAN_STATUS.EARLY_COMPLETED:h.status=H.PLAN_STATUS.COMPLETED:M?h.status=H.PLAN_STATUS.EXPIRED:h.status=H.PLAN_STATUS.ACTIVE},ut=()=>{e.value.forEach(Ke)},Je=(h,y)=>{try{const _=h.filter(b=>b.id&&b.name&&b.dailyTarget&&b.duration);if(_.length===0)throw new Error("");if(e.value=_.map(b=>{const M={...b,createdAt:$(b.createdAt).toDate(),words:b.words||[],startDate:b.startDate||$(b.createdAt).format("YYYY-MM-DD"),endDate:b.endDate||$(b.createdAt).add(b.duration-1,"day").format("YYYY-MM-DD")};return M.progress.wordCompletionStatus||(M.progress.wordCompletionStatus={},M.words.forEach(O=>{M.progress.wordCompletionStatus[O.original]={word:O.original,passCount:0,totalAttempts:0,isCompleted:!1,lastAttemptScore:0,lastAttemptTime:$().toISOString()}})),M}),y&&y.id){const b=e.value.find(M=>M.id===y.id);b&&(t.value=b)}return _.length}catch(_){throw _}},We=h=>typeof h=="string"?h:h.original,$e=h=>typeof h=="string"?h:h.original,Oe=(h,y,_)=>{const b=We(y),M=$e(y);h.progress.wordCompletionStatus||(h.progress.wordCompletionStatus={}),h.progress.wordCompletionStatus[b]||(h.progress.wordCompletionStatus[b]={wordId:b,word:M,passCount:0,totalAttempts:0,isCompleted:!1,lastAttemptScore:0,lastAttemptTime:new Date().toISOString()});const O=h.progress.wordCompletionStatus[b];O.practiceCount!==void 0&&O.totalAttempts===void 0&&(O.totalAttempts=O.practiceCount),O.passCount===void 0&&(O.passCount=0),O.totalAttempts===void 0&&(O.totalAttempts=0),O.totalAttempts++,O.lastAttemptScore=_,O.lastAttemptTime=new Date().toISOString();const F=H.PLAN_STUDY.PASS_THRESHOLD;_>=F&&O.passCount++;const pe=H.PLAN_STUDY.REQUIRED_PASS_COUNT,_e=H.PLAN_STUDY.MAX_PRACTICE_COUNT;return O.passCount>=pe||O.totalAttempts>=_e?(O.isCompleted||(O.isCompleted=!0,h.progress.completedWords.includes(M)||h.progress.completedWords.push(M)),!0):!1},Ue=(h,y)=>{if(!h||!t.value)return!1;const _=Oe(t.value,h,100);if(_){const b=We(h),M=$e(h);if(y==="today"&&t.value.progress.wordsToday){let F=t.value.progress.wordsToday.indexOf(b);F===-1&&(F=t.value.progress.wordsToday.indexOf(M)),F>-1&&t.value.progress.wordsToday.splice(F,1)}const O=e.value.findIndex(F=>F.id===t.value.id);O!==-1&&(e.value[O]={...t.value})}return _},Ye=te(()=>t.value?.progress.wordCompletionStatus?Object.values(t.value.progress.wordCompletionStatus).filter(h=>h.isCompleted).length:t.value?.progress.completedWords.length||0),He=te(()=>{if(!t.value)return 0;const h=Ye.value;return Math.max(0,t.value.progress.totalWords-h)});return{studyPlans:e,activePlan:t,editingPlan:r,currentPlanForm:s,selectedWords:m,sortMode:p,sortDirection:g,isCreating:A,previewStats:U,planProcessability:ne,isEditing:Ae,availableWords:B,sortedAvailableWords:ve,groupedByCategory:Q,selectedWordsWithKeys:C,canCreatePlan:W,estimatedWordCount:q,categoryStats:re,totalWordCount:X,completedWordsCount:Ye,remainingWordsCount:He,endDate:u,filterWordsByPlan:L,createStudyPlan:k,updateStudyPlan:ge,startEditPlan:le,cancelEdit:Pe,resetForm:z,deletePlan:x,setActivePlan:de,importPlans:Je,updatePlanStatus:Ke,updateAllPlanStatuses:ut,updateWordCompletionStatus:Oe,markWordAsCompleted:Ue,isWordCompleted:h=>{if(!t.value)return!1;const y=We(h),_=$e(h);if(!t.value.progress.wordCompletionStatus)return t.value.progress.completedWords.includes(_);let b=t.value.progress.wordCompletionStatus[y];return!b&&y!==_&&(b=t.value.progress.wordCompletionStatus[_]),b?.isCompleted||!1},getWordProgress:h=>{if(!t.value)return{passCount:0,totalAttempts:0,isCompleted:!1,lastAttemptScore:0,requiredPasses:H.PLAN_STUDY.REQUIRED_PASS_COUNT,passThreshold:H.PLAN_STUDY.PASS_THRESHOLD};const y=We(h),_=$e(h);if(!t.value.progress.wordCompletionStatus)return{passCount:0,totalAttempts:0,isCompleted:t.value.progress.completedWords.includes(_),lastAttemptScore:0,requiredPasses:H.PLAN_STUDY.REQUIRED_PASS_COUNT,passThreshold:H.PLAN_STUDY.PASS_THRESHOLD};let b=t.value.progress.wordCompletionStatus[y];return!b&&y!==_&&(b=t.value.progress.wordCompletionStatus[_]),b?{passCount:b.passCount||0,totalAttempts:b.totalAttempts||0,isCompleted:b.isCompleted||!1,lastAttemptScore:b.lastAttemptScore||0,requiredPasses:H.PLAN_STUDY.REQUIRED_PASS_COUNT,passThreshold:H.PLAN_STUDY.PASS_THRESHOLD}:{passCount:0,totalAttempts:0,isCompleted:!1,lastAttemptScore:0,requiredPasses:H.PLAN_STUDY.REQUIRED_PASS_COUNT,passThreshold:H.PLAN_STUDY.PASS_THRESHOLD}},getPlanProcessability:ee,getWordRatingDisplay:ke,isWordSelected:ye,toggleWordSelection:Le,removeSelectedWord:Be,selectAllAvailable:ot,clearAllSelected:st,setSortMode:at,setSortDirection:it,handleSortModeClick:lt,resetPlanProgress:V,deletePlanStudyRecordsAsync:oe}},{persist:{key:"study-plan-store",storage:rr,pick:["studyPlans","activePlan"]}}),bt=Rt("ui",()=>{const e=Y(!1),t=Y(!1),r=Y(!1),s=Y(!1),u=Y(!1),v=Y(!1),m=Y(!1),p=Y(""),g=te(()=>e.value||t.value||r.value||s.value||u.value||v.value);return{showHistoryModal:e,showStatsModal:t,showWordStatsModal:r,showPronunciationModal:s,showResultModal:u,showSettingsModal:v,showRecordingHint:m,currentWord:p,hasAnyModalOpen:g,openHistoryModal:W=>{W&&(p.value=W),e.value=!0},closeHistoryModal:()=>{e.value=!1,p.value=""},openStatsModal:()=>{t.value=!0},closeStatsModal:()=>{t.value=!1},openWordStatsModal:()=>{r.value=!0},closeWordStatsModal:()=>{r.value=!1},openPronunciationModal:()=>{s.value=!0},closePronunciationModal:()=>{s.value=!1},openResultModal:()=>{u.value=!0},closeResultModal:()=>{u.value=!1},openSettingsModal:()=>{v.value=!0},closeSettingsModal:()=>{v.value=!1},showRecordingHintModal:()=>{m.value=!0},hideRecordingHintModal:()=>{m.value=!1},closeAllModals:()=>{e.value=!1,t.value=!1,r.value=!1,s.value=!1,u.value=!1,v.value=!1,p.value=""}}}),zt=Rt("pronunciation",()=>{const e=Y(!1),t=Y(""),r=Y(!1),s=Y(!1),u=Y(null),v=Y(null),m=Y(H.STUDY_TYPES.REGULAR),p=Y(!1),g=Y([]),A=te(()=>(z,x,G)=>g.value.filter(oe=>!(oe.targetWord!==z||x&&oe.studyType!==x||G&&oe.planId!==G)).length),V=te(()=>(z,x,G)=>{const oe=g.value.filter(le=>!(le.targetWord!==z||x&&le.studyType!==x||G&&le.planId!==G));if(oe.length===0)return 0;const de=oe.reduce((le,ge)=>le+ge.score,0);return Math.round(de/oe.length*100)/100}),E=te(()=>(z,x,G)=>g.value.filter(oe=>!(oe.targetWord!==z||x&&oe.studyType!==x||G&&oe.planId!==G)).sort((oe,de)=>$(de.timestamp).valueOf()-$(oe.timestamp).valueOf())),L=te(()=>()=>{const z=new Set(g.value.map(x=>x.targetWord));return Array.from(z)}),U=te(()=>()=>g.value.length),ne=te(()=>()=>{if(g.value.length===0)return 0;const z=g.value.reduce((x,G)=>x+G.score,0);return Math.round(z/g.value.length*100)/100}),ae=te(()=>(z,x,G)=>{const oe=g.value.filter(de=>!(de.targetWord!==z||x&&de.studyType!==x||G&&de.planId!==G));return oe.length===0?0:Math.max(...oe.map(de=>de.score))}),ee=te(()=>(z,x=H.STUDY_TYPES.REGULAR,G)=>{const oe=E.value(z,x,G);if(oe.length===0)return"";const le=[...oe].sort((ge,Pe)=>$(Pe.timestamp).valueOf()-$(ge.timestamp).valueOf())[0];return Mr.getRelativeTime(le.timestamp)}),j=te(()=>(z,x=H.STUDY_TYPES.REGULAR,G)=>{const oe=E.value(z,x,G);return oe.length===0?0:Math.min(...oe.map(de=>de.score))}),B=(z,x=1)=>{if("speechSynthesis"in window){const G=new SpeechSynthesisUtterance(z);G.rate=x,speechSynthesis.speak(G)}},ve=(z,x=!0,G=H.STUDY_TYPES.REGULAR)=>{p.value=!1,t.value=z,m.value=G,r.value=x,s.value=!1,x&&bt().openPronunciationModal(),setTimeout(()=>{e.value=!0},x?300:0)},Q=()=>{e.value=!1,r.value=!1,v.value&&(clearTimeout(v.value),v.value=null)},C=(z,x=!0)=>{(!z.userInput||z.userInput.trim()==="")&&(z.error="",z.score=0,z.userInput=""),u.value=z,s.value=x,r.value=!1,e.value=!1,x&&bt().openResultModal(),p.value||(k(z),p.value=!0,qn().refreshPracticeData()),x||z.score>=80||z.score>=60},re=()=>{s.value=!1,u.value=null,bt().closeResultModal()},X=()=>{r.value=!1,e.value=!1,t.value="",bt().closePronunciationModal(),v.value&&(clearTimeout(v.value),v.value=null)},W=()=>{u.value?.targetWord&&B(u.value.targetWord)},q=()=>{if(u.value?.targetWord){const z=u.value.targetWord;p.value=!1,s.value=!1,u.value=null;const x=bt();x.closeResultModal(),r.value=!0,e.value=!1,t.value=z,x.openPronunciationModal(),setTimeout(()=>{e.value=!0},300)}},k=z=>{let x=null;m.value===H.STUDY_TYPES.PLAN&&(x=pr().activePlan?.id||null);const G={...z,timestamp:new Date().toISOString(),studyType:m.value,planId:x};if(g.value.push(G),m.value===H.STUDY_TYPES.PLAN){const oe=pr();oe.activePlan&&z.targetWord&&oe.updateWordCompletionStatus(oe.activePlan,z.targetWord,z.score)}};return{isRecording:e,currentRecordingWord:t,showPronunciationModal:r,showResultModal:s,pronunciationResult:u,result:u,currentStudyType:m,hasRecordSaved:p,pronunciationRecords:g,getPracticeCount:A,getAverageScore:V,getWordHistory:E,getAllWords:L,getTotalPracticeCount:U,getOverallAverageScore:ne,getBestScoreForWord:ae,getLastPracticeTime:ee,getWorstScoreForWord:j,speak:B,startPronunciationCheck:ve,stopPronunciationCheck:Q,setPronunciationResult:C,closeResultModal:re,closePronunciationModal:X,playTargetWord:W,retryPronunciation:q,savePronunciationRecord:k}},{persist:{key:"pronunciation-store",storage:rr,pick:["pronunciationRecords"]}}),rt=Rt("app",()=>{const e=zt(),t=Y(null),r=Y(-1),s=Y(""),u=Y([]),v=Y(""),m=Y(!0),p=Y(!0),g=Y(!0),A=Y(!0),V=Y(.7),E=Y(5),L=Y(H.FILTER_SCOPES.CURRENT),U=Y(0),ne=Y(0),ae=Y(0),ee=Y(0),j=Y(0),B=Y(0),ve=Y(0),Q=Y(0),C=Y(!1),re=Gt([]),X=Gt({search:"",starFilter:0,filterScope:H.FILTER_SCOPES.CURRENT,selectedFileIdx:-1,fileDataVersion:0}),W=Y(0),q=Gt(new Map),k=()=>{q.value.clear()};xt([u,W],()=>{k()},{deep:!1});const z=te(()=>!!t.value),x=te(()=>Cr.getFileList()),G=te(()=>{const w=`totalWords-${W.value}`;if(q.value.has(w))return q.value.get(w);const Z=u.value.reduce((se,i)=>i.groups?se+i.groups.reduce((f,D)=>f+(D.words?D.words.length:0),0):se,0);return q.value.set(w,Z),Z}),oe=te(()=>Ae.value.length),de=te(()=>Ae.value.reduce((w,Z)=>w+(Z.words?Z.words.length:0),0)),le=(w,Z,se)=>{let i=null;return new Proxy(w,{get(f,D){return D==="words"&&f.words?(i===null&&(i=f.words),i):D==="__fileIdx"?Z:D==="__originalFile"?se:f[D]},set(f,D,R){return D==="words"&&(i=R),f[D]=R,!0}})},ge=()=>{const w=X.value;return w.search===v.value&&w.starFilter===U.value&&w.filterScope===L.value&&w.selectedFileIdx===r.value&&w.fileDataVersion===W.value},Pe=()=>{X.value={search:v.value,starFilter:U.value,filterScope:L.value,selectedFileIdx:r.value,fileDataVersion:W.value}},Ae=te(()=>{if(ge()&&re.value.length>0)return re.value;const w=f=>{if(!v.value.trim())return!0;const D=v.value.toLowerCase();return f.original.toLowerCase().includes(D)||f.translation.toLowerCase().includes(D)||f.breakdown&&f.breakdown.some(R=>R.word.toLowerCase().includes(D)||R.translation.toLowerCase().includes(D))},Z=(f,D,R)=>U.value===0?!0:Ye(D,R,f.original)===U.value,se=(f,D)=>U.value===0?!0:Ue(D,f.name)===U.value;if(v.value.trim())if(L.value===H.FILTER_SCOPES.ALL){const f=[];u.value.forEach((R,K)=>{R.groups&&R.groups.forEach(ue=>{ue.words&&ue.words.filter(Re=>w(Re)&&Z(Re,K,ue.name)).forEach(Re=>{f.push({...Re,__originalGroup:ue.name,__originalFile:R.name||`${K+1}`,__fileIdx:K})})})});const D=[{name:` "${v.value}" (${f.length})`,description:"",words:f,open:m.value,__isSearchResult:!0}];return Pe(),re.value=D,D}else{if(!t.value?.groups)return[];const f=t.value.groups.flatMap(R=>R.words?R.words.filter(K=>w(K)&&Z(K,r.value,R.name)).map(K=>({...K,__originalGroup:R.name,__originalFile:t.value.name||`${r.value+1}`,__fileIdx:r.value})):[]),D=[{name:` "${v.value}" (${f.length})`,description:"",words:f,open:m.value,__isSearchResult:!0}];return Pe(),re.value=D,D}if(U.value>0)if(L.value===H.FILTER_SCOPES.ALL){const f=[],D=U.value;return u.value.forEach((R,K)=>{R.groups&&R.groups.forEach(ue=>{const fe=le(ue,K,R.name||`${K+1}`),Re=Ue(K,ue.name),Ce=D===0||Re===D;let Me=[];!Ce&&fe.words&&(Me=fe.words.filter(Ne=>D===0?!0:Ye(K,ue.name,Ne.original)===D)),(Ce||Me.length>0)&&(fe.words=Ce?fe.words:Me,f.push(fe))})}),Pe(),re.value=f,f}else{if(!t.value?.groups)return[];const f=[];return t.value.groups.forEach(D=>{const R=le(D,r.value,t.value.name||`${r.value+1}`),K=se(R,r.value),ue=R.words?.filter(fe=>Z(fe,r.value,R.name))||[];(K||ue.length>0)&&(R.words=K&&ue.length===0?R.words:ue,f.push(R))}),Pe(),re.value=f,f}if(!t.value?.groups)return[];const i=t.value.groups.map(f=>le(f,r.value,t.value.name||`${r.value+1}`));return Pe(),re.value=i,i}),ke=w=>{t.value=w},ye=w=>{U.value>0&&(U.value=0),r.value=w,w>=0&&w<u.value.length?(t.value=u.value[w],et()):t.value=null},Le=w=>{w.forEach(Z=>{Z.groups&&Z.groups.forEach(se=>{se.open===void 0&&(se.open=!1)})}),u.value=w},Be=w=>{v.value=w,w.trim()?(U.value=0,m.value=!0):m.value=!1},ot=w=>{p.value=w},st=w=>{g.value=w},at=w=>{A.value=w},it=w=>{V.value=w},lt=w=>{E.value=w},ze=w=>{v.value.trim()&&(v.value=""),m.value=!1,L.value=w},Ke=w=>{v.value.trim()&&(v.value=""),m.value=!1,U.value=w,w===0&&t.value?.groups},ut=w=>{j.value=w},Je=w=>{B.value=w},We=w=>{ve.value=w},$e=w=>{Q.value=w},Oe=(w,Z,se)=>{const i=u.value[w];if(i&&i.groups){const f=i.groups.find(D=>D.name===Z);if(f&&f.words)return f.words.find(R=>R.original===se)?.rating||0}return 0},Ue=(w,Z)=>{const se=u.value[w];return se&&se.groups&&se.groups.find(f=>f.name===Z)?.rating||0},Ye=(w,Z,se)=>{const i=Oe(w,Z,se);return i>0?i:Ue(w,Z)},He=w=>{v.value=w,w.trim()?(U.value=0,m.value=!0):m.value=!1},Xe=()=>{p.value=!p.value},Ve=()=>{g.value=!g.value},h=()=>{A.value=!A.value},y=()=>{v.value.trim()?m.value=!0:Ae.value.forEach(Z=>{const se=Z.__fileIdx??r.value,i=u.value[se];if(i?.groups){const f=i.groups.find(D=>D.name===Z.name);f&&(f.open=!0)}})},_=()=>{v.value.trim()?m.value=!1:Ae.value.forEach(Z=>{const se=Z.__fileIdx??r.value,i=u.value[se];if(i?.groups){const f=i.groups.find(D=>D.name===Z.name);f&&(f.open=!1)}})},b=te(()=>{if(v.value.trim())return m.value;{const w=Ae.value;return w.length===0?!0:w.every(Z=>{const se=Z.__fileIdx??r.value,i=u.value[se];return i?.groups?i.groups.find(D=>D.name===Z.name)?.open??!1:!1})}}),M=te(()=>vr(u.value,null,r.value)),O=te(()=>vr(u.value)),F=te(()=>u.value.reduce((w,Z)=>w+(Z.groups?Z.groups.length:0),0)),pe=te(()=>u.value.reduce((w,Z)=>Z.groups?w+Z.groups.reduce((se,i)=>se+(i.words?i.words.length:0),0):w,0)),_e=()=>{b.value?_():y()},Ee=(w,Z)=>{if(w.includes("")){m.value=!m.value,m.value?s.value=w:s.value===w&&(s.value="");return}const se=Z??r.value,i=u.value[se];if(i?.groups){const f=i.groups.find(D=>D.name===w);f&&(f.open=!f.open,f.open?s.value=w:s.value===w&&(s.value=""))}},Ge=(w,Z=1)=>{if("speechSynthesis"in window){const se=new SpeechSynthesisUtterance(w);se.rate=Z,se.lang="en-US",speechSynthesis.speak(se)}},je=async w=>{try{await Gn(w)}catch{}},Qe=w=>e.getPracticeCount(w),Ze=w=>e.getAverageScore(w),ft=()=>{v.value=""},Dt=w=>{window.open(`https://fanyi.baidu.com/#en/zh/${w}`,"_blank")},et=()=>{if(t.value){const w=t.value;j.value=w.groups?.length||0,B.value=w.groups?.reduce((Z,se)=>Z+(se.words?.length||0),0)||0,ve.value=0,Q.value=B.value}},gt=w=>{C.value=w},yt=w=>{U.value>0&&(U.value=0),w>=0&&w<u.value.length&&(t.value=u.value[w],r.value=w,et())},Fe=(w,Z)=>{if(yt(w),t.value?.groups){let se=null,i=-1;typeof Z=="number"?Z>=0&&Z<t.value.groups.length&&(se=t.value.groups[Z],i=Z):(i=t.value.groups.findIndex(f=>f.name===Z),i>=0&&(se=t.value.groups[i])),se&&(s.value===se.name?se.open=!se.open:(se.open=!0,s.value=se.name),setTimeout(()=>{const f=document.querySelector(`[data-group-name="${se.name}"]`);f&&f.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100))}},Et=w=>{V.value=w},Tt=()=>{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()},St=()=>{t.value=null,r.value=-1,u.value=[],v.value="",p.value=!0,g.value=!0,A.value=!0,V.value=.7,E.value=5,j.value=0,B.value=0,ve.value=0,Q.value=0,C.value=!1,L.value=H.FILTER_SCOPES.CURRENT,U.value=0},At=w=>{const Z=u.value[w];return Z&&Z.groups?Z.groups.reduce((se,i)=>se+(i.words?i.words.length:0),0):0};return xt(u,()=>{W.value++,re.value=[]},{deep:!0}),{selectedFile:t,selectedFileIdx:r,selectedGroupName:s,fileData:u,search:v,searchResultOpen:m,showPhonetic:p,showTranslation:g,showBreakdown:A,slowRate:V,stars:E,filterScope:L,starFilter:U,overallGroupCount:ne,overallWordCount:ae,overallCachedCount:ee,groupCount:j,wordCount:B,cachedCount:ve,uncachedCount:Q,showBackToTop:C,hasSelectedFile:z,fileList:x,filteredGroupsScoped:Ae,totalWordsCount:G,currentGroupCount:oe,currentWordCount:de,allGroupsExpanded:b,ratingStats:M,ratingStatsAll:O,totalGroupCount:F,totalWordCount:pe,setSelectedFile:ke,setSelectedFileIdx:ye,setFileData:Le,setSearch:Be,setShowPhonetic:ot,setShowTranslation:st,setShowBreakdown:at,setSlowRate:it,setStars:lt,setFilterScope:ze,setStarFilter:Ke,setGroupCount:ut,setWordCount:Je,setCachedCount:We,setUncachedCount:$e,setShowBackToTop:gt,selectFile:yt,selectFileAndGroup:Fe,saveSlowRate:Et,toggleFullscreen:Tt,getFileWordCount:At,clearAllData:St,updateCounts:et,updateSearch:He,togglePhonetic:Xe,toggleTranslation:Ve,toggleBreakdown:h,expandAllGroups:y,collapseAllGroups:_,toggleAllGroups:_e,toggleGroup:Ee,speak:Ge,copyWord:je,getPracticeCount:Qe,getAverageScore:Ze,getEffectiveWordRating:Ye,clearSearch:ft,searchWord:Dt,getWordRating:Oe,getGroupRating:Ue,exportAppData:()=>{try{const w={selectedFileIdx:r.value,selectedGroupName:s.value,showPhonetic:p.value,showTranslation:g.value,showBreakdown:A.value,slowRate:V.value,filterScope:L.value,starFilter:U.value,exportDate:new Date().toISOString()};return JSON.stringify(w,null,2)}catch{return""}}}},{persist:{key:"app-store",storage:rr,pick:["selectedFileIdx","selectedGroupName","showPhonetic","showTranslation","showBreakdown","slowRate","filterScope","starFilter"]}}),Kn={class:"bg-white shadow-sm border-b border-gray-200"},Jn={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Xn={class:"flex justify-between h-16"},Qn={class:"flex"},Zn={class:"hidden sm:ml-6 sm:flex sm:space-x-8"},eo={class:"sm:hidden flex items-center"},to={class:"pt-2 pb-3 space-y-1"},ro=tr({__name:"TopNavigation",setup(e){const t=Y(!1),r=wr(),s=[{name:"study",title:"",path:"/study"},{name:"create-plan",title:"",path:"/create-plan"},{name:"plan-manage",title:"",path:"/plan-manage"},{name:"plan-study",title:"",path:"/plan-study"}];return(u,v)=>{const m=Wt("router-link");return be(),Ie("nav",Kn,[ie("div",Jn,[ie("div",Xn,[ie("div",Qn,[v[2]||(v[2]=ie("div",{class:"flex-shrink-0 flex items-center"},[ie("h1",{class:"text-xl font-bold text-gray-900"},"")],-1)),ie("div",Zn,[(be(),Ie(Nt,null,qt(s,p=>ht(m,{key:p.name,to:p.path,class:dt(["inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors duration-200",[cr(r)?.path===p.path?"border-indigo-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"]])},{default:qe(()=>[ur(Te(p.title),1)]),_:2},1032,["to","class"])),64))])]),ie("div",eo,[ie("button",{onClick:v[0]||(v[0]=p=>t.value=!t.value),class:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500"},[v[5]||(v[5]=ie("span",{class:"sr-only"},"",-1)),(be(),Ie("svg",{class:dt(["h-6 w-6",{hidden:t.value,block:!t.value}]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},v[3]||(v[3]=[ie("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,-1)]),2)),(be(),Ie("svg",{class:dt(["h-6 w-6",{block:t.value,hidden:!t.value}]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},v[4]||(v[4]=[ie("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)]),2))])])])]),ie("div",{class:dt(["sm:hidden",{block:t.value,hidden:!t.value}])},[ie("div",to,[(be(),Ie(Nt,null,qt(s,p=>ht(m,{key:p.name,to:p.path,onClick:v[1]||(v[1]=g=>t.value=!1),class:dt(["block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors duration-200",[cr(r)?.path===p.path?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700"]])},{default:qe(()=>[ur(Te(p.title),1)]),_:2},1032,["to","class"])),64))])],2)])}}}),no={key:0,class:"fixed bottom-4 left-4 bg-black/80 text-white p-3 rounded-lg text-xs font-mono z-50 max-w-xs"},oo={class:"mb-2 border-b border-gray-600 pb-2"},so={class:"mb-2 border-b border-gray-600 pb-2"},ao={class:"mb-2"},io=tr({__name:"PerformanceMonitor",setup(e){const t=wr(),r=Y(!1),s=Y(0),u=Y(0),v=Y(0),m=Y(""),p=Y(""),g=Y(0),A=Y(0),V=Y(0),E=Y(0),L=Y(0),U=Y(0),ne=Y(null);let ae=0,ee=performance.now(),j;const B=()=>{t.meta?.keepAlive?(p.value="",v.value++):(p.value="",u.value++)},ve=q=>{if(q===0)return"0 B";const k=1024,z=["B","KB","MB","GB"],x=Math.floor(Math.log(q)/Math.log(k));return parseFloat((q/Math.pow(k,x)).toFixed(2))+" "+z[x]},Q=()=>{ae++;const q=performance.now();q-ee>=1e3&&(g.value=Math.round(ae*1e3/(q-ee)),ae=0,ee=q),j=requestAnimationFrame(Q)},C=()=>{try{const q=performance.getEntriesByType("navigation")[0];q&&(U.value=Math.round(q.responseStart-q.requestStart));const z=performance.getEntriesByType("paint").find(x=>x.name==="first-contentful-paint");if(z&&(A.value=Math.round(z.startTime)),"PerformanceObserver"in window){const x=new PerformanceObserver(de=>{const le=de.getEntries(),ge=le[le.length-1];ge&&(V.value=Math.round(ge.startTime))});try{x.observe({entryTypes:["largest-contentful-paint"]})}catch{}const G=new PerformanceObserver(de=>{let le=0;for(const ge of de.getEntries())ge.hadRecentInput||(le+=ge.value);E.value=Math.round(le*1e3)/1e3});try{G.observe({entryTypes:["layout-shift"]})}catch{}const oe=new PerformanceObserver(de=>{for(const le of de.getEntries())L.value=Math.round(le.processingStart-le.startTime)});try{oe.observe({entryTypes:["first-input"]})}catch{}}re()}catch{}},re=()=>{try{if("memory"in performance&&performance.memory){const q=performance.memory;ne.value={usedJSHeapSize:q.usedJSHeapSize||0,totalJSHeapSize:q.totalJSHeapSize||0,jsHeapSizeLimit:q.jsHeapSizeLimit||0}}else ne.value=null}catch{ne.value=null}};xt(()=>t.name,(q,k)=>{k&&s.value++,m.value=q||"",B()},{immediate:!0});const X=()=>{r.value=!r.value},W=q=>{q.ctrlKey&&q.key==="m"&&(q.preventDefault(),X())};return br(()=>{window.addEventListener("keydown",W),C(),Q();const q=setInterval(re,2e3);Jt(()=>{clearInterval(q)})}),Jt(()=>{window.removeEventListener("keydown",W),j&&cancelAnimationFrame(j)}),(q,k)=>r.value?(be(),Ie("div",no,[k[2]||(k[2]=ie("div",{class:"mb-2 font-bold"},"",-1)),ie("div",oo,[ie("div",null,": "+Te(s.value)+"",1),ie("div",null,": "+Te(u.value)+"",1),ie("div",null,": "+Te(v.value)+"",1),ie("div",null,": "+Te(m.value),1),ie("div",null,": "+Te(p.value),1)]),ie("div",so,[k[0]||(k[0]=ie("div",{class:"font-semibold mb-1"},"Web",-1)),ie("div",null,"FPS: "+Te(g.value),1),ie("div",null,"FCP: "+Te(A.value)+"ms",1),ie("div",null,"LCP: "+Te(V.value)+"ms",1),ie("div",null,"CLS: "+Te(E.value),1),ie("div",null,"FID: "+Te(L.value)+"ms",1),ie("div",null,"TTFB: "+Te(U.value)+"ms",1)]),ie("div",ao,[k[1]||(k[1]=ie("div",{class:"font-semibold mb-1"},"",-1)),ie("div",null," : "+Te(ne.value?.usedJSHeapSize?ve(ne.value.usedJSHeapSize):""),1),ie("div",null," : "+Te(ne.value?.totalJSHeapSize?ve(ne.value.totalJSHeapSize):""),1),ie("div",null," : "+Te(ne.value?.jsHeapSizeLimit?ve(ne.value.jsHeapSizeLimit):""),1)]),ie("button",{onClick:X,class:"mt-2 px-2 py-1 bg-blue-600 rounded text-xs hover:bg-blue-700 w-full"},"  ")])):(be(),Ie("button",{key:1,onClick:X,class:"fixed bottom-4 right-4 bg-blue-600 text-white p-2 rounded-full z-50 hover:bg-blue-700",title:""},"  "))}}),lo={class:"min-h-screen bg-gray-50 font-sans bg-gradient-to-br from-[#667eea] to-[#764ba2]"},uo={key:0,class:"fixed inset-0 bg-white/80 flex items-center justify-center z-50"},co={key:1,class:"fixed inset-0 bg-white/80 flex items-center justify-center z-50"},fo={class:"text-center max-w-md mx-auto p-6"},vo={class:"text-gray-600 mb-4"},ho={class:"flex mx-auto my-0 p-5 mt-5 bg-white rounded-2xl shadow-2xl min-h-screen w-[85%]"},po=tr({__name:"App",setup(e){const t=rt(),r=Y(!0),s=Y(null),u=async()=>{try{r.value=!0,s.value=null;const g=await Cr.loadAllFiles();if(!g||g.length===0)throw new Error("");t.setFileData(g),(t.selectedFileIdx===-1||!t.selectedFile)&&g.length>0&&t.setSelectedFileIdx(0),t.updateCounts()}catch(g){s.value=g instanceof Error?g.message:""}finally{r.value=!1}},v=()=>{u()},m=g=>g.meta?.keepAlive?[g.name]:[],p=()=>{const g=window.pageYOffset||document.documentElement.scrollTop;t.setShowBackToTop(g>300)};return br(()=>{u(),window.addEventListener("scroll",p)}),Jt(()=>{window.removeEventListener("scroll",p)}),(g,A)=>{const V=Wt("router-view");return be(),Ie("div",lo,[r.value?(be(),Ie("div",uo,A[0]||(A[0]=[ie("div",{class:"text-center"},[ie("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),ie("p",{class:"text-gray-600"},"...")],-1)]))):s.value?(be(),Ie("div",co,[ie("div",fo,[A[1]||(A[1]=ie("div",{class:"text-red-500 text-6xl mb-4"},"",-1)),A[2]||(A[2]=ie("h2",{class:"text-xl font-bold text-gray-800 mb-2"},"",-1)),ie("p",vo,Te(s.value),1),ie("button",{onClick:v,class:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition"},"  ")])])):(be(),Ie(Nt,{key:2},[ht(ro),ie("div",ho,[ht(V,null,{default:qe(({Component:E,route:L})=>[(be(),pt(fn,{include:m(L)},[(be(),pt(Kt(E),{key:L.fullPath}))],1032,["include"]))]),_:1})]),ht(io)],64))])}}}),mo=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,go=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,yo=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function So(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){return}return t}function _o(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const r=e.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!yo.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(mo.test(e)||go.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,So)}return JSON.parse(e)}catch(s){if(t.strict)throw s;return e}}function wo(e,t){if(e==null)return;let r=e;for(let s=0;s<t.length;s++){if(r==null||r[t[s]]==null)return;r=r[t[s]]}return r}function or(e,t,r){if(r.length===0)return t;const s=r[0];return r.length>1&&(t=or(typeof e!="object"||e===null||!Object.prototype.hasOwnProperty.call(e,s)?Number.isInteger(Number(r[1]))?[]:{}:e[s],t,Array.prototype.slice.call(r,1))),Number.isInteger(Number(s))&&Array.isArray(e)?e.slice()[s]:Object.assign({},e,{[s]:t})}function Nr(e,t){if(e==null||t.length===0)return e;if(t.length===1){if(e==null)return e;if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(t[0],1);const r={};for(const s in e)r[s]=e[s];return delete r[t[0]],r}if(e[t[0]]==null){if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const r={};for(const s in e)r[s]=e[s];return r}return or(e,Nr(e[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function xr(e,t){return t.map(r=>r.split(".")).map(r=>[r,wo(e,r)]).filter(r=>r[1]!==void 0).reduce((r,s)=>or(r,s[1],s[0]),{})}function Lr(e,t){return t.map(r=>r.split(".")).reduce((r,s)=>Nr(r,s),e)}function mr(e,{storage:t,serializer:r,key:s,debug:u,pick:v,omit:m,beforeHydrate:p,afterHydrate:g},A,V=!0){try{V&&p?.(A);const E=t.getItem(s);if(E){const L=r.deserialize(E),U=v?xr(L,v):L,ne=m?Lr(U,m):U;e.$patch(ne)}V&&g?.(A)}catch{}}function gr(e,{storage:t,serializer:r,key:s,debug:u,pick:v,omit:m}){try{const p=v?xr(e,v):e,g=m?Lr(p,m):p,A=r.serialize(g);t.setItem(s,A)}catch{}}function bo(e,t,r){const{pinia:s,store:u,options:{persist:v=r}}=e;if(!v)return;if(!(u.$id in s.state.value)){const g=s._s.get(u.$id.replace("__hot:",""));g&&Promise.resolve().then(()=>g.$persist());return}const p=(Array.isArray(v)?v:v===!0?[{}]:[v]).map(t);u.$hydrate=({runHooks:g=!0}={})=>{p.forEach(A=>{mr(u,A,e,g)})},u.$persist=()=>{p.forEach(g=>{gr(u.$state,g)})},p.forEach(g=>{mr(u,g,e),u.$subscribe((A,V)=>gr(V,g),{detached:!0})})}function Ro(e={}){return function(t){bo(t,r=>({key:(e.key?e.key:s=>s)(r.key??t.store.$id),debug:r.debug??e.debug??!1,serializer:r.serializer??e.serializer??{serialize:s=>JSON.stringify(s),deserialize:s=>_o(s)},storage:r.storage??e.storage??window.localStorage,beforeHydrate:r.beforeHydrate,afterHydrate:r.afterHydrate,pick:r.pick,omit:r.omit}),e.auto??!1)}}var Do=Ro();const Eo="modulepreload",To=function(e,t){return new URL(e,t).href},yr={},Ft=function(t,r,s){let u=Promise.resolve();if(r&&r.length>0){const m=document.getElementsByTagName("link"),p=document.querySelector("meta[property=csp-nonce]"),g=p?.nonce||p?.getAttribute("nonce");u=Promise.allSettled(r.map(A=>{if(A=To(A,s),A in yr)return;yr[A]=!0;const V=A.endsWith(".css"),E=V?'[rel="stylesheet"]':"";if(!!s)for(let ne=m.length-1;ne>=0;ne--){const ae=m[ne];if(ae.href===A&&(!V||ae.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${A}"]${E}`))return;const U=document.createElement("link");if(U.rel=V?"stylesheet":Eo,V||(U.as="script"),U.crossOrigin="",U.href=A,g&&U.setAttribute("nonce",g),document.head.appendChild(U),V)return new Promise((ne,ae)=>{U.addEventListener("load",ne),U.addEventListener("error",()=>ae(new Error(`Unable to preload CSS for ${A}`)))})}))}function v(m){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=m,window.dispatchEvent(p),!p.defaultPrevented)throw m}return u.then(m=>{for(const p of m||[])p.status==="rejected"&&v(p.reason);return t().catch(v)})},Ao=()=>Ft(()=>import("./StudyView-pQBz2WDG.js"),__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url),Oo=()=>Ft(()=>import("./CreatePlanView-DK6PZVK4.js"),__vite__mapDeps([7,1,2,5,8]),import.meta.url),Io=()=>Ft(()=>import("./PlanManageView-Hi__p5gE.js"),__vite__mapDeps([9,10,1,5]),import.meta.url),Po=()=>Ft(()=>import("./PlanStudyView-B0_A4577.js"),__vite__mapDeps([11,3,1,2,4,10,5]),import.meta.url),Co=[{path:"/",redirect:"/study"},{path:"/study",name:"Study",component:Ao,meta:{title:"",keepAlive:!0}},{path:"/create-plan",name:"CreatePlan",component:Oo,meta:{title:"",keepAlive:!1}},{path:"/plan-manage",name:"PlanManage",component:Io,meta:{title:"",keepAlive:!0}},{path:"/plan-study",name:"PlanStudy",component:Po,meta:{title:"",keepAlive:!0}}],Mo=vn({history:hn(),routes:Co}),mt=pn(po),zr=mn();zr.use(Do);mt.component("RecycleScroller",Yt);mt.component("DynamicScroller",nr);mt.component("DynamicScrollerItem",Pr);mt.use(zr);mt.use(Mo);mt.mount("#app");export{H as A,Mr as D,bt as a,qn as b,nr as c,zt as d,jn as e,hr as f,Yo as g,pr as h,Yt as i,zo as j,Gn as k,Wo as l,ko as m,Bo as n,Uo as o,$o as p,Fo as q,Pr as s,rt as u};
