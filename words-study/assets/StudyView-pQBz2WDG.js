import{u as L,a as V,A as k,b as K,s as wt,c as ht,d as kt,D as Y,g as z,e as $t,f as Ct}from"./index-CNVOlx-d.js";import{E as O,B as b,e as c,o as l,F as $,k as D,G as t,J as u,v as m,c as E,f as h,K as s,I as q,S as Q,g as F,A as Z,C as st,d as J,T as tt,D as j,L as ut,M as gt,j as et,u as it,n as pt,U as dt,V as Rt,W as vt}from"./vue-BPmSeTKS.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{W as ct,_ as Tt,H as It,P as Dt,a as Ot}from"./PronunciationResultModal-u6Hb3_57.js";import"./dayjs-Bof1u0Bp.js";const Pt={class:"mt-2 ml-4 border-l-2 border-indigo-200 pl-3"},Wt=["onClick"],Mt={class:"truncate flex-1 cursor-pointer"},Et={class:"text-xs bg-gray-200 text-gray-600 rounded-full px-2 py-0.5 group-hover:bg-indigo-200 group-hover:text-indigo-700"},At=O({__name:"GroupList",props:{fileIdx:{}},setup(C){const e=L(),a=b(()=>e.selectedFile?.groups||[]),n=g=>{e.selectFileAndGroup(e.selectedFileIdx,g)},d=g=>e.selectedGroupName===g,i=g=>g.words?.length||0;return(g,x)=>(l(),c("div",Pt,[(l(!0),c($,null,D(a.value,(_,y)=>(l(),c("div",{key:_.name,class:"mb-1"},[t("button",{onClick:S=>n(_.name),class:m(["w-full text-left px-3 py-1.5 rounded-md transition text-sm flex items-center gap-2 group",d(_.name)?"bg-indigo-100 text-indigo-700 border-l-2 border-indigo-500":"hover:bg-indigo-50 text-gray-600 hover:text-indigo-700"])},[x[0]||(x[0]=t("span",{class:"mdi mdi-folder-outline text-sm group-hover:text-indigo-500"},null,-1)),t("span",Mt,u(_.name),1),t("span",Et,u(i(_)),1)],10,Wt)]))),128))]))}}),Ft={class:"flex-1 overflow-y-auto py-4"},Gt=["onClick"],Bt={class:"flex-1 truncate"},Lt=O({__name:"FileList",setup(C){const e=L(),a=n=>e.selectedFileIdx===n&&e.fileData[n]&&e.fileData[n].groups;return(n,d)=>(l(),c("ul",Ft,[(l(!0),c($,null,D(s(e).fileList,(i,g)=>(l(),c("li",{key:g,class:"mb-2 px-2"},[t("button",{onClick:x=>s(e).setSelectedFileIdx(g),class:m(["w-full text-left px-4 py-2 rounded-lg transition font-semibold flex items-center gap-2",s(e).selectedFileIdx===g?"bg-indigo-200 text-indigo-800 shadow":"hover:bg-indigo-100 text-gray-700"])},[d[0]||(d[0]=t("span",{class:"mdi mdi-folder-outline text-lg"},null,-1)),t("span",Bt,u(i.displayName),1),s(e).fileData[g]&&s(e).fileData[g].groups?(l(),c("span",{key:0,class:m(["text-xs rounded-full px-2 py-0.5 font-medium transition-colors",s(e).selectedFileIdx===g?"bg-indigo-200 text-indigo-800":"bg-indigo-100 text-indigo-700"])},u(s(e).getFileWordCount(g)),3)):h("",!0)],10,Gt),a(g)?(l(),E(At,{key:0,fileIdx:g},null,8,["fileIdx"])):h("",!0)]))),128))]))}}),Nt={class:"mb-4"},Ht={class:"flex gap-2"},jt={class:"mb-4"},zt={class:"block mb-1 text-gray-700"},Vt={class:"font-mono"},Ut=["value"],qt=O({__name:"SettingsModal",setup(C){const e=L(),a=V(),n=d=>{const i=d.target;e.setSlowRate(parseFloat(i.value))};return(d,i)=>s(a).showSettingsModal?(l(),c("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:i[4]||(i[4]=g=>s(a).closeSettingsModal())},[t("div",{class:"bg-white rounded-2xl shadow-2xl p-8 min-w-[320px] relative",onClick:i[3]||(i[3]=Q(()=>{},["stop"]))},[t("button",{onClick:i[0]||(i[0]=g=>s(a).closeSettingsModal()),class:"absolute top-2 right-2 icon-btn"},i[5]||(i[5]=[t("span",{class:"mdi mdi-close"},null,-1)])),i[9]||(i[9]=t("h3",{class:"text-lg font-bold mb-4 text-indigo-700"},"设置",-1)),t("div",Nt,[i[6]||(i[6]=t("label",{class:"block mb-1 text-gray-700"},"筛选范围",-1)),t("div",Ht,[t("button",{onClick:i[1]||(i[1]=g=>s(e).setFilterScope(s(k).FILTER_SCOPES.CURRENT)),class:m(["px-3 py-1 rounded-full text-sm",s(e).filterScope===s(k).FILTER_SCOPES.CURRENT?"bg-indigo-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"])}," 当前分类 ",2),t("button",{onClick:i[2]||(i[2]=g=>s(e).setFilterScope(s(k).FILTER_SCOPES.ALL)),class:m(["px-3 py-1 rounded-full text-sm",s(e).filterScope===s(k).FILTER_SCOPES.ALL?"bg-indigo-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"])}," 全部分类 ",2)])]),t("div",jt,[t("label",zt,[i[7]||(i[7]=q("慢速播放速率：",-1)),t("span",Vt,u(s(e).slowRate),1)]),t("input",{type:"range",min:"0.2",max:"1.0",step:"0.05",value:s(e).slowRate,onInput:n,class:"w-full accent-indigo-400"},null,40,Ut),i[8]||(i[8]=t("div",{class:"flex justify-between text-xs text-gray-400 mt-1"},[t("span",null,"0.2"),t("span",null,"1.0")],-1))])])])):h("",!0)}}),xt=G(qt,[["__scopeId","data-v-a9740e0d"]]),Jt={class:"w-80 pr-0 border-r border-gray-200 bg-gradient-to-b from-indigo-50 to-white h-screen sticky top-0 z-10 flex flex-col"},Kt={class:"flex items-center justify-between px-4 py-4 border-b"},Qt={class:"flex items-center gap-2"},Xt={key:0,class:"text-xs bg-indigo-100 text-indigo-700 rounded-full px-2 py-0.5 font-medium"},Yt={class:"flex items-center gap-2"},Zt=O({__name:"StudySidebar",setup(C){const e=L(),a=V(),n=b(()=>!!document.fullscreenElement);return(d,i)=>(l(),c("aside",Jt,[t("div",Kt,[t("div",Qt,[i[2]||(i[2]=t("h2",{class:"text-lg font-bold text-indigo-700 tracking-wide"}," 词表大类 ",-1)),s(e).totalWordsCount>0?(l(),c("span",Xt," 共 "+u(s(e).totalWordsCount)+" 词 ",1)):h("",!0)]),t("div",Yt,[t("button",{onClick:i[0]||(i[0]=g=>s(a).openSettingsModal()),class:"icon-btn",title:"设置"},i[3]||(i[3]=[t("span",{class:"mdi mdi-cog"},null,-1)])),t("button",{onClick:i[1]||(i[1]=(...g)=>s(e).toggleFullscreen&&s(e).toggleFullscreen(...g)),class:"icon-btn",title:"全屏切换"},[t("span",{class:m(["mdi",n.value?"mdi-fullscreen-exit":"mdi-fullscreen"])},null,2)])])]),F(Lt),s(a).showSettingsModal?(l(),E(xt,{key:0})):h("",!0)]))}}),te=G(Zt,[["__scopeId","data-v-79fdebcf"]]),ee={class:"relative mb-8"},se={class:"absolute top-0 right-0 flex items-center gap-2"},oe={class:"flex items-center gap-1 bg-white/80 rounded-full px-3 py-2 shadow"},ne=["title","onClick"],le=O({__name:"Header",setup(C){const e=L(),a=V(),n=K(),d=[1,2,3,4,5],i=b({get:()=>e.starFilter,set:_=>e.setStarFilter(_)}),g=()=>a.openWordStatsModal(),x=()=>n.showDetailedStats();return(_,y)=>(l(),c("div",ee,[y[3]||(y[3]=t("h1",{class:"text-4xl font-extrabold text-center mb-3 text-indigo-700 tracking-wide"}," 📚 单词列表 ",-1)),y[4]||(y[4]=t("div",{class:"text-center text-gray-500 mb-6 text-lg"}," 前端开发专业词汇学习 ",-1)),t("div",se,[t("div",oe,[t("button",{class:m(["text-xs px-2 py-1 rounded-full",i.value===0?"bg-indigo-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"]),onClick:y[0]||(y[0]=S=>i.value=0),title:"不过滤"}," 全部 ",2),(l(),c($,null,D(d,S=>t("button",{key:"filter-"+S,class:"px-1",title:`筛选 ${S} 星`,onClick:R=>i.value=S},[t("span",{class:m(["mdi",i.value>=S?"mdi-star text-yellow-500":"mdi-star-outline text-gray-400"])},null,2)],8,ne)),64))]),t("button",{onClick:g,class:"text-black hover:text-gray-600 transition-all duration-300 p-2",title:"单词信息统计"},y[1]||(y[1]=[t("span",{class:"mdi mdi-information-outline text-2xl"},null,-1)])),t("button",{onClick:x,class:"text-black hover:text-gray-600 transition-all duration-300 p-2",title:"查看详细统计"},y[2]||(y[2]=[t("span",{class:"mdi mdi-chart-line text-2xl"},null,-1)]))])]))}}),re={class:"flex items-center gap-4"},ae=["title"],ie=["title"],de=["title"],ce=["title"],ue=O({__name:"MenuButtons",setup(C){const e=L(),a=()=>e.setShowPhonetic(!e.showPhonetic),n=()=>e.setShowTranslation(!e.showTranslation),d=()=>e.setShowBreakdown(!e.showBreakdown),i=()=>e.toggleAllGroups();return(g,x)=>(l(),c("div",re,[t("button",{onClick:a,class:m(["icon-btn",{active:s(e).showPhonetic}]),title:s(e).showPhonetic?"隐藏音标":"显示音标"},x[0]||(x[0]=[t("span",{class:"mdi mdi-alpha"},null,-1)]),10,ae),t("button",{onClick:n,class:m(["icon-btn",{active:s(e).showTranslation}]),title:s(e).showTranslation?"隐藏翻译":"显示翻译"},x[1]||(x[1]=[t("span",{class:"mdi mdi-translate"},null,-1)]),10,ie),t("button",{onClick:d,class:m(["icon-btn",{active:s(e).showBreakdown}]),title:s(e).showBreakdown?"隐藏拆分":"显示拆分"},x[2]||(x[2]=[t("span",{class:"mdi mdi-format-list-bulleted"},null,-1)]),10,de),t("button",{onClick:i,class:m(["icon-btn",{active:s(e).allGroupsExpanded}]),title:s(e).allGroupsExpanded?"收起所有分组":"展开所有分组"},[t("span",{class:m(["mdi",s(e).allGroupsExpanded?"mdi-arrow-collapse-all":"mdi-arrow-expand-all"])},null,2)],10,ce)]))}}),ge=G(ue,[["__scopeId","data-v-bd813554"]]),pe={class:"flex items-center justify-between mb-6 bg-white/80 rounded-xl shadow-lg p-6"},ve={class:"flex items-center gap-8 text-gray-700 text-sm font-medium"},xe={class:"flex items-center gap-1"},me={class:"flex items-center gap-1"},be={class:"flex-1 max-w-lg mx-12"},ye={class:"flex items-center gap-2"},fe={class:"relative flex-1"},_e=["disabled"],Se=O({__name:"ToolBar",setup(C){const e=L(),a=Z(e.search);st(()=>e.search,i=>{a.value=i});const n=()=>{a.value.trim()&&e.setSearch(a.value.trim())},d=()=>{a.value="",e.setSearch("")};return(i,g)=>(l(),c("div",pe,[t("div",ve,[t("div",xe,[g[1]||(g[1]=t("span",{class:"mdi mdi-folder-multiple text-indigo-500"},null,-1)),t("span",null,"分组数："+u(s(e).currentGroupCount),1)]),t("div",me,[g[2]||(g[2]=t("span",{class:"mdi mdi-book-open-variant text-indigo-500"},null,-1)),t("span",null,"单词数："+u(s(e).currentWordCount),1)])]),t("div",be,[t("div",ye,[t("div",fe,[g[3]||(g[3]=t("span",{class:"mdi mdi-magnify absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"},null,-1)),J(t("input",{"onUpdate:modelValue":g[0]||(g[0]=x=>a.value=x),placeholder:"搜索单词/翻译/拆分...",class:"w-full pl-10 pr-4 py-3 border border-indigo-200 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-300 text-base hover:border-indigo-300 transition-colors"},null,512),[[tt,a.value]])]),t("button",{onClick:n,class:"icon-btn search-btn",title:"搜索",disabled:!a.value.trim()},g[4]||(g[4]=[t("span",{class:"mdi mdi-magnify"},null,-1)]),8,_e),s(e).search?(l(),c("button",{key:0,onClick:d,class:"icon-btn clear-btn",title:"清空搜索"},g[5]||(g[5]=[t("span",{class:"mdi mdi-close-circle"},null,-1)]))):h("",!0)])]),F(ge)]))}}),we=G(Se,[["__scopeId","data-v-e85d607c"]]),he={key:0,class:"lazy-placeholder"},ke={key:1,class:"invisible"},$e={key:1,class:"invisible"},Ce=O({__name:"VirtualWordCardList",props:{words:{},fileIdx:{},groupName:{},studyType:{},virtualScrollThreshold:{default:10}},setup(C){const e=C,a=j(window.innerWidth),n=b(()=>{const A=a.value-32-40,P=Math.floor((A+32)/352);return Math.max(1,Math.min(P,4))}),d=b(()=>420),i=b(()=>{const r=[],f=y.value,w=n.value;for(let I=0;I<f.length;I+=w){const A=f.slice(I,I+w);for(;A.length<w;)A.push(null);r.push({rowIndex:Math.floor(I/w),startIndex:I,words:A})}return r}),g=b(()=>e.words.length>e.virtualScrollThreshold),x=j(!1),_=j(!1),y=b(()=>_.value?e.words:[]),S=b(()=>{const r=y.value;if(r.length===0)return[];const f=n.value,I=Math.ceil(r.length/f)*f,A=[...r],P=I-r.length;for(let N=0;N<P;N++)A.push(null);return A}),R=j(),B=async()=>{if(await pt(),R.value){const r=new IntersectionObserver(f=>{f.forEach(w=>{w.isIntersecting&&(x.value=!0,_.value=!0,r.disconnect())})},{rootMargin:"100px"});r.observe(R.value)}},p=()=>{a.value=window.innerWidth};return ut(()=>{B(),window.addEventListener("resize",p)}),gt(()=>{window.removeEventListener("resize",p)}),(r,f)=>(l(),c("div",{ref_key:"containerRef",ref:R,class:"virtual-word-card-list overflow-x-hidden w-full"},[_.value?(l(),c($,{key:1},[g.value?(l(),E(s(ht),{key:0,class:"scroller",items:i.value,"min-item-size":d.value,"key-field":"rowIndex"},{default:et(({item:w,index:I,active:A})=>[F(s(wt),{item:w,active:A,"size-dependencies":[w.words.length,w.rowIndex],"data-index":I},{default:et(()=>[t("div",{class:"grid gap-8 p-4 w-full",style:it({gridTemplateColumns:`repeat(${n.value}, 1fr)`})},[(l(!0),c($,null,D(w.words,(P,N)=>(l(),c($,{key:P?P.original:`placeholder-${w.rowIndex}-${N}`},[P?(l(),E(ct,{key:0,word:P,wordIndex:w.startIndex+N,fileIdx:r.fileIdx,groupName:r.groupName,studyType:r.studyType},null,8,["word","wordIndex","fileIdx","groupName","studyType"])):(l(),c("div",ke))],64))),128))],4)]),_:2},1032,["item","active","size-dependencies","data-index"])]),_:1},8,["items","min-item-size"])):(l(),c("div",{key:1,class:"grid gap-8 p-4 w-full",style:it({gridTemplateColumns:`repeat(${n.value}, 1fr)`})},[(l(!0),c($,null,D(S.value,(w,I)=>(l(),c($,{key:w?`grid-${w.original}-${I}`:`grid-placeholder-${I}`},[w?(l(),E(ct,{key:0,word:w,wordIndex:I,fileIdx:r.fileIdx,groupName:r.groupName,studyType:r.studyType},null,8,["word","wordIndex","fileIdx","groupName","studyType"])):(l(),c("div",$e))],64))),128))],4))],64)):(l(),c("div",he,f[0]||(f[0]=[t("div",{class:"loading-text"},"加载中...",-1)])))],512))}}),Re=G(Ce,[["__scopeId","data-v-b7c95398"]]),Te=["data-group-name","id"],Ie={class:"font-bold text-xl tracking-wide"},De={class:"ml-4 text-base bg-indigo-100 text-indigo-700 rounded-full px-4 py-1"},Oe={key:0,class:"ml-6 text-gray-500 text-base"},Pe=["title"],We={class:"bg-white px-6 pb-6 pt-3 rounded-b-2xl"},Me=O({__name:"Group",props:{group:{},groupIndex:{}},setup(C){const e=L(),n=C.group,d=b(()=>e.selectedFileIdx),i=b(()=>e.stars),g=()=>{e.toggleGroup(n.name,n.__fileIdx)},x=(_,y)=>e.getGroupRating(_,y);return(_,y)=>(l(),c("div",{"data-group-name":s(n).name,id:"group-"+s(n).name,class:"mb-10 rounded-2xl shadow-lg"},[t("div",{class:m(["flex items-center px-8 py-5 select-none cursor-pointer rounded-t-2xl group-hover:shadow-md transition-all",s(n).open?"bg-gray-500":"bg-gray-300"]),onClick:g},[y[3]||(y[3]=t("span",{class:"mdi mdi-folder-open-outline text-2xl mr-3 text-indigo-500"},null,-1)),t("span",Ie,u(s(n).name),1),t("span",De,u(s(n).words.length)+" 个单词",1),s(n).description?(l(),c("span",Oe,u(s(n).description),1)):h("",!0),x(s(n).__fileIdx??d.value,s(n).name)>0?dt([x(s(n).__fileIdx??d.value,s(n).name),s(n).__fileIdx,d.value,s(n).name],()=>(l(),c("div",{key:1,class:"ml-6 flex items-center gap-1",onClick:y[0]||(y[0]=Q(()=>{},["stop"]))},[(l(!0),c($,null,D(i.value,S=>(l(),c("span",{key:s(n).name+"-star-"+S,class:"p-0.5",title:`分组评分: ${x(s(n).__fileIdx??d.value,s(n).name)} 星`},[t("span",{class:m(["mdi text-xl",x(s(n).__fileIdx??d.value,s(n).name)>=S?"mdi-star text-yellow-400":"mdi-star-outline text-gray-400"])},null,2)],8,Pe))),128))])),y,1):h("",!0),t("span",{class:m(["mdi ml-auto text-3xl transition-transform duration-200",s(n).open?"mdi-chevron-up rotate-180 text-indigo-500":"mdi-chevron-down text-gray-400"])},null,2)],2),F(Rt,{name:"fade"},{default:et(()=>[J(t("div",We,[s(n).open?dt([s(n).words.length,s(n).__fileIdx,d.value,s(n).name],()=>(l(),E(Re,{key:0,words:s(n).words,fileIdx:s(n).__fileIdx??d.value,groupName:s(n).name,studyType:"regular"},null,8,["words","fileIdx","groupName"])),y,2):h("",!0)],512),[[vt,s(n).open]])]),_:1})],8,Te))}}),Ee=G(Me,[["__scopeId","data-v-95830fc6"]]),Ae={key:0},Fe={key:0,class:"text-center py-8"},Ge={key:0,class:"text-gray-500"},Be={key:1,class:"text-center text-gray-400 mt-20 text-xl"},Le=O({__name:"StudyMainContent",setup(C){const e=L(),a=j(5),n=j(!1),d=b(()=>e.filteredGroupsScoped.slice(0,a.value)),i=b(()=>a.value<e.filteredGroupsScoped.length),g=async()=>{n.value||!i.value||(n.value=!0,await pt(),a.value=Math.min(a.value+5,e.filteredGroupsScoped.length),n.value=!1)},x=j(),_=()=>{if(!x.value||n.value||!i.value)return;const{scrollTop:S,scrollHeight:R,clientHeight:B}=x.value;S+B>=R-200&&g()},y=()=>{a.value=5,n.value=!1};return st(()=>e.filteredGroupsScoped.length,()=>{y()}),ut(()=>{x.value&&x.value.addEventListener("scroll",_,{passive:!0})}),gt(()=>{x.value&&x.value.removeEventListener("scroll",_)}),(S,R)=>(l(),c("main",{ref_key:"containerRef",ref:x,class:"flex-1 min-h-screen min-w-0 overflow-x-auto p-6 bg-white/80"},[F(le),F(we),s(e).selectedFile&&s(e).selectedFile.groups.length?(l(),c("div",Ae,[(l(!0),c($,null,D(d.value,(B,p)=>(l(),E(Ee,{key:B.name,group:B,groupIndex:p},null,8,["group","groupIndex"]))),128)),i.value||n.value?(l(),c("div",Fe,[n.value?(l(),c("div",Ge," 加载中... ")):(l(),c("button",{key:1,onClick:g,class:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors"}," 加载更多 ("+u(s(e).filteredGroupsScoped.length-a.value)+" 个剩余) ",1))])):h("",!0)])):(l(),c("div",Be," 请选择左侧大类 ")),J(F(Tt,null,null,512),[[vt,s(e).showBackToTop]])],512))}}),Ne={key:0,class:"recording-hint"},He={class:"text-center"},je={class:"text-sm mt-1"},ze=O({__name:"RecordingHint",setup(C){const e=kt();return(a,n)=>s(e).isRecording?(l(),c("div",Ne,[t("div",He,[n[1]||(n[1]=t("div",{class:"mdi mdi-microphone text-4xl mb-2"},null,-1)),n[2]||(n[2]=t("div",null,"正在录音...",-1)),t("div",je,[n[0]||(n[0]=q(" 请朗读: ",-1)),t("strong",null,u(s(e).currentRecordingWord),1)]),n[3]||(n[3]=t("div",{class:"text-xs mt-2 text-gray-300"},"点击麦克风按钮可停止录音",-1))])])):h("",!0)}}),Ve=G(ze,[["__scopeId","data-v-231305c6"]]),Ue={class:"date-range-picker"},qe={class:"picker-content"},Je={class:"date-inputs"},Ke={class:"date-input-group"},Qe=["min","max"],Xe={class:"date-input-group"},Ye=["min","max"],Ze={class:"quick-buttons"},ts=["onClick"],es={class:"sort-options"},ss={class:"sort-buttons"},os=["onClick"],ns=O({__name:"DateRangePicker",setup(C){const e=K(),a=Z({start:e.dateRange.start?e.dateRange.start.toISOString().split("T")[0]:"",end:e.dateRange.end?e.dateRange.end.toISOString().split("T")[0]:""}),n=b(()=>e.dateRangeOptions),d=b(()=>e.sortBy),i=b(()=>e.sortOrder),g=[{type:"today",label:"今日"},{type:"week",label:"本周"},{type:"month",label:"本月"},{type:"all",label:"全部"}],x=[{value:k.SORT_OPTIONS.TIME,label:"时间"},{value:k.SORT_OPTIONS.WORD,label:"单词"},{value:k.SORT_OPTIONS.SCORE,label:"分数"},{value:k.SORT_OPTIONS.PRACTICE_COUNT,label:"练习次数"}],_=()=>{e.setDateRange({start:a.value.start||"",end:a.value.end||""})},y=p=>{const r=new Date;switch(p){case"today":a.value={start:r.toISOString().split("T")[0],end:r.toISOString().split("T")[0]};break;case"week":const f=new Date(r.getTime()-7*24*60*60*1e3);a.value={start:f.toISOString().split("T")[0],end:r.toISOString().split("T")[0]};break;case"month":a.value={start:n.value.firstDate,end:r.toISOString().split("T")[0]};break;case"all":a.value={start:n.value.firstDate,end:n.value.lastDate};break}_()},S=p=>{const r=new Date().toISOString().split("T")[0];switch(p){case"today":return a.value.start===r&&a.value.end===r;case"week":const f=new Date(Date.now()-7*24*60*60*1e3).toISOString().split("T")[0];return a.value.start===f&&a.value.end===r;case"month":return a.value.start===n.value.firstDate&&a.value.end===r;case"all":return a.value.start===n.value.firstDate&&a.value.end===n.value.lastDate;default:return!1}},R=p=>{const r=d.value===p&&i.value===k.SORT_ORDERS.ASC?k.SORT_ORDERS.DESC:k.SORT_ORDERS.ASC;e.setSort({sortBy:p,sortOrder:r})},B=p=>d.value!==p?"mdi-sort":i.value===k.SORT_ORDERS.ASC?"mdi-sort-ascending":"mdi-sort-descending";return st(()=>e.dateRange,p=>{a.value={start:p.start?p.start.toISOString().split("T")[0]:"",end:p.end?p.end.toISOString().split("T")[0]:""}},{deep:!0}),(p,r)=>(l(),c("div",Ue,[r[5]||(r[5]=t("div",{class:"picker-header"},[t("h4",{class:"picker-title"},"时间范围选择")],-1)),t("div",qe,[t("div",Je,[t("div",Ke,[r[2]||(r[2]=t("label",{class:"date-label"},"开始日期:",-1)),J(t("input",{type:"date","onUpdate:modelValue":r[0]||(r[0]=f=>a.value.start=f),min:n.value.firstDate,max:n.value.lastDate,class:"date-input",onChange:_},null,40,Qe),[[tt,a.value.start]])]),t("div",Xe,[r[3]||(r[3]=t("label",{class:"date-label"},"结束日期:",-1)),J(t("input",{type:"date","onUpdate:modelValue":r[1]||(r[1]=f=>a.value.end=f),min:n.value.firstDate,max:n.value.lastDate,class:"date-input",onChange:_},null,40,Ye),[[tt,a.value.end]])])]),t("div",Ze,[(l(),c($,null,D(g,f=>t("button",{key:f.type,onClick:w=>y(f.type),class:m(["preset-btn",{active:S(f.type)}])},u(f.label),11,ts)),64))]),t("div",es,[r[4]||(r[4]=t("label",{class:"sort-label"},"排序方式:",-1)),t("div",ss,[(l(),c($,null,D(x,f=>t("button",{key:f.value,onClick:w=>R(f.value),class:m(["sort-btn",{active:d.value===f.value}])},[q(u(f.label)+" ",1),t("span",{class:m(["mdi",B(f.value)])},null,2)],10,os)),64))])])])]))}}),ls=G(ns,[["__scopeId","data-v-c77809ed"]]),rs={class:"stats-table-container"},as={class:"min-w-full border text-sm"},is={class:"border px-4 py-2"},ds={class:"border px-4 py-2"},cs={class:"border px-4 py-2"},us=O({__name:"StatsTable",props:{stats:{default:()=>[]}},setup(C){return(e,a)=>(l(),c("div",rs,[t("table",as,[a[0]||(a[0]=t("thead",null,[t("tr",null,[t("th",{class:"border px-4 py-2"},"日期"),t("th",{class:"border px-4 py-2"},"单词数"),t("th",{class:"border px-4 py-2"},"正确率")])],-1)),t("tbody",null,[(l(!0),c($,null,D(e.stats,(n,d)=>(l(),c("tr",{key:d},[t("td",is,u(n.date),1),t("td",ds,u(n.wordCount),1),t("td",cs,u(n.accuracy)+"%",1)]))),128))])])]))}}),gs=G(us,[["__scopeId","data-v-a3461f2a"]]),ps={class:"modal-header"},vs={class:"modal-body"},xs={class:"overview-section"},ms={class:"overview-grid"},bs={class:"overview-card blue"},ys={class:"overview-value"},fs={class:"overview-card green"},_s={class:"overview-value"},Ss={class:"overview-card purple"},ws={class:"overview-value"},hs={class:"overview-card orange"},ks={class:"overview-value"},$s={class:"modal-actions"},Cs=O({__name:"StatsModal",setup(C){const e=K(),a=V();return(n,d)=>s(a).showStatsModal?(l(),c("div",{key:0,class:"stats-modal",onClick:d[5]||(d[5]=i=>s(a).closeStatsModal())},[t("div",{class:"modal-content",onClick:d[4]||(d[4]=Q(()=>{},["stop"]))},[t("div",ps,[d[6]||(d[6]=t("h3",{class:"modal-title"},"📊 详细练习统计",-1)),t("button",{onClick:d[0]||(d[0]=i=>s(a).closeStatsModal()),class:"close-btn mdi mdi-close"})]),t("div",vs,[F(ls),t("div",xs,[t("div",ms,[t("div",bs,[t("div",ys,u(s(e).getTotalPracticeCount()),1),d[7]||(d[7]=t("div",{class:"overview-label"},"总练习次数",-1))]),t("div",fs,[t("div",_s,u(s(e).getOverallAverageScore())+"% ",1),d[8]||(d[8]=t("div",{class:"overview-label"},"平均分数",-1))]),t("div",Ss,[t("div",ws,u(s(e).getPracticedWordsCount()),1),d[9]||(d[9]=t("div",{class:"overview-label"},"已练习单词",-1))]),t("div",hs,[t("div",ks,u(s(e).getBestScore())+"% ",1),d[10]||(d[10]=t("div",{class:"overview-label"},"最高分数",-1))])])]),F(gs)]),t("div",$s,[t("button",{onClick:d[1]||(d[1]=i=>s(e).exportData()),class:"action-btn primary mdi mdi-download"}," 导出数据 "),t("button",{onClick:d[2]||(d[2]=i=>s(e).clearAllData()),class:"action-btn danger mdi mdi-delete"}," 清空数据 "),t("button",{onClick:d[3]||(d[3]=i=>s(a).closeStatsModal()),class:"action-btn secondary"}," 关闭 ")])])])):h("",!0)}}),Rs=G(Cs,[["__scopeId","data-v-3b137bfa"]]),Ts={class:"flex-shrink-0"},Is={class:"flex justify-between items-center mb-4"},Ds={class:"bg-gray-50 p-4 rounded-lg mb-4"},Os={class:"flex items-center justify-between mb-2"},Ps={class:"flex items-center gap-4"},Ws={class:"flex items-center gap-2"},Ms=["value","min","max"],Es=["value","min","max"],As={class:"flex gap-2"},Fs={class:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4"},Gs={class:"bg-gradient-to-br from-blue-400 to-blue-600 text-white p-3 rounded-lg text-center"},Bs={class:"text-2xl font-bold"},Ls={class:"bg-gradient-to-br from-green-400 to-green-600 text-white p-3 rounded-lg text-center"},Ns={class:"text-2xl font-bold"},Hs={class:"bg-gradient-to-br from-purple-400 to-purple-600 text-white p-3 rounded-lg text-center"},js={class:"text-2xl font-bold"},zs={class:"bg-gradient-to-br from-orange-400 to-orange-600 text-white p-3 rounded-lg text-center"},Vs={class:"text-2xl font-bold"},Us={class:"flex-1 overflow-hidden flex flex-col"},qs={class:"flex-1 overflow-auto border border-gray-200 rounded-lg"},Js={class:"w-full border-collapse"},Ks={class:"sticky top-0 bg-gray-50 z-10"},Qs={class:"flex items-center justify-between"},Xs={class:"flex items-center justify-center gap-1"},Ys={class:"flex items-center justify-center gap-1"},Zs={class:"flex items-center justify-center gap-1"},to={class:"flex items-center justify-center gap-1"},eo={class:"flex items-center justify-center gap-1"},so={class:"border border-gray-200 px-4 py-3 text-center text-gray-600"},oo={class:"border border-gray-200 px-4 py-3 font-bold text-indigo-700"},no={class:"border border-gray-200 px-4 py-3 text-center"},lo={class:"border border-gray-200 px-4 py-3 text-center"},ro={class:"border border-gray-200 px-4 py-3 text-center"},ao={class:"border border-gray-200 px-4 py-3 text-center"},io={class:"border border-gray-200 px-4 py-3 text-center text-sm text-gray-600"},co={class:"border border-gray-200 px-4 py-3 text-center"},uo={class:"sticky bottom-0 bg-gray-100 border-t-2 border-gray-300"},go={class:"font-bold text-gray-800"},po={class:"border border-gray-200 px-4 py-3 bg-gray-100"},vo={class:"border border-gray-200 px-4 py-3 text-center bg-gray-100"},xo={class:"border border-gray-200 px-4 py-3 text-center bg-gray-100"},mo={class:"border border-gray-200 px-4 py-3 text-center bg-gray-100"},bo={class:"border border-gray-200 px-4 py-3 text-center bg-gray-100"},yo={class:"flex-shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 mt-4"},fo={class:"bg-green-50 border border-green-200 rounded-lg p-4"},_o={class:"space-y-2"},So={key:0,class:"text-gray-500 text-sm"},wo={class:"font-medium text-green-700"},ho={class:"text-green-600"},ko={class:"text-xs text-gray-500"},$o={class:"bg-red-50 border border-red-200 rounded-lg p-4"},Co={class:"space-y-2"},Ro={key:0,class:"text-gray-500 text-sm"},To={class:"font-medium text-red-700"},Io={class:"text-red-600"},Do={class:"text-xs text-gray-500"},Oo={class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},Po={class:"space-y-2 text-sm"},Wo={class:"flex justify-between"},Mo={class:"font-medium text-blue-700"},Eo={class:"flex justify-between"},Ao={class:"font-medium text-blue-700"},Fo={class:"flex justify-between"},Go={class:"font-medium text-blue-700"},Bo={class:"flex justify-between"},Lo={class:"font-medium text-blue-700"},No={class:"flex justify-between"},Ho={class:"font-medium text-blue-700"},jo={class:"flex-shrink-0 flex justify-center gap-4 pt-3 border-t border-gray-200"},zo=O({__name:"DetailedStatsModal",setup(C){const e=K(),a=b(()=>e.showDetailedStatsModal),n=()=>e.closeDetailedStatsModal(),d=Z("word"),i=Z(k.SORT_ORDERS.ASC),g=W=>{d.value===W?i.value=i.value===k.SORT_ORDERS.ASC?k.SORT_ORDERS.DESC:k.SORT_ORDERS.ASC:(d.value=W,i.value=k.SORT_ORDERS.ASC)},x=W=>d.value!==W?"mdi-sort":i.value===k.SORT_ORDERS.ASC?"mdi-sort-ascending":"mdi-sort-descending",_=b(()=>e.historyDateRange),y=b(()=>e.dateRangeOptions),S=b(()=>_.value.start?Y.formatDateToISO(_.value.start):""),R=b(()=>_.value.end?Y.formatDateToISO(_.value.end):""),B=W=>{const v=W.target.value,T=_.value.end,M=T?Y.formatDateToISO(T):"";e.setHistoryDateRange({start:v,end:M})},p=W=>{const v=W.target.value,T=_.value.start,M=T?Y.formatDateToISO(T):"";e.setHistoryDateRange({start:M,end:v})},r=b(()=>e.getHistoryTotalPracticeCount()),f=b(()=>e.getHistoryOverallAverageScore()),w=b(()=>e.getHistoryPracticedWordsCount()),I=b(()=>e.getHistoryBestScore()),A=b(()=>[...e.getHistoryAllWords()].sort((o,v)=>{let T,M;switch(d.value){case"word":T=o,M=v;break;case"practiceCount":T=e.getHistoryPracticeCount({original:o}),M=e.getHistoryPracticeCount({original:v});break;case"averageScore":T=e.getHistoryAverageScore({original:o}),M=e.getHistoryAverageScore({original:v});break;case"bestScore":T=e.getBestScoreForWord({original:o}),M=e.getBestScoreForWord({original:v});break;case"worstScore":T=e.getWorstScoreForWord({original:o}),M=e.getWorstScoreForWord({original:v});break;case"lastPractice":const H=e.getLastPracticeTime({original:o}),at=e.getLastPracticeTime({original:v});T=H==="暂无记录"?0:new Date(H).getTime(),M=at==="暂无记录"?0:new Date(at).getTime();break;default:T=o,M=v}if(typeof T=="string"&&typeof M=="string"){const H=T.localeCompare(M);return i.value===k.SORT_ORDERS.ASC?H:-H}else{const H=T-M;return i.value===k.SORT_ORDERS.ASC?H:-H}})),P=b(()=>e.getTableSummary()),N=b(()=>e.getFastestImprovingWords()),ot=b(()=>e.getWordsNeedingPractice()),U=b(()=>e.getTimeStatistics()),mt=e.getHistoryPracticeCount,nt=e.getHistoryAverageScore,lt=e.getBestScoreForWord,rt=e.getWorstScoreForWord,bt=e.getLastPracticeTime,yt=W=>{const o=e.getHistoryAverageScore(W);return $t(o)},ft=W=>{const o=e.getHistoryAverageScore(W);return Ct(o)},X=W=>e.quickSetHistoryDateRange(W),_t=()=>e.clearHistoryDateRange(),St=()=>e.exportData();return(W,o)=>a.value?(l(),c("div",{key:0,class:"pronunciation-modal",onClick:o[14]||(o[14]=v=>n())},[t("div",{class:"modal-content w-full h-[90vh] max-w-none flex flex-col",onClick:o[13]||(o[13]=Q(()=>{},["stop"]))},[t("div",Ts,[t("div",Is,[o[16]||(o[16]=t("h3",{class:"text-3xl font-bold text-indigo-700"},"📊 详细练习统计",-1)),t("button",{onClick:o[0]||(o[0]=v=>n()),class:"text-black hover:text-gray-600 p-1"},o[15]||(o[15]=[t("span",{class:"mdi mdi-close text-2xl"},null,-1)]))]),t("div",Ds,[t("div",Os,[t("div",Ps,[o[18]||(o[18]=t("span",{class:"font-bold text-gray-700"},"时间范围:",-1)),t("div",Ws,[t("input",{type:"date",value:S.value,min:y.value.firstDate,max:y.value.lastDate,class:"px-3 py-1 border border-gray-300 rounded-md text-sm w-36",placeholder:"开始日期",onChange:B},null,40,Ms),o[17]||(o[17]=t("span",{class:"text-gray-500"},"至",-1)),t("input",{type:"date",value:R.value,min:y.value.firstDate,max:y.value.lastDate,class:"px-3 py-1 border border-gray-300 rounded-md text-sm w-36",placeholder:"结束日期",onChange:p},null,40,Es)])]),t("div",As,[t("button",{onClick:o[1]||(o[1]=v=>X("today")),class:"px-3 py-1 bg-blue-500 text-white rounded-md text-sm hover:bg-blue-600 transition"}," 今日 "),t("button",{onClick:o[2]||(o[2]=v=>X("week")),class:"px-3 py-1 bg-green-500 text-white rounded-md text-sm hover:bg-green-600 transition"}," 本周 "),t("button",{onClick:o[3]||(o[3]=v=>X("month")),class:"px-3 py-1 bg-purple-500 text-white rounded-md text-sm hover:bg-purple-600 transition"}," 本月 "),t("button",{onClick:o[4]||(o[4]=v=>X("all")),class:"px-3 py-1 bg-gray-500 text-white rounded-md text-sm hover:bg-gray-600 transition"}," 全部 "),t("button",{onClick:_t,class:"px-3 py-1 bg-red-500 text-white rounded-md text-sm hover:bg-red-600 transition"}," 清空 ")])])]),t("div",Fs,[t("div",Gs,[t("div",Bs,u(r.value),1),o[19]||(o[19]=t("div",{class:"text-xs"},"总练习次数",-1))]),t("div",Ls,[t("div",Ns,u(f.value)+"%",1),o[20]||(o[20]=t("div",{class:"text-xs"},"平均分数",-1))]),t("div",Hs,[t("div",js,u(w.value),1),o[21]||(o[21]=t("div",{class:"text-xs"},"已练习单词",-1))]),t("div",zs,[t("div",Vs,u(I.value)+"%",1),o[22]||(o[22]=t("div",{class:"text-xs"},"最高分数",-1))])])]),t("div",Us,[o[34]||(o[34]=t("h4",{class:"text-xl font-bold text-gray-700 mb-2 flex-shrink-0"}," 📝 单词练习详情 ",-1)),t("div",qs,[t("table",Js,[t("thead",Ks,[t("tr",null,[o[29]||(o[29]=t("th",{class:"border border-gray-200 px-4 py-3 text-center font-bold text-gray-700 bg-gray-50"}," 序号 ",-1)),t("th",{class:"border border-gray-200 px-4 py-3 text-left font-bold text-gray-700 bg-gray-50 cursor-pointer hover:bg-gray-100 transition-colors",onClick:o[5]||(o[5]=v=>g("word"))},[t("div",Qs,[o[23]||(o[23]=t("span",null,"单词",-1)),t("span",{class:m(["mdi text-lg",x("word")])},null,2)])]),t("th",{class:"border border-gray-200 px-4 py-3 text-center font-bold text-gray-700 bg-gray-50 cursor-pointer hover:bg-gray-100 transition-colors",onClick:o[6]||(o[6]=v=>g("practiceCount"))},[t("div",Xs,[o[24]||(o[24]=t("span",null,"次数",-1)),t("span",{class:m(["mdi text-lg",x("practiceCount")])},null,2)])]),t("th",{class:"border border-gray-200 px-4 py-3 text-center font-bold text-gray-700 bg-gray-50 cursor-pointer hover:bg-gray-100 transition-colors",onClick:o[7]||(o[7]=v=>g("averageScore"))},[t("div",Ys,[o[25]||(o[25]=t("span",null,"平均分",-1)),t("span",{class:m(["mdi text-lg",x("averageScore")])},null,2)])]),t("th",{class:"border border-gray-200 px-4 py-3 text-center font-bold text-gray-700 bg-gray-50 cursor-pointer hover:bg-gray-100 transition-colors",onClick:o[8]||(o[8]=v=>g("bestScore"))},[t("div",Zs,[o[26]||(o[26]=t("span",null,"最高分",-1)),t("span",{class:m(["mdi text-lg",x("bestScore")])},null,2)])]),t("th",{class:"border border-gray-200 px-4 py-3 text-center font-bold text-gray-700 bg-gray-50 cursor-pointer hover:bg-gray-100 transition-colors",onClick:o[9]||(o[9]=v=>g("worstScore"))},[t("div",to,[o[27]||(o[27]=t("span",null,"最低分",-1)),t("span",{class:m(["mdi text-lg",x("worstScore")])},null,2)])]),t("th",{class:"border border-gray-200 px-4 py-3 text-center font-bold text-gray-700 bg-gray-50 cursor-pointer hover:bg-gray-100 transition-colors",onClick:o[10]||(o[10]=v=>g("lastPractice"))},[t("div",eo,[o[28]||(o[28]=t("span",null,"最近练习",-1)),t("span",{class:m(["mdi text-lg",x("lastPractice")])},null,2)])]),o[30]||(o[30]=t("th",{class:"border border-gray-200 px-4 py-3 text-center font-bold text-gray-700 bg-gray-50"}," 状态 ",-1))])]),t("tbody",null,[(l(!0),c($,null,D(A.value,(v,T)=>(l(),c("tr",{key:v,class:"hover:bg-gray-50"},[t("td",so,u(T+1),1),t("td",oo,u(v),1),t("td",no,u(s(mt)({original:v})),1),t("td",lo,[t("span",{class:m(s(z)(s(nt)({original:v})))},u(s(nt)({original:v}))+"%",3)]),t("td",ro,[t("span",{class:m(s(z)(s(lt)({original:v})))},u(s(lt)({original:v}))+"%",3)]),t("td",ao,[t("span",{class:m(s(z)(s(rt)({original:v})))},u(s(rt)({original:v}))+"%",3)]),t("td",io,u(s(bt)({original:v})),1),t("td",co,[t("span",{class:m([yt({original:v}),"px-2 py-1 rounded-full text-xs font-bold"])},u(ft({original:v})),3)])]))),128))]),t("tfoot",uo,[t("tr",go,[o[31]||(o[31]=t("td",{class:"border border-gray-200 px-4 py-3 bg-gray-100 text-center"}," - ",-1)),t("td",po," 汇总 ("+u(A.value.length)+" 个单词) ",1),t("td",vo,u(P.value.avgPracticeCount),1),t("td",xo,[t("span",{class:m(s(z)(P.value.avgAverageScore))},u(P.value.avgAverageScore)+"% ",3)]),t("td",mo,[t("span",{class:m(s(z)(P.value.avgBestScore))},u(P.value.avgBestScore)+"% ",3)]),t("td",bo,[t("span",{class:m(s(z)(P.value.avgWorstScore))},u(P.value.avgWorstScore)+"% ",3)]),o[32]||(o[32]=t("td",{class:"border border-gray-200 px-4 py-3 text-center bg-gray-100 text-sm"}," 平均值 ",-1)),o[33]||(o[33]=t("td",{class:"border border-gray-200 px-4 py-3 text-center bg-gray-100"}," - ",-1))])])])])]),t("div",yo,[t("div",fo,[o[35]||(o[35]=t("h5",{class:"text-lg font-bold text-green-700 mb-3 flex items-center"}," 📈 进步最快的单词 ",-1)),t("div",_o,[N.value.length===0?(l(),c("div",So," 暂无数据 ")):h("",!0),(l(!0),c($,null,D(N.value,v=>(l(),c("div",{key:v.word,class:"flex justify-between items-center text-sm"},[t("span",wo,u(v.word),1),t("span",ho,[q(" +"+u(v.improvement)+"% ",1),t("span",ko," ("+u(v.firstScore)+"% → "+u(v.lastScore)+"%) ",1)])]))),128))])]),t("div",$o,[o[36]||(o[36]=t("h5",{class:"text-lg font-bold text-red-700 mb-3 flex items-center"}," 🎯 需要重点练习 ",-1)),t("div",Co,[ot.value.length===0?(l(),c("div",Ro," 暂无需要重点练习的单词 ")):h("",!0),(l(!0),c($,null,D(ot.value,v=>(l(),c("div",{key:v.word,class:"flex justify-between items-center text-sm"},[t("span",To,u(v.word),1),t("span",Io,[q(u(v.averageScore)+"% ",1),t("span",Do," ("+u(v.practiceCount)+"次) ",1)])]))),128))])]),t("div",Oo,[o[42]||(o[42]=t("h5",{class:"text-lg font-bold text-blue-700 mb-3 flex items-center"}," ⏰ 时间统计 ",-1)),t("div",Po,[t("div",Wo,[o[37]||(o[37]=t("span",{class:"text-gray-600"},"今日练习:",-1)),t("span",Mo,u(U.value.todayPracticeCount)+"次",1)]),t("div",Eo,[o[38]||(o[38]=t("span",{class:"text-gray-600"},"本周练习:",-1)),t("span",Ao,u(U.value.weekPracticeCount)+"次",1)]),t("div",Fo,[o[39]||(o[39]=t("span",{class:"text-gray-600"},"本月练习:",-1)),t("span",Go,u(U.value.monthPracticeCount)+"次",1)]),t("div",Bo,[o[40]||(o[40]=t("span",{class:"text-gray-600"},"日均练习:",-1)),t("span",Lo,u(U.value.averageDailyPractice)+"次",1)]),t("div",No,[o[41]||(o[41]=t("span",{class:"text-gray-600"},"连续天数:",-1)),t("span",Ho,u(U.value.practiceStreak)+"天",1)])])])]),t("div",jo,[t("button",{onClick:o[11]||(o[11]=v=>St()),class:"bg-indigo-500 text-white px-6 py-2 rounded-lg hover:bg-indigo-600 transition"}," 📥 导出数据 "),t("button",{onClick:o[12]||(o[12]=v=>n()),class:"bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition"}," 关闭 ")])])])):h("",!0)}}),Vo=G(zo,[["__scopeId","data-v-24e7f1c9"]]),Uo={class:"flex justify-between items-center mb-4"},qo={class:"space-y-4 text-gray-700"},Jo={class:"grid grid-cols-2 gap-3"},Ko={class:"bg-gray-300 p-3 rounded-lg text-center"},Qo={class:"text-3xl font-bold text-indigo-600"},Xo={class:"bg-gray-300 p-3 rounded-lg text-center"},Yo={class:"text-3xl font-bold text-indigo-600"},Zo={class:"grid grid-cols-2 gap-4"},tn={class:"flex items-center gap-4"},en={class:"flex items-center gap-4"},sn={class:"grid grid-cols-2 gap-3"},on={class:"bg-gray-300 p-3 rounded-lg text-center"},nn={class:"text-3xl font-bold text-indigo-600"},ln={class:"bg-gray-300 p-3 rounded-lg text-center"},rn={class:"text-3xl font-bold text-indigo-600"},an={class:"grid grid-cols-2 gap-4"},dn={class:"flex items-center gap-4"},cn={class:"flex items-center gap-4"},un={class:"flex justify-end mt-6"},gn=O({__name:"WordStatsModal",setup(C){const e=L(),a=V(),n=b(()=>a.showWordStatsModal),d=()=>a.closeWordStatsModal(),i=b(()=>e.groupCount||0),g=b(()=>e.wordCount||0),x=b(()=>e.totalGroupCount||0),_=b(()=>e.totalWordCount||0),y=b(()=>e.stars||[1,2,3,4,5]),S=b(()=>e.ratingStats||{groups:{1:0,2:0,3:0,4:0,5:0},words:{1:0,2:0,3:0,4:0,5:0}}),R=b(()=>e.ratingStatsAll||{groups:{1:0,2:0,3:0,4:0,5:0},words:{1:0,2:0,3:0,4:0,5:0}});return(B,p)=>n.value?(l(),c("div",{key:0,class:"pronunciation-modal",onClick:p[3]||(p[3]=r=>d())},[t("div",{class:"modal-content max-w-2xl",onClick:p[2]||(p[2]=Q(()=>{},["stop"]))},[t("div",Uo,[p[5]||(p[5]=t("h3",{class:"text-2xl font-bold text-indigo-700"},"单词信息统计",-1)),t("button",{onClick:p[0]||(p[0]=r=>d()),class:"icon-btn"},p[4]||(p[4]=[t("span",{class:"mdi mdi-close"},null,-1)]))]),t("div",qo,[t("div",Jo,[t("div",Ko,[p[6]||(p[6]=t("div",{class:"text-sm"},"分类数量",-1)),t("div",Qo,u(i.value),1)]),t("div",Xo,[p[7]||(p[7]=t("div",{class:"text-sm"},"单词数量",-1)),t("div",Yo,u(g.value),1)])]),t("div",Zo,[t("div",null,[p[8]||(p[8]=t("h4",{class:"font-bold mb-2 text-indigo-700"},"按星级（分类）",-1)),t("div",tn,[(l(!0),c($,null,D(y.value,r=>(l(),c("div",{key:"gs-"+r,class:"flex items-center gap-1"},[t("span",{class:m(["mdi",[S.value.groups[r]>0?"mdi-star text-yellow-500":"mdi-star-outline text-gray-300","text-2xl"]])},null,2),t("span",{class:m(["text-lg",S.value.groups[r]>0?"text-gray-800":"text-gray-400"])},u(r)+": "+u(S.value.groups[r]),3)]))),128))])]),t("div",null,[p[9]||(p[9]=t("h4",{class:"font-bold mb-2 text-indigo-700"},"按星级（单词）",-1)),t("div",en,[(l(!0),c($,null,D(y.value,r=>(l(),c("div",{key:"ws-"+r,class:"flex items-center gap-1"},[t("span",{class:m(["mdi",[S.value.words[r]>0?"mdi-star text-yellow-500":"mdi-star-outline text-gray-300","text-2xl"]])},null,2),t("span",{class:m(["text-lg",S.value.words[r]>0?"text-gray-800":"text-gray-400"])},u(r)+": "+u(S.value.words[r]),3)]))),128))])])]),p[14]||(p[14]=t("hr",{class:"my-2"},null,-1)),p[15]||(p[15]=t("div",{class:"text-indigo-700 font-bold"},"全部数据",-1)),t("div",sn,[t("div",on,[p[10]||(p[10]=t("div",{class:"text-sm"},"分类数量",-1)),t("div",nn,u(x.value),1)]),t("div",ln,[p[11]||(p[11]=t("div",{class:"text-sm"},"单词数量",-1)),t("div",rn,u(_.value),1)])]),t("div",an,[t("div",null,[p[12]||(p[12]=t("h4",{class:"font-bold mb-2 text-indigo-700"},"按星级（分类，全部）",-1)),t("div",dn,[(l(!0),c($,null,D(y.value,r=>(l(),c("div",{key:"gsa-"+r,class:"flex items-center gap-1"},[t("span",{class:m(["mdi",[R.value.groups[r]>0?"mdi-star text-yellow-500":"mdi-star-outline text-gray-300","text-2xl"]])},null,2),t("span",{class:m(["text-lg",R.value.groups[r]>0?"text-gray-800":"text-gray-400"])},u(r)+": "+u(R.value.groups[r]),3)]))),128))])]),t("div",null,[p[13]||(p[13]=t("h4",{class:"font-bold mb-2 text-indigo-700"},"按星级（单词，全部）",-1)),t("div",cn,[(l(!0),c($,null,D(y.value,r=>(l(),c("div",{key:"wsa-"+r,class:"flex items-center gap-1"},[t("span",{class:m(["mdi",[R.value.words[r]>0?"mdi-star text-yellow-500":"mdi-star-outline text-gray-300","text-2xl"]])},null,2),t("span",{class:m(["text-lg",R.value.words[r]>0?"text-gray-800":"text-gray-400"])},u(r)+": "+u(R.value.words[r]),3)]))),128))])])])]),t("div",un,[t("button",{onClick:p[1]||(p[1]=r=>d()),class:"btn"},"关闭")])])])):h("",!0)}}),pn=G(gn,[["__scopeId","data-v-7ed34ddc"]]),vn={class:"flex w-full"},_n=O({name:"Study",__name:"StudyView",setup(C){const e=V(),a=K();return(n,d)=>(l(),c("div",vn,[F(te),F(Le),s(e).showSettingsModal?(l(),E(xt,{key:0})):h("",!0),s(a).showWordHistoryModal?(l(),E(It,{key:1})):h("",!0),s(e).showPronunciationModal?(l(),E(Dt,{key:2})):h("",!0),s(e).showResultModal?(l(),E(Ot,{key:3})):h("",!0),s(e).showRecordingHint?(l(),E(Ve,{key:4})):h("",!0),s(e).showStatsModal?(l(),E(Rs,{key:5})):h("",!0),s(a).showDetailedStatsModal?(l(),E(Vo,{key:6})):h("",!0),F(pn)]))}});export{_n as default};
