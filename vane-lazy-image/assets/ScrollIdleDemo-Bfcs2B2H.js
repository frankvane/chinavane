import{R as s,j as t}from"./index-D8F4DWO3.js";import{D as l}from"./DemoPage-Cm4QH0wv.js";import{w as m}from"./index-B42FZQrT.js";import{c}from"./index-pPKGznM1.js";import{c as d}from"./FetchLoaderPlugin-TVanieTR.js";import{L as g}from"./LazyLoadImageCore-CJJrIobl.js";import{c as p}from"./index-B5UHMOeD.js";import{c as h}from"./index-BgL7gFsr.js";import{c as u}from"./index-MmzqKMr6.js";import{c as f}from"./index-BeQ7g6RM.js";import{c as x}from"./index-BbFPsCDX.js";import{c as y}from"./index-DuBD9CE8.js";import{c as P}from"./index-Umho1SUE.js";import"./tomorrow-CQx5l04T.js";import"./GlobalContext-DYUf_pwM.js";const w=m(g,[p({maxEntries:300,ttlMs:60*60*1e3,debug:!1}),h({ttlMs:7*24*60*60*1e3,debug:!1}),c({idleMs:160,maxWaitMs:1200,onlyWhenIntersecting:!0,debug:!1}),d({enabled:!0}),u({showWhen:"loading",height:3,color:"#ff7f50",showPercentText:!0}),f({type:"shimmer",showWhen:"loading",borderRadius:6,zIndex:1}),x({content:r=>`ScrollIdle • ${new URL(r.src,window.location.origin).pathname}`,position:"bottom",background:"rgba(0,0,0,0.35)",color:"#fff",showWhen:"loading",zIndex:4}),y({domains:["https://picsum.photos"]}),P({enabled:!0,prefix:"[SI-Demo]"})]);function E(){const[r,a]=s.useState(Array.from({length:90}).map((o,e)=>`https://picsum.photos/seed/si-demo-${e+1}/800/600`)),i=()=>{const o=Array.from({length:10}).map((e,n)=>`https://picsum.photos/seed/si-demo-${Date.now()}-${n}/800/600`);a(e=>[...e,...o])};return t.jsxs(l,{title:"LazyLoadImagePlugin • 滚动空闲示例",description:"滚动页面，加载将等待空闲以提升流畅度",children:[t.jsx("div",{style:{marginBottom:12},children:t.jsx("button",{onClick:i,style:{padding:"6px 10px"},children:"批量添加图片"})}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:12},children:r.map((o,e)=>t.jsx("div",{style:{width:320,height:200,position:"relative"},children:t.jsx(w,{src:o,loading:"lazy",rootMargin:"300px",containerStyle:{width:"100%",height:"100%"},imageStyle:{width:"100%",height:"100%",objectFit:"cover"},containerClassName:"lazy-image-container"})},o+e))})]})}export{E as default};
