import{j as t,r as x}from"./index-CAgh_i44.js";import{L as c}from"./LazyLoadImageCore-BXC5ZDAL.js";import{D as B}from"./DemoPage-DDy1Lp2W.js";import{w as d}from"./index-BUiUrMm6.js";import"./tomorrow-gtxudeWU.js";import"./GlobalContext-DYUf_pwM.js";const F=({config:s,context:e})=>{const{status:r,stockCount:m,lowStockThreshold:g=10,showBadge:f=!0,autoRefresh:j=!1,refreshInterval:p=3e4,fetchStock:o,onStatusChange:n,position:y="top-right",style:k={}}=s,[S,b]=x.useState(r),[l,w]=x.useState(m);if(x.useEffect(()=>{if(!j||!o)return;const C=setInterval(async()=>{try{const i=await o();b(i.status),i.count!==void 0&&w(i.count),n&&n(i.status)}catch(i){console.error("Failed to fetch stock:",i)}},p);return()=>clearInterval(C)},[j,o,p,n]),!f)return null;const v={"in-stock":{text:"æœ‰è´§",bg:"#4CAF50",color:"#fff",icon:"âœ“"},"out-of-stock":{text:"ç¼ºè´§",bg:"#F44336",color:"#fff",icon:"âœ•"},"low-stock":{text:"åº“å­˜ç´§å¼ ",bg:"#FF9800",color:"#fff",icon:"âš "},"pre-order":{text:"é¢„è®¢",bg:"#2196F3",color:"#fff",icon:"ğŸ•"}};let a=S;l!==void 0&&(l===0?a="out-of-stock":l<=g?a="low-stock":S!=="pre-order"&&(a="in-stock"));const u=v[a]||v["in-stock"],I={position:"absolute",...{"top-left":{top:"10px",left:"10px"},"top-right":{top:"10px",right:"10px"},"bottom-left":{bottom:"10px",left:"10px"},"bottom-right":{bottom:"10px",right:"10px"}}[y],backgroundColor:u.bg,color:u.color,padding:"6px 12px",borderRadius:"4px",fontSize:"13px",fontWeight:"600",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",zIndex:10,display:"flex",alignItems:"center",gap:"4px",animation:"inventoryFadeIn 0.3s ease-out",...k};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:I,children:[t.jsx("span",{children:u.icon}),t.jsx("span",{children:u.text}),l!==void 0&&a!=="out-of-stock"&&t.jsxs("span",{style:{marginLeft:"4px",fontSize:"11px",opacity:.9},children:["(",l,")"]})]}),t.jsx("style",{children:`
        @keyframes inventoryFadeIn {
          from {
            opacity: 0;
            transform: translateY(-5px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]})};function h(s){return{name:"inventory-status",version:"1.0.0",config:s,hooks:{renderOverlay:e=>{if(!e.imageState.isLoaded)return null;const r=e.config||s;return t.jsx(F,{config:r,context:e})}}}}const O=()=>{const[s,e]=x.useState("in-stock"),r=d(c,[h({status:"in-stock",stockCount:100,showBadge:!0,position:"top-right"})]),m=d(c,[h({status:"low-stock",stockCount:5,lowStockThreshold:10,showBadge:!0,position:"top-right"})]),g=d(c,[h({status:"out-of-stock",stockCount:0,showBadge:!0,position:"top-right"})]),f=d(c,[h({status:"pre-order",showBadge:!0,position:"top-right"})]),p=d(c,[h({status:s,stockCount:50,showBadge:!0,autoRefresh:!0,refreshInterval:5e3,fetchStock:async()=>{await new Promise(k=>setTimeout(k,100));const o=["in-stock","low-stock","out-of-stock","pre-order"],n=o[Math.floor(Math.random()*o.length)],y=Math.floor(Math.random()*100);return{status:n,count:y}},onStatusChange:o=>{console.log("åº“å­˜çŠ¶æ€å˜æ›´:",o),e(o)},position:"top-right"})]);return t.jsxs(B,{title:"InventoryStatus Plugin",description:"åº“å­˜çŠ¶æ€æ’ä»¶ - å®æ—¶æ˜¾ç¤ºå•†å“åº“å­˜çŠ¶æ€ï¼Œæ”¯æŒè‡ªåŠ¨åˆ·æ–°å’Œä½åº“å­˜é¢„è­¦",children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:30},children:[t.jsxs("div",{children:[t.jsx("h3",{style:{marginBottom:10},children:"âœ… æœ‰è´§ï¼ˆ100ä»¶ï¼‰"}),t.jsx("div",{style:{position:"relative",display:"inline-block"},children:t.jsx(r,{src:"https://picsum.photos/id/152/280/280",alt:"æœ‰è´§å•†å“",imageStyle:{borderRadius:"8px",width:"100%"}})})]}),t.jsxs("div",{children:[t.jsx("h3",{style:{marginBottom:10},children:"âš ï¸ åº“å­˜ç´§å¼ ï¼ˆ5ä»¶ï¼‰"}),t.jsx("div",{style:{position:"relative",display:"inline-block"},children:t.jsx(m,{src:"https://picsum.photos/id/164/280/280",alt:"ä½åº“å­˜å•†å“",imageStyle:{borderRadius:"8px",width:"100%"}})})]}),t.jsxs("div",{children:[t.jsx("h3",{style:{marginBottom:10},children:"âŒ ç¼ºè´§"}),t.jsx("div",{style:{position:"relative",display:"inline-block"},children:t.jsx(g,{src:"https://picsum.photos/id/177/280/280",alt:"ç¼ºè´§å•†å“",imageStyle:{borderRadius:"8px",width:"100%"}})})]}),t.jsxs("div",{children:[t.jsx("h3",{style:{marginBottom:10},children:"ğŸ• é¢„è®¢"}),t.jsx("div",{style:{position:"relative",display:"inline-block"},children:t.jsx(f,{src:"https://picsum.photos/id/183/280/280",alt:"é¢„è®¢å•†å“",imageStyle:{borderRadius:"8px",width:"100%"}})})]})]}),t.jsxs("div",{style:{marginTop:40},children:[t.jsx("h3",{style:{marginBottom:10},children:"ğŸ”„ è‡ªåŠ¨åˆ·æ–°åº“å­˜ï¼ˆæ¯5ç§’ï¼‰"}),t.jsxs("p",{style:{fontSize:14,color:"#666",marginBottom:10},children:["å½“å‰çŠ¶æ€: ",t.jsx("strong",{children:s})," - è¯¥å›¾ç‰‡ä¼šè‡ªåŠ¨åˆ·æ–°åº“å­˜çŠ¶æ€"]}),t.jsx("div",{style:{position:"relative",display:"inline-block"},children:t.jsx(p,{src:"https://picsum.photos/id/225/400/300",alt:"è‡ªåŠ¨åˆ·æ–°åº“å­˜",imageStyle:{borderRadius:"8px"}})})]}),t.jsxs("div",{style:{marginTop:30,padding:20,backgroundColor:"#f5f5f5",borderRadius:8},children:[t.jsx("h4",{children:"ğŸ¯ åŠŸèƒ½ç‰¹æ€§"}),t.jsxs("ul",{style:{marginTop:10},children:[t.jsx("li",{children:"âœ… 4ç§åº“å­˜çŠ¶æ€ï¼šæœ‰è´§/ä½åº“å­˜/ç¼ºè´§/é¢„è®¢"}),t.jsx("li",{children:"âœ… æ˜¾ç¤ºå®æ—¶åº“å­˜æ•°é‡"}),t.jsx("li",{children:"âœ… ä½åº“å­˜é˜ˆå€¼é¢„è­¦"}),t.jsx("li",{children:"âœ… è‡ªåŠ¨åˆ·æ–°åº“å­˜ï¼ˆå¯é…ç½®é—´éš”ï¼‰"}),t.jsx("li",{children:"âœ… åº“å­˜å˜æ›´å›è°ƒé€šçŸ¥"}),t.jsx("li",{children:"âœ… é¢œè‰²ç¼–ç ï¼ˆç»¿è‰²=æœ‰è´§/æ©™è‰²=ä½åº“å­˜/çº¢è‰²=ç¼ºè´§/è“è‰²=é¢„è®¢ï¼‰"})]}),t.jsx("h4",{style:{marginTop:20},children:"ğŸ’¡ ä½¿ç”¨åœºæ™¯"}),t.jsxs("ul",{style:{marginTop:10},children:[t.jsx("li",{children:"ğŸ›’ ç”µå•†äº§å“åˆ—è¡¨é¡µ"}),t.jsx("li",{children:"ğŸ“¦ åº“å­˜ç®¡ç†ç³»ç»Ÿ"}),t.jsx("li",{children:"ğŸª åœ¨çº¿å•†åŸé¦–é¡µ"}),t.jsx("li",{children:"ğŸ« é—¨ç¥¨/è¯¾ç¨‹å”®å–"}),t.jsx("li",{children:"â° é™æ—¶æŠ¢è´­æ´»åŠ¨"})]}),t.jsx("h4",{style:{marginTop:20},children:"ğŸ”§ æŠ€æœ¯ç‰¹ç‚¹"}),t.jsxs("ul",{style:{marginTop:10},children:[t.jsx("li",{children:"âš¡ æ”¯æŒè½®è¯¢åˆ·æ–°"}),t.jsx("li",{children:"ğŸ£ è‡ªå®šä¹‰fetchStockå‡½æ•°"}),t.jsx("li",{children:"ğŸ“Š å®æ—¶çŠ¶æ€åŒæ­¥"}),t.jsx("li",{children:"ğŸ”” çŠ¶æ€å˜æ›´é€šçŸ¥"})]})]})]})};export{O as default};
