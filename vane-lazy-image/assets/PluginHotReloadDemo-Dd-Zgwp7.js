import{r as i,j as e}from"./index-C0E0sUJ6.js";import{D as v}from"./DemoPage-DjGyO8DL.js";import{c as P,w as S}from"./index-BUsnPGUY.js";import{L as w}from"./LazyLoadImageCore-BPNS9GwS.js";import{c as m}from"./index-DHk8s8hy.js";import{c as p}from"./index-Ct9qucVK.js";import"./tomorrow-CNZkBZJs.js";import"./GlobalContext-DYUf_pwM.js";const A=()=>{const[n]=i.useState(()=>P()),[d,a]=i.useState([]),[c,u]=i.useState([]),[g,l]=i.useState(0),s=(t,o="info")=>{const r=o==="success"?"âœ…":o==="error"?"âŒ":"â„¹ï¸";u(j=>[...j.slice(-14),`[${new Date().toLocaleTimeString()}] ${r} ${t}`])};i.useEffect(()=>{const t=m({type:"pulse",showWhen:"loading"});n.register(t),a([t.name]),s(`æ³¨å†Œæ’ä»¶: ${t.name}`,"success")},[n]);const x=i.useMemo(()=>{const t=n.getAllPlugins();return console.log("[çƒ­æ›´æ–°] é‡æ–°åˆ›å»ºç»„ä»¶ï¼Œå½“å‰æ’ä»¶:",t.map(o=>o.name)),S(w,t)},[d,g]),h=()=>{const t=p({text:"ğŸ”¥ HOT",position:"top-right",bgColor:"#ef4444",color:"#fff",fontSize:14,padding:"4px 12px",showWhen:"loaded"});n.register(t)?(a(r=>[...r,t.name]),l(r=>r+1),s(`çƒ­æ³¨å†Œæ’ä»¶: ${t.name}`,"success")):s(`æ’ä»¶å·²å­˜åœ¨: ${t.name}`,"error")},f=()=>{n.unregister("badge")?(a(o=>o.filter(r=>r!=="badge")),l(o=>o+1),s("å¸è½½æ’ä»¶: badge","success")):s("æ’ä»¶ä¸å­˜åœ¨: badge","error")},b=()=>{n.unregister("skeleton");const t=p({text:"âœ¨ NEW",position:"top-left",bgColor:"#10b981",color:"#fff",fontSize:16,padding:"6px 16px",borderRadius:8,showWhen:"always"});n.register(t),a(o=>[...o.filter(r=>r!=="skeleton"),t.name]),l(o=>o+1),s("çƒ­æ›¿æ¢æ’ä»¶: skeleton â†’ badge (ç»¿è‰²æ ‡ç­¾)","success")},y=()=>{n.getAllPlugins().forEach(r=>n.unregister(r.name));const o=m({type:"pulse",showWhen:"loading"});n.register(o),a([o.name]),l(r=>r+1),s("é‡ç½®æ‰€æœ‰æ’ä»¶","info")};return e.jsxs(v,{title:"PluginHotReload - æ’ä»¶çƒ­æ›´æ–°",description:"è¿è¡Œæ—¶åŠ¨æ€æ³¨å†Œã€å¸è½½å’Œæ›¿æ¢æ’ä»¶ï¼Œæ— éœ€é‡å¯åº”ç”¨",children:[e.jsx("div",{style:{marginBottom:20},children:e.jsxs("div",{style:{padding:16,background:"#fef3c7",borderRadius:"8px",border:"1px solid #f59e0b"},children:[e.jsxs("p",{style:{margin:0,color:"#92400e",lineHeight:"1.6",marginBottom:8},children:["ğŸ”¥ ",e.jsx("strong",{children:"çƒ­æ›´æ–°èƒ½åŠ›ï¼š"})]}),e.jsxs("ul",{style:{margin:0,color:"#92400e",lineHeight:"1.8"},children:[e.jsx("li",{children:"è¿è¡Œæ—¶æ³¨å†Œæ–°æ’ä»¶"}),e.jsx("li",{children:"åŠ¨æ€å¸è½½å·²æœ‰æ’ä»¶"}),e.jsx("li",{children:"çƒ­æ›¿æ¢æ’ä»¶é…ç½®"}),e.jsx("li",{children:"å®æ—¶ç”Ÿæ•ˆï¼Œæ— éœ€é‡æ–°åŠ è½½"})]})]})}),e.jsxs("div",{style:{marginBottom:20},children:[e.jsx("h3",{style:{fontSize:"1.1em",marginBottom:12},children:"ğŸ”Œ å½“å‰æ¿€æ´»çš„æ’ä»¶"}),e.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[d.map(t=>e.jsx("div",{style:{padding:"6px 12px",background:"#dbeafe",borderRadius:"6px",fontSize:"0.9em",color:"#1e40af",border:"1px solid #3b82f6"},children:t},t)),d.length===0&&e.jsx("div",{style:{color:"#9ca3af",fontSize:"0.9em"},children:"æ— æ¿€æ´»æ’ä»¶"})]})]}),e.jsxs("div",{style:{marginBottom:30},children:[e.jsx("h3",{style:{fontSize:"1.1em",marginBottom:12},children:"ğŸ® çƒ­æ›´æ–°æ§åˆ¶"}),e.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap"},children:[e.jsx("button",{onClick:h,style:{padding:"10px 16px",background:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9em"},children:"â• æ·»åŠ çº¢è‰²è§’æ ‡"}),e.jsx("button",{onClick:f,style:{padding:"10px 16px",background:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9em"},children:"â– ç§»é™¤è§’æ ‡æ’ä»¶"}),e.jsx("button",{onClick:b,style:{padding:"10px 16px",background:"#f59e0b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9em"},children:"ğŸ”„ æ›¿æ¢ä¸ºç»¿è‰²è§’æ ‡"}),e.jsx("button",{onClick:y,style:{padding:"10px 16px",background:"#6b7280",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9em"},children:"ğŸ” é‡ç½®æ‰€æœ‰æ’ä»¶"})]})]}),e.jsxs("div",{style:{marginBottom:30},children:[e.jsx("h3",{style:{fontSize:"1.1em",marginBottom:12},children:"ğŸ–¼ï¸ å®æ—¶æ•ˆæœ"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:16},children:Array.from({length:4},(t,o)=>e.jsx("div",{style:{width:"100%",height:200},children:e.jsx(x,{src:`https://picsum.photos/seed/hot-reload-${o}/800/600`,alt:`çƒ­æ›´æ–°ç¤ºä¾‹ ${o+1}`,loading:"lazy",containerStyle:{width:"100%",height:"100%",background:"#f3f4f6",borderRadius:"8px"},imageStyle:{width:"100%",height:"100%",objectFit:"cover"}})},`${g}-${o}`))})]}),e.jsxs("div",{style:{marginBottom:20},children:[e.jsx("h3",{style:{fontSize:"1.1em",marginBottom:12},children:"ğŸ“œ æ“ä½œæ—¥å¿—"}),e.jsx("div",{style:{padding:16,background:"#1f2937",borderRadius:"8px",color:"#d1d5db",fontFamily:"monospace",fontSize:"0.85em",maxHeight:250,overflow:"auto"},children:c.length===0?e.jsx("div",{style:{color:"#6b7280"},children:"ç­‰å¾…æ“ä½œ..."}):c.map((t,o)=>e.jsx("div",{style:{marginBottom:4},children:t},o))})]}),e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"1.1em",marginBottom:12},children:"ğŸ’» API ä½¿ç”¨ç¤ºä¾‹"}),e.jsx("div",{style:{padding:16,background:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:e.jsx("pre",{style:{margin:0,fontSize:"0.85em",overflow:"auto"},children:`import { createPluginManager, createBadgePlugin } from "vane-lazy-image";

// åˆ›å»ºæ’ä»¶ç®¡ç†å™¨
const manager = createPluginManager();

// æ³¨å†Œæ’ä»¶ï¼ˆæ³¨æ„ï¼šæ’ä»¶åç§°é€šå¸¸æ˜¯å°å†™ï¼Œå¦‚ "badge", "skeleton"ï¼‰
const badge = createBadgePlugin({ text: "HOT" });
const success = manager.register(badge); // è¿”å› true/false

// è¿è¡Œæ—¶æ·»åŠ æ–°æ’ä»¶
const newBadge = createBadgePlugin({
  text: "NEW",
  bgColor: "#10b981"
});
manager.register(newBadge); // çƒ­æ³¨å†Œ

// å¸è½½æ’ä»¶ï¼ˆä½¿ç”¨æ­£ç¡®çš„æ’ä»¶åç§°ï¼‰
const removed = manager.unregister("badge"); // è¿”å› true/false

// æ›¿æ¢æ’ä»¶
manager.unregister("skeleton");
const replacement = createBadgePlugin({ text: "âœ¨" });
manager.register(replacement); // çƒ­æ›¿æ¢

// è·å–å½“å‰æ’ä»¶
const active = manager.getAllPlugins();`})})]})]})};export{A as default};
