import{R as r,j as t}from"./index-DYgqlTni.js";import{r as d,_ as l,S as m,P as c,n as p,a as h,c as g,l as u,d as x,y as f,s as y}from"./index.es-GGdYOdPG.js";import{D as b}from"./DemoPage-D1_mDGmg.js";import"./tomorrow-CqI3LVar.js";const w=d(y,[l({maxEntries:300,ttlMs:60*60*1e3,debug:!1}),m({ttlMs:7*24*60*60*1e3,debug:!1}),c({maxConcurrent:4,adaptive:!0,scope:"perHost",acquireTimeoutMs:6e3,debug:!1}),p({enabled:!0}),h({showWhen:"loading",height:3,color:"#1e90ff",showPercentText:!0}),g({type:"shimmer",showWhen:"loading",borderRadius:6,zIndex:1}),u({content:a=>`Concurrency • ${new URL(a.src,window.location.origin).hostname}`,position:"bottom",background:"rgba(0,0,0,0.35)",color:"#fff",showWhen:"loading",zIndex:4}),x({domains:["https://picsum.photos"]}),f({enabled:!0,prefix:"[CC-Demo]"})]);function D(){const[a,n]=r.useState(Array.from({length:90}).map((o,e)=>`https://picsum.photos/seed/cc-demo-${e+1}/800/600`)),s=()=>{const o=Array.from({length:6}).map((e,i)=>`https://picsum.photos/seed/cc-demo-${Date.now()}-${i}/800/600`);n(e=>[...e,...o])};return t.jsxs(b,{title:"LazyLoadImagePlugin • 并发控制示例",description:"控制并发加载数量，优化大量图片加载性能",children:[t.jsx("div",{style:{marginBottom:12},children:t.jsx("button",{onClick:s,style:{padding:"6px 10px"},children:"批量添加图片"})}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:12},children:a.map((o,e)=>t.jsx("div",{style:{width:320,height:200,position:"relative"},children:t.jsx(w,{src:o,loading:"lazy",rootMargin:"300px",containerStyle:{width:"100%",height:"100%"},imageStyle:{width:"100%",height:"100%",objectFit:"cover"},containerClassName:"lazy-image-container"})},o+e))})]})}export{D as default};
