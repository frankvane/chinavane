import{j as i,r as d}from"./index-CAgh_i44.js";import{L as p}from"./LazyLoadImageCore-BXC5ZDAL.js";import{D as R}from"./DemoPage-DDy1Lp2W.js";import{w as x}from"./index-BUiUrMm6.js";import"./tomorrow-gtxudeWU.js";import"./GlobalContext-DYUf_pwM.js";const A=({config:r,context:t})=>{const{price:s,currency:o="$",position:m="top-right",originalPrice:v,discount:P,showSavings:S=!1,style:T={},animate:a=!0,backgroundColor:I="#ff4757",textColor:k="#fff",fetchPrice:c,loadingText:C="åŠ è½½ä¸­...",errorText:F="ä»·æ ¼è·å–å¤±è´¥"}=r,[e,z]=d.useState(null),[B,f]=d.useState(!!c),[w,j]=d.useState(!1);d.useEffect(()=>{if(!c)return;(async()=>{try{f(!0),j(!1);const y=await c(t);z(y)}catch(y){console.error("Failed to fetch price:",y),j(!0)}finally{f(!1)}})()},[c,t]);const n=(e==null?void 0:e.price)??s,l=(e==null?void 0:e.originalPrice)??v,b=(e==null?void 0:e.discount)??P,g=S&&l&&typeof n=="number"&&typeof l=="number"?l-n:null,u={position:"absolute",...{"top-left":{top:"10px",left:"10px"},"top-right":{top:"10px",right:"10px"},"bottom-left":{bottom:"10px",left:"10px"},"bottom-right":{bottom:"10px",right:"10px"}}[m],backgroundColor:I,color:k,padding:"8px 12px",borderRadius:"4px",fontWeight:"bold",fontSize:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",zIndex:10,animation:a?"priceTagFadeIn 0.3s ease-out":"none",...T};return B?i.jsxs(i.Fragment,{children:[i.jsx("div",{style:u,children:i.jsx("div",{style:{fontSize:"14px",opacity:.8},children:C})}),a&&i.jsx("style",{children:`
            @keyframes priceTagFadeIn {
              from { opacity: 0; transform: translateY(-10px); }
              to { opacity: 1; transform: translateY(0); }
            }
          `})]}):w?i.jsxs(i.Fragment,{children:[i.jsx("div",{style:{...u,backgroundColor:"#e74c3c"},children:i.jsx("div",{style:{fontSize:"12px"},children:F})}),a&&i.jsx("style",{children:`
            @keyframes priceTagFadeIn {
              from { opacity: 0; transform: translateY(-10px); }
              to { opacity: 1; transform: translateY(0); }
            }
          `})]}):!n&&n!==0?null:i.jsxs(i.Fragment,{children:[i.jsxs("div",{style:u,children:[b&&i.jsx("div",{style:{fontSize:"11px",fontWeight:"normal",marginBottom:"2px",opacity:.9},children:b}),i.jsx("div",{style:{display:"flex",alignItems:"baseline",gap:"4px"},children:i.jsxs("span",{style:{fontSize:"20px"},children:[o,n]})}),l&&i.jsxs("div",{style:{fontSize:"12px",textDecoration:"line-through",opacity:.7,marginTop:"2px"},children:[o,l]}),g&&g>0&&i.jsxs("div",{style:{fontSize:"11px",marginTop:"4px",backgroundColor:"rgba(255,255,255,0.2)",padding:"2px 6px",borderRadius:"2px"},children:["çœ ",o,g.toFixed(2)]})]}),a&&i.jsx("style",{children:`
            @keyframes priceTagFadeIn {
              from {
                opacity: 0;
                transform: translateY(-10px);
              }
              to {
                opacity: 1;
                transform: translateY(0);
              }
            }
          `})]})};function h(r){return{name:"price-tag",version:"1.0.0",config:r,hooks:{renderOverlay:t=>{if(!t.imageState.isLoaded)return null;const s=t.config||r;return i.jsx(A,{config:s,context:t})}}}}const G=()=>{const r=x(p,[h({price:299.99,currency:"$",position:"bottom-left",originalPrice:499.99,discount:"40% OFF",showSavings:!0,animate:!0})]),t=x(p,[h({price:1999,currency:"Â¥",position:"top-left",animate:!0})]),s=x(p,[h({price:59.99,currency:"â‚¬",position:"bottom-right",animate:!0,backgroundColor:"#4ECDC4",textColor:"#1A535C",style:{borderRadius:"8px",padding:"12px 16px"}})]),o=x(p,[h({currency:"Â¥",position:"top-right",animate:!0,productId:"12345",fetchPrice:async()=>(await new Promise(m=>setTimeout(m,1500)),{price:1299.99,originalPrice:1999,discount:"é™æ—¶ä¼˜æƒ "}),showSavings:!0,loadingText:"æŸ¥è¯¢ä»·æ ¼...",errorText:"ä»·æ ¼æŸ¥è¯¢å¤±è´¥"})]);return i.jsxs(R,{title:"PriceTag Plugin",description:"å•†å“ä»·æ ¼æ ‡ç­¾æ’ä»¶ - åœ¨å›¾ç‰‡ä¸Šå åŠ ä»·æ ¼ä¿¡æ¯ï¼Œæ”¯æŒåŸä»·ã€æŠ˜æ‰£ã€èŠ‚çœé‡‘é¢ç­‰åŠŸèƒ½",children:[i.jsxs("div",{style:{marginBottom:40},children:[i.jsx("h3",{style:{marginBottom:10},children:"å®Œæ•´ä»·æ ¼ä¿¡æ¯ï¼ˆå¸¦æŠ˜æ‰£å’ŒèŠ‚çœé‡‘é¢ï¼‰"}),i.jsx("div",{style:{position:"relative",display:"inline-block"},children:i.jsx(r,{src:"https://picsum.photos/id/180/400/300",alt:"å•†å“å›¾ç‰‡ - å¸¦æŠ˜æ‰£",imageStyle:{borderRadius:"8px"}})})]}),i.jsxs("div",{style:{marginBottom:40},children:[i.jsx("h3",{style:{marginBottom:10},children:"ç®€å•ä»·æ ¼æ ‡ç­¾"}),i.jsx("div",{style:{position:"relative",display:"inline-block"},children:i.jsx(t,{src:"https://picsum.photos/id/201/400/300",alt:"å•†å“å›¾ç‰‡ - ç®€å•ä»·æ ¼",imageStyle:{borderRadius:"8px"}})})]}),i.jsxs("div",{style:{marginBottom:40},children:[i.jsx("h3",{style:{marginBottom:10},children:"è‡ªå®šä¹‰æ ·å¼ä»·æ ¼æ ‡ç­¾"}),i.jsx("div",{style:{position:"relative",display:"inline-block"},children:i.jsx(s,{src:"https://picsum.photos/id/250/400/300",alt:"å•†å“å›¾ç‰‡ - è‡ªå®šä¹‰æ ·å¼",imageStyle:{borderRadius:"8px"}})})]}),i.jsxs("div",{style:{marginBottom:40},children:[i.jsx("h3",{style:{marginBottom:10},children:"ğŸ”„ å¼‚æ­¥è·å–ä»·æ ¼ï¼ˆæ¨¡æ‹ŸAPIè¯·æ±‚ï¼‰"}),i.jsx("p",{style:{fontSize:14,color:"#666",marginBottom:10},children:"ä»·æ ¼æ•°æ®ä»APIå¼‚æ­¥è·å–ï¼Œæ˜¾ç¤ºåŠ è½½çŠ¶æ€"}),i.jsx("div",{style:{position:"relative",display:"inline-block"},children:i.jsx(o,{src:"https://picsum.photos/id/260/400/300",alt:"å•†å“å›¾ç‰‡ - å¼‚æ­¥ä»·æ ¼",imageStyle:{borderRadius:"8px"}})})]}),i.jsxs("div",{style:{marginTop:30,padding:20,backgroundColor:"#f5f5f5",borderRadius:8},children:[i.jsx("h4",{children:"ğŸ¯ åŠŸèƒ½ç‰¹æ€§"}),i.jsxs("ul",{style:{marginTop:10},children:[i.jsx("li",{children:"âœ… æ˜¾ç¤ºå½“å‰ä»·æ ¼ã€åŸä»·ã€æŠ˜æ‰£æ ‡ç­¾"}),i.jsx("li",{children:"âœ… è®¡ç®—å¹¶æ˜¾ç¤ºèŠ‚çœé‡‘é¢"}),i.jsx("li",{children:"âœ… æ”¯æŒå¤šç§è´§å¸ç¬¦å·"}),i.jsx("li",{children:"âœ… 4ä¸ªä½ç½®å¯é€‰ï¼ˆå››è§’ï¼‰"}),i.jsx("li",{children:"âœ… æ·¡å…¥åŠ¨ç”»æ•ˆæœ"}),i.jsx("li",{children:"âœ… å®Œå…¨è‡ªå®šä¹‰æ ·å¼"}),i.jsxs("li",{children:["ğŸ†• ",i.jsx("strong",{children:"æ”¯æŒå¼‚æ­¥ä»·æ ¼æ•°æ®è·å–ï¼ˆAPIé›†æˆï¼‰"})]}),i.jsxs("li",{children:["ğŸ†• ",i.jsx("strong",{children:"æ˜¾ç¤ºåŠ è½½å’Œé”™è¯¯çŠ¶æ€"})]})]}),i.jsx("h4",{style:{marginTop:20},children:"ğŸ’¡ ä½¿ç”¨åœºæ™¯"}),i.jsxs("ul",{style:{marginTop:10},children:[i.jsx("li",{children:"ğŸ›ï¸ ç”µå•†äº§å“åˆ—è¡¨"}),i.jsx("li",{children:"ğŸ’° ä¿ƒé”€æ´»åŠ¨é¡µé¢"}),i.jsx("li",{children:"ğŸ·ï¸ ç‰¹ä»·å•†å“å±•ç¤º"}),i.jsx("li",{children:"ğŸ“± ç§»åŠ¨ç«¯å•†åŸ"}),i.jsx("li",{children:"ğŸ”„ ä»APIåŠ¨æ€è·å–ä»·æ ¼çš„åœºæ™¯"}),i.jsx("li",{children:"ğŸŒ è·¨å¢ƒç”µå•†å®æ—¶æ±‡ç‡è½¬æ¢"})]})]})]})};export{G as default};
