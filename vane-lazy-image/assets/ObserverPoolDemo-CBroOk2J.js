import{r as s,j as e}from"./index-CAgh_i44.js";import{D as j}from"./DemoPage-DDy1Lp2W.js";import{g as o,a,L as y,s as f}from"./LazyLoadImageCore-BXC5ZDAL.js";import"./tomorrow-gtxudeWU.js";function O(){const[r,c]=s.useState(o()),[n,x]=s.useState(a()),[i,h]=s.useState(20),[l,g]=s.useState(!1);s.useEffect(()=>{const d=setInterval(()=>{c(o()),x(a())},500);return()=>clearInterval(d)},[]);const p=()=>{const d=!l;g(d),f(d)},b=r.observerCount>0?Math.round((1-r.observerCount/r.elementCount)*100):0;return e.jsxs(j,{title:"ObserverPool - IntersectionObserver å…±äº«æ± ",description:"å¤šä¸ªç»„ä»¶å…±äº« Observer å®žä¾‹ï¼Œå‡å°‘ 97-99.5% çš„èµ„æºå ç”¨",children:[e.jsxs("div",{style:{marginBottom:24},children:[e.jsx("h3",{children:"ðŸŽ¯ æ ¸å¿ƒä¼˜åŠ¿"}),e.jsxs("ul",{style:{lineHeight:1.8},children:[e.jsxs("li",{children:["âœ… ",e.jsx("strong",{children:"æ± åŒ–ç®¡ç†"}),": ç›¸åŒé…ç½®å…±äº«ä¸€ä¸ª Observer"]}),e.jsxs("li",{children:["âœ… ",e.jsx("strong",{children:"å¤§å¹…å‡å°‘å®žä¾‹"}),": 100 å¼ å›¾ç‰‡ä»Ž 100 ä¸ªå‡å°‘åˆ° 1-3 ä¸ª (â¬‡ï¸ 97%)"]}),e.jsxs("li",{children:["âœ… ",e.jsx("strong",{children:"å†…å­˜ä¼˜åŒ–"}),": å‡å°‘ 87-90% çš„å†…å­˜å ç”¨"]}),e.jsxs("li",{children:["âœ… ",e.jsx("strong",{children:"æ»šåŠ¨æ€§èƒ½"}),": æ˜¾è‘—æå‡æ»šåŠ¨æµç•…åº¦"]}),e.jsxs("li",{children:["âœ… ",e.jsx("strong",{children:"è‡ªåŠ¨æ¸…ç†"}),": æ¯ 60 ç§’æ¸…ç†ç©ºé—² Observer"]})]})]}),e.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:24,borderRadius:12,marginBottom:24},children:[e.jsx("h3",{style:{margin:"0 0 16px 0",color:"white"},children:"ðŸŽ® æŽ§åˆ¶é¢æ¿"}),e.jsxs("div",{style:{display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{marginRight:8},children:"å›¾ç‰‡æ•°é‡:"}),e.jsxs("select",{value:i,onChange:d=>h(Number(d.target.value)),style:{padding:"8px 12px",borderRadius:6,border:"none"},children:[e.jsx("option",{value:10,children:"10 å¼  (å°è§„æ¨¡)"}),e.jsx("option",{value:20,children:"20 å¼  (å°è§„æ¨¡)"}),e.jsx("option",{value:50,children:"50 å¼  (ä¸­ç­‰è§„æ¨¡)"}),e.jsx("option",{value:100,children:"100 å¼  (ä¸­ç­‰è§„æ¨¡)"}),e.jsx("option",{value:200,children:"200 å¼  (å¤§è§„æ¨¡)"})]})]}),e.jsx("button",{onClick:p,style:{padding:"8px 16px",borderRadius:6,border:"none",background:l?"#22c55e":"#94a3b8",color:"white",cursor:"pointer",fontWeight:"bold"},children:l?"âœ… è°ƒè¯•æ¨¡å¼å¼€å¯":"è°ƒè¯•æ¨¡å¼å…³é—­"})]})]}),e.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:24,borderRadius:12,marginBottom:24},children:[e.jsx("h3",{style:{margin:"0 0 16px 0",color:"white"},children:"ðŸ“Š å®žæ—¶ç»Ÿè®¡"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:16},children:[e.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:16,borderRadius:8},children:[e.jsx("div",{style:{fontSize:32,fontWeight:"bold"},children:r.observerCount}),e.jsx("div",{style:{opacity:.9},children:"Observer å®žä¾‹"})]}),e.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:16,borderRadius:8},children:[e.jsx("div",{style:{fontSize:32,fontWeight:"bold"},children:r.elementCount}),e.jsx("div",{style:{opacity:.9},children:"è§‚å¯Ÿçš„å…ƒç´ "})]}),e.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:16,borderRadius:8},children:[e.jsx("div",{style:{fontSize:32,fontWeight:"bold"},children:r.averageElementsPerObserver}),e.jsx("div",{style:{opacity:.9},children:"å¹³å‡å…ƒç´ /Observer"})]}),e.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:16,borderRadius:8},children:[e.jsxs("div",{style:{fontSize:32,fontWeight:"bold"},children:[b,"%"]}),e.jsx("div",{style:{opacity:.9},children:"èµ„æºèŠ‚çœ"})]}),e.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:16,borderRadius:8},children:[e.jsx("div",{style:{fontSize:32,fontWeight:"bold"},children:r.totalCallbackExecutions}),e.jsx("div",{style:{opacity:.9},children:"å›žè°ƒæ‰§è¡Œæ¬¡æ•°"})]}),e.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:16,borderRadius:8},children:[e.jsx("div",{style:{fontSize:32,fontWeight:"bold"},children:r.memoryEstimate}),e.jsx("div",{style:{opacity:.9},children:"å†…å­˜ä¼°ç®—"})]})]})]}),n.length>0&&e.jsxs("div",{style:{background:"#f0f9ff",border:"2px solid #0ea5e9",padding:20,borderRadius:8,marginBottom:24},children:[e.jsx("h3",{style:{margin:"0 0 12px 0",color:"#0369a1"},children:"ðŸ” Observer è¯¦æƒ…"}),e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{style:{width:"100%",fontSize:14,borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"#e0f2fe"},children:[e.jsx("th",{style:{padding:8,textAlign:"left",border:"1px solid #7dd3fc"},children:"é…ç½®é”®"}),e.jsx("th",{style:{padding:8,textAlign:"center",border:"1px solid #7dd3fc"},children:"å…ƒç´ æ•°"}),e.jsx("th",{style:{padding:8,textAlign:"center",border:"1px solid #7dd3fc"},children:"å›žè°ƒæ¬¡æ•°"}),e.jsx("th",{style:{padding:8,textAlign:"center",border:"1px solid #7dd3fc"},children:"å­˜æ´»æ—¶é—´"})]})}),e.jsx("tbody",{children:n.map((d,t)=>e.jsxs("tr",{children:[e.jsx("td",{style:{padding:8,border:"1px solid #7dd3fc",fontFamily:"monospace",fontSize:12,maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:d.key}),e.jsx("td",{style:{padding:8,textAlign:"center",border:"1px solid #7dd3fc"},children:d.elementCount}),e.jsx("td",{style:{padding:8,textAlign:"center",border:"1px solid #7dd3fc"},children:d.totalCallbacks}),e.jsxs("td",{style:{padding:8,textAlign:"center",border:"1px solid #7dd3fc"},children:[Math.round((Date.now()-d.createdAt)/1e3),"s"]})]},t))})]})})]}),e.jsxs("div",{style:{background:"#f0fdf4",border:"2px solid #22c55e",padding:20,borderRadius:8,marginBottom:24},children:[e.jsx("h3",{style:{margin:"0 0 12px 0",color:"#15803d"},children:"âš¡ æ€§èƒ½å¯¹æ¯”"}),e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"#dcfce7"},children:[e.jsx("th",{style:{padding:8,textAlign:"left",border:"1px solid #86efac"},children:"åœºæ™¯"}),e.jsx("th",{style:{padding:8,textAlign:"center",border:"1px solid #86efac"},children:"æ”¹è¿›å‰"}),e.jsx("th",{style:{padding:8,textAlign:"center",border:"1px solid #86efac"},children:"æ”¹è¿›åŽ"}),e.jsx("th",{style:{padding:8,textAlign:"center",border:"1px solid #86efac"},children:"æå‡"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{padding:8,border:"1px solid #86efac"},children:"20å¼ å›¾ç‰‡"}),e.jsx("td",{style:{padding:8,textAlign:"center",border:"1px solid #86efac"},children:"20ä¸ª Observer"}),e.jsx("td",{style:{padding:8,textAlign:"center",border:"1px solid #86efac"},children:"1-2ä¸ª Observer"}),e.jsx("td",{style:{padding:8,textAlign:"center",border:"1px solid #86efac",fontWeight:"bold",color:"#15803d"},children:"â¬‡ï¸ 90-95%"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{padding:8,border:"1px solid #86efac"},children:"100å¼ å›¾ç‰‡"}),e.jsx("td",{style:{padding:8,textAlign:"center",border:"1px solid #86efac"},children:"100ä¸ª Observer"}),e.jsx("td",{style:{padding:8,textAlign:"center",border:"1px solid #86efac"},children:"1-3ä¸ª Observer"}),e.jsx("td",{style:{padding:8,textAlign:"center",border:"1px solid #86efac",fontWeight:"bold",color:"#15803d"},children:"â¬‡ï¸ 97%"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{padding:8,border:"1px solid #86efac"},children:"1000å¼ å›¾ç‰‡"}),e.jsx("td",{style:{padding:8,textAlign:"center",border:"1px solid #86efac"},children:"1000ä¸ª Observer"}),e.jsx("td",{style:{padding:8,textAlign:"center",border:"1px solid #86efac"},children:"1-5ä¸ª Observer"}),e.jsx("td",{style:{padding:8,textAlign:"center",border:"1px solid #86efac",fontWeight:"bold",color:"#15803d"},children:"â¬‡ï¸ 99.5%"})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{children:["ðŸ“¸ å›¾ç‰‡ç½‘æ ¼ (",i," å¼ )"]}),e.jsxs("p",{style:{color:"#64748b",marginBottom:16},children:["æ»šåŠ¨é¡µé¢è§‚å¯Ÿç»Ÿè®¡æ•°æ®çš„å˜åŒ–ã€‚æ‰€æœ‰å›¾ç‰‡å…±äº« ",r.observerCount," ä¸ª Observer å®žä¾‹ã€‚"]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:12},children:Array.from({length:i},(d,t)=>e.jsxs("div",{style:{border:"2px solid #e2e8f0",borderRadius:8,overflow:"hidden",background:"#fff"},children:[e.jsx(y,{src:`https://picsum.photos/150/150?random=${t+100}`,alt:`Image ${t+1}`,loading:"lazy",imageStyle:{width:"100%",display:"block"}}),e.jsxs("div",{style:{padding:6,fontSize:11,color:"#64748b",textAlign:"center"},children:["#",t+1]})]},t))})]})]})}export{O as default};
