import{j as t}from"./index-D8F4DWO3.js";import{D as n}from"./DemoPage-Cm4QH0wv.js";import{w as o}from"./index-B42FZQrT.js";import{L as s}from"./LazyLoadImageCore-CJJrIobl.js";import{c as l}from"./index-DYHylxLS.js";import"./tomorrow-CQx5l04T.js";import"./GlobalContext-DYUf_pwM.js";function c(e,i,r){try{e.searchParams.get(i)||e.searchParams.set(i,r)}catch{}}function d(e={}){return{name:"auth",version:"1.0.0",config:e,hooks:{transformProps:i=>{let r={...i};try{const a=typeof e.token=="function"?e.token():e.token;if(a){const h=new URL(r.src,typeof window<"u"?window.location.origin:"http://localhost");c(h,e.tokenParam??"token",a),r.src=h.toString()}e.crossOrigin&&(r.crossOrigin=e.crossOrigin),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy)}catch{}return r}}}}const m=o(s,[d({token:()=>"demo-token-123",tokenParam:"auth"})]),p=o(s,[]),y=o(s,[l({retryText:"重试"})]);function P(){return t.jsx(n,{title:"Auth 插件示例",description:"演示有/无鉴权参数的差异，并附带一个受限资源的失败示例。",children:t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:12},children:[t.jsxs("div",{children:[t.jsx("h4",{style:{margin:"8px 0"},children:"有授权参数"}),t.jsx("div",{style:{width:320,height:200},children:t.jsx(m,{src:"https://picsum.photos/seed/auth-demo/800/600",loading:"lazy",containerStyle:{width:"100%",height:"100%"},imageStyle:{width:"100%",height:"100%",objectFit:"cover"}})})]}),t.jsxs("div",{children:[t.jsx("h4",{style:{margin:"8px 0"},children:"无授权参数"}),t.jsx("div",{style:{width:320,height:200},children:t.jsx(p,{src:"https://picsum.photos/seed/no-auth-demo/800/600",loading:"lazy",containerStyle:{width:"100%",height:"100%"},imageStyle:{width:"100%",height:"100%",objectFit:"cover"}})})]}),t.jsxs("div",{children:[t.jsx("h4",{style:{margin:"8px 0"},children:"受限资源（模拟 403/404）"}),t.jsx("div",{style:{width:320,height:200},children:t.jsx(y,{src:"https://invalid.example.com/secure.jpg",loading:"lazy",containerStyle:{width:"100%",height:"100%"},imageStyle:{width:"100%",height:"100%",objectFit:"cover"}})})]})]})})}export{P as default};
