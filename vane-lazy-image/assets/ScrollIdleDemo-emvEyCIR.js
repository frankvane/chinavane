import{R as r,j as t}from"./index-DYgqlTni.js";import{r as l,_ as d,S as m,L as h,n as c,a as p,c as g,l as u,d as x,y as f,s as y}from"./index.es-GGdYOdPG.js";import{D as b}from"./DemoPage-D1_mDGmg.js";import"./tomorrow-CqI3LVar.js";const w=l(y,[d({maxEntries:300,ttlMs:60*60*1e3,debug:!1}),m({ttlMs:7*24*60*60*1e3,debug:!1}),h({idleMs:160,maxWaitMs:1200,onlyWhenIntersecting:!0,debug:!1}),c({enabled:!0}),p({showWhen:"loading",height:3,color:"#ff7f50",showPercentText:!0}),g({type:"shimmer",showWhen:"loading",borderRadius:6,zIndex:1}),u({content:a=>`ScrollIdle • ${new URL(a.src,window.location.origin).pathname}`,position:"bottom",background:"rgba(0,0,0,0.35)",color:"#fff",showWhen:"loading",zIndex:4}),x({domains:["https://picsum.photos"]}),f({enabled:!0,prefix:"[SI-Demo]"})]);function L(){const[a,n]=r.useState(Array.from({length:90}).map((s,e)=>`https://picsum.photos/seed/si-demo-${e+1}/800/600`)),o=()=>{const s=Array.from({length:10}).map((e,i)=>`https://picsum.photos/seed/si-demo-${Date.now()}-${i}/800/600`);n(e=>[...e,...s])};return t.jsxs(b,{title:"LazyLoadImagePlugin • 滚动空闲示例",description:"滚动页面，加载将等待空闲以提升流畅度",children:[t.jsx("div",{style:{marginBottom:12},children:t.jsx("button",{onClick:o,style:{padding:"6px 10px"},children:"批量添加图片"})}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:12},children:a.map((s,e)=>t.jsx("div",{style:{width:320,height:200,position:"relative"},children:t.jsx(w,{src:s,loading:"lazy",rootMargin:"300px",containerStyle:{width:"100%",height:"100%"},imageStyle:{width:"100%",height:"100%",objectFit:"cover"},containerClassName:"lazy-image-container"})},s+e))})]})}export{L as default};
