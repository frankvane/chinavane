function w(t,r){try{const e=new URL(t);return e.searchParams.set("w",String(r)),e.toString()}catch{return t.includes("?")?`${t}&w=${r}`:`${t}?w=${r}`}}function l(t={}){const{enabled:r=!0,variants:e=[{width:400},{width:800},{width:1200}],buildSrc:o=w,sizes:a="(max-width: 800px) 100vw, 800px"}=t;return{name:"responsive",version:"1.0.0",config:t,hooks:{onLoadSuccess:s=>{var u;if(!r)return;const n=(u=s.imageRef)==null?void 0:u.current;if(!n)return;const i=s.src,d=e.map(c=>`${c.src??o(i,c.width)} ${c.width}w`);try{n.setAttribute("srcset",d.join(", ")),n.setAttribute("sizes",a)}catch{}},onSrcChange:(s,n,i)=>!0}}}export{l as c};
