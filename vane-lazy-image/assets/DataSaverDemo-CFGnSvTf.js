import{j as n}from"./index-CAgh_i44.js";import{D as d}from"./DemoPage-DDy1Lp2W.js";import{w as p}from"./index-BUiUrMm6.js";import{L as h}from"./LazyLoadImageCore-BXC5ZDAL.js";import"./tomorrow-gtxudeWU.js";import"./GlobalContext-DYUf_pwM.js";function f(t,a,e){try{const o=new URL(t,typeof window<"u"?window.location.origin:"http://localhost");return o.searchParams.set(a,e),o.toString()}catch{const o=t.includes("?")?"&":"?";return`${t}${o}${encodeURIComponent(a)}=${encodeURIComponent(e)}`}}function g(t={}){const{respectSaveData:a=!0,fallbackQuality:e=.6,disablePreload:o=!0,qualityParam:c="quality"}=t;return{name:"data-saver",version:"1.0.0",config:t,hooks:{transformProps:r=>{var i;try{const l=((i=navigator==null?void 0:navigator.connection)==null?void 0:i.saveData)===!0;if(!a||!l)return r;const m=Math.max(0,Math.min(1,e)),u=f(r.src,c,String(m)),s={...r,src:u};return o&&(s.loading="lazy"),s}catch{return r}}}}}const y=p(h,[g({respectSaveData:!0,fallbackQuality:.5,disablePreload:!0,qualityParam:"q"})]);function b(){const t=["https://images.unsplash.com/photo-1503023345310-bd7c1de61c7d?w=1280&auto=format&fit=crop","https://images.unsplash.com/photo-1526914706405-6cc2ff1d4c9e?w=1280&auto=format&fit=crop","https://images.unsplash.com/photo-1478810811738-1b1c1f8cbc51?w=1280&auto=format&fit=crop"];return n.jsx(d,{title:"DataSaver 插件示例",description:"当浏览器开启数据节省（Save-Data）时，插件自动在 URL 追加质量参数并将图片设为懒加载。",children:n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:12},children:t.map((a,e)=>n.jsx("div",{style:{width:320,height:200},children:n.jsx(y,{src:a,alt:`DataSaver ${e+1}`,loading:"lazy",rootMargin:"300px",containerStyle:{width:"100%",height:"100%"},imageStyle:{width:"100%",height:"100%",objectFit:"cover"}})},a+e))})})}export{b as default};
